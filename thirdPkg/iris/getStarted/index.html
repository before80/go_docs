<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/go_docs/favicons/favicon.ico><link rel=apple-touch-icon href=/go_docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/go_docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/go_docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/go_docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/go_docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/go_docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/go_docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/go_docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/go_docs/favicons/android-192x192.png sizes=192x192><title>开始入门 | Go 中文档集</title><meta name=description content="原文：https://www.iris-go.com/docs/#/ Installation 安装 Iris is a cross-platform software. ​ Iris 是一个跨平台软件。 The only requirement is the Go Programming Language, version 1.20 and above. ​ 唯一的要"><meta property="og:title" content="开始入门"><meta property="og:description" content="原文：https://www.iris-go.com/docs/#/ Installation 安装 Iris is a cross-platform software. ​ Iris 是一个跨平台软件。 The only requirement is the Go Programming Language, version 1.20 and above. ​ 唯一的要"><meta property="og:type" content="article"><meta property="og:url" content="https://before80.github.io/go_docs/thirdPkg/iris/getStarted/"><meta property="article:section" content="thirdPkg"><meta property="article:published_time" content="2024-01-31T19:47:27+08:00"><meta property="article:modified_time" content="2024-10-10T15:07:50+08:00"><meta itemprop=name content="开始入门"><meta itemprop=description content="原文：https://www.iris-go.com/docs/#/ Installation 安装 Iris is a cross-platform software. ​ Iris 是一个跨平台软件。 The only requirement is the Go Programming Language, version 1.20 and above. ​ 唯一的要"><meta itemprop=datePublished content="2024-01-31T19:47:27+08:00"><meta itemprop=dateModified content="2024-10-10T15:07:50+08:00"><meta itemprop=wordCount content="16429"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="开始入门"><meta name=twitter:description content="原文：https://www.iris-go.com/docs/#/ Installation 安装 Iris is a cross-platform software. ​ Iris 是一个跨平台软件。 The only requirement is the Go Programming Language, version 1.20 and above. ​ 唯一的要"><link rel=preload href=/go_docs/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css as=style><link href=/go_docs/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css rel=stylesheet integrity><link href=/go_docs/css/extra.css rel=stylesheet><link href=/go_docs/css/tocbot.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3.6.0 integrity="sha512-AyDFDkYyALC5qoao077IqAOV7UC4oKCBTp+mJfjIt306AIRoBxoEZYDo0kAx/R7RbT+3EYEky1po/F1w1eQt7g==" crossorigin=anonymous></head><body class=td-page><header><nav class="td-navbar navbar-dark js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/go_docs/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>Go 中文档集</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=javascript:; id=show-timer style=color:#fe4512f5!important></a></li><li class=nav-item><a class=nav-link href=/go_docs/refs/><span>参考</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/comm/><span>对比</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/tools/><span>工具</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/langSpec/><span>语规</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/styleGuide/><span>编规</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/example/><span>示例</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/asu/><span>汇总</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/fx/><span>分析</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/docs/><span>文档</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/cmd/><span>go命令</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/stdLib/><span>标准库</span></a></li><li class=nav-item><a class="nav-link active" href=/go_docs/thirdPkg/><span>第三方包</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/delve/><span>delve</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/rod/><span>rod</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/goframe/><span>goframe</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/gorm/><span>gorm</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/echo/><span>echo</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/fiber/><span>fiber</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/buffalo/><span>buffalo</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/beego/><span>beego</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/goBlog/><span>官博</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/proposal/><span>提案</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg><button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true><svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search--algolia id=docsearch-1></div></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search--algolia id=docsearch-0></div></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-go_docsthirdpkg-li><a href=/go_docs/thirdPkg/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-go_docsthirdpkg><span>第三方包</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkggods-li><input type=checkbox id=m-go_docsthirdpkggods-check>
<label for=m-go_docsthirdpkggods-check><a href=/go_docs/thirdPkg/gods/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggods><span>GoDS (Go Data Structures)</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsutils-li><input type=checkbox id=m-go_docsthirdpkggodsutils-check>
<label for=m-go_docsthirdpkggodsutils-check><a href=/go_docs/thirdPkg/gods/utils/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsutils><span>utils</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodstestutils-li><input type=checkbox id=m-go_docsthirdpkggodstestutils-check>
<label for=m-go_docsthirdpkggodstestutils-check><a href=/go_docs/thirdPkg/gods/testutils/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodstestutils><span>testutils</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodscontainers-li><input type=checkbox id=m-go_docsthirdpkggodscontainers-check>
<label for=m-go_docsthirdpkggodscontainers-check><a href=/go_docs/thirdPkg/gods/containers/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodscontainers><span>containers</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkggodslists-li><input type=checkbox id=m-go_docsthirdpkggodslists-check>
<label for=m-go_docsthirdpkggodslists-check><a href=/go_docs/thirdPkg/gods/lists/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggodslists><span>lists</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodslistsarraylist-li><input type=checkbox id=m-go_docsthirdpkggodslistsarraylist-check>
<label for=m-go_docsthirdpkggodslistsarraylist-check><a href=/go_docs/thirdPkg/gods/lists/arraylist/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodslistsarraylist><span>arraylist</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodslistsdoublylinkedlist-li><input type=checkbox id=m-go_docsthirdpkggodslistsdoublylinkedlist-check>
<label for=m-go_docsthirdpkggodslistsdoublylinkedlist-check><a href=/go_docs/thirdPkg/gods/lists/doublylinkedlist/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodslistsdoublylinkedlist><span>doublylinkedlist</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodslistssinglylinkedlist-li><input type=checkbox id=m-go_docsthirdpkggodslistssinglylinkedlist-check>
<label for=m-go_docsthirdpkggodslistssinglylinkedlist-check><a href=/go_docs/thirdPkg/gods/lists/singlylinkedlist/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodslistssinglylinkedlist><span>singlylinkedlist</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkggodsmaps-li><input type=checkbox id=m-go_docsthirdpkggodsmaps-check>
<label for=m-go_docsthirdpkggodsmaps-check><a href=/go_docs/thirdPkg/gods/maps/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggodsmaps><span>maps</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsmapshashbidimap-li><input type=checkbox id=m-go_docsthirdpkggodsmapshashbidimap-check>
<label for=m-go_docsthirdpkggodsmapshashbidimap-check><a href=/go_docs/thirdPkg/gods/maps/hashbidimap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsmapshashbidimap><span>hashbidimap</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsmapshashmap-li><input type=checkbox id=m-go_docsthirdpkggodsmapshashmap-check>
<label for=m-go_docsthirdpkggodsmapshashmap-check><a href=/go_docs/thirdPkg/gods/maps/hashmap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsmapshashmap><span>hashmap</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsmapslinkedhashmap-li><input type=checkbox id=m-go_docsthirdpkggodsmapslinkedhashmap-check>
<label for=m-go_docsthirdpkggodsmapslinkedhashmap-check><a href=/go_docs/thirdPkg/gods/maps/linkedhashmap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsmapslinkedhashmap><span>linkedhashmap</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsmapstreebidimap-li><input type=checkbox id=m-go_docsthirdpkggodsmapstreebidimap-check>
<label for=m-go_docsthirdpkggodsmapstreebidimap-check><a href=/go_docs/thirdPkg/gods/maps/treebidimap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsmapstreebidimap><span>treebidimap</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsmapstreemap-li><input type=checkbox id=m-go_docsthirdpkggodsmapstreemap-check>
<label for=m-go_docsthirdpkggodsmapstreemap-check><a href=/go_docs/thirdPkg/gods/maps/treemap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsmapstreemap><span>treemap</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkggodsqueues-li><input type=checkbox id=m-go_docsthirdpkggodsqueues-check>
<label for=m-go_docsthirdpkggodsqueues-check><a href=/go_docs/thirdPkg/gods/queues/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggodsqueues><span>queues</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsqueuesarrayqueue-li><input type=checkbox id=m-go_docsthirdpkggodsqueuesarrayqueue-check>
<label for=m-go_docsthirdpkggodsqueuesarrayqueue-check><a href=/go_docs/thirdPkg/gods/queues/arrayqueue/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsqueuesarrayqueue><span>arrayqueue</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsqueuescircularbuffer-li><input type=checkbox id=m-go_docsthirdpkggodsqueuescircularbuffer-check>
<label for=m-go_docsthirdpkggodsqueuescircularbuffer-check><a href=/go_docs/thirdPkg/gods/queues/circularbuffer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsqueuescircularbuffer><span>circularbuffer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsqueueslinkedlistqueue-li><input type=checkbox id=m-go_docsthirdpkggodsqueueslinkedlistqueue-check>
<label for=m-go_docsthirdpkggodsqueueslinkedlistqueue-check><a href=/go_docs/thirdPkg/gods/queues/linkedlistqueue/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsqueueslinkedlistqueue><span>linkedlistqueue</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsqueuespriorityqueue-li><input type=checkbox id=m-go_docsthirdpkggodsqueuespriorityqueue-check>
<label for=m-go_docsthirdpkggodsqueuespriorityqueue-check><a href=/go_docs/thirdPkg/gods/queues/priorityqueue/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsqueuespriorityqueue><span>priorityqueue</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkggodssets-li><input type=checkbox id=m-go_docsthirdpkggodssets-check>
<label for=m-go_docsthirdpkggodssets-check><a href=/go_docs/thirdPkg/gods/sets/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggodssets><span>sets</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodssetshashset-li><input type=checkbox id=m-go_docsthirdpkggodssetshashset-check>
<label for=m-go_docsthirdpkggodssetshashset-check><a href=/go_docs/thirdPkg/gods/sets/hashset/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodssetshashset><span>hashset</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodssetslinkedhashset-li><input type=checkbox id=m-go_docsthirdpkggodssetslinkedhashset-check>
<label for=m-go_docsthirdpkggodssetslinkedhashset-check><a href=/go_docs/thirdPkg/gods/sets/linkedhashset/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodssetslinkedhashset><span>linkedhashset</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodssetstreeset-li><input type=checkbox id=m-go_docsthirdpkggodssetstreeset-check>
<label for=m-go_docsthirdpkggodssetstreeset-check><a href=/go_docs/thirdPkg/gods/sets/treeset/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodssetstreeset><span>treeset</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkggodsstacks-li><input type=checkbox id=m-go_docsthirdpkggodsstacks-check>
<label for=m-go_docsthirdpkggodsstacks-check><a href=/go_docs/thirdPkg/gods/stacks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggodsstacks><span>stacks</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsstacksarraystack-li><input type=checkbox id=m-go_docsthirdpkggodsstacksarraystack-check>
<label for=m-go_docsthirdpkggodsstacksarraystack-check><a href=/go_docs/thirdPkg/gods/stacks/arraystack/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsstacksarraystack><span>arraystack</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodsstackslinkedliststack-li><input type=checkbox id=m-go_docsthirdpkggodsstackslinkedliststack-check>
<label for=m-go_docsthirdpkggodsstackslinkedliststack-check><a href=/go_docs/thirdPkg/gods/stacks/linkedliststack/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodsstackslinkedliststack><span>linkedliststack</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkggodstrees-li><input type=checkbox id=m-go_docsthirdpkggodstrees-check>
<label for=m-go_docsthirdpkggodstrees-check><a href=/go_docs/thirdPkg/gods/trees/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggodstrees><span>trees</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodstreesavltree-li><input type=checkbox id=m-go_docsthirdpkggodstreesavltree-check>
<label for=m-go_docsthirdpkggodstreesavltree-check><a href=/go_docs/thirdPkg/gods/trees/avltree/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodstreesavltree><span>avltree</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodstreesbinaryheap-li><input type=checkbox id=m-go_docsthirdpkggodstreesbinaryheap-check>
<label for=m-go_docsthirdpkggodstreesbinaryheap-check><a href=/go_docs/thirdPkg/gods/trees/binaryheap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodstreesbinaryheap><span>binaryheap</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodstreesbtree-li><input type=checkbox id=m-go_docsthirdpkggodstreesbtree-check>
<label for=m-go_docsthirdpkggodstreesbtree-check><a href=/go_docs/thirdPkg/gods/trees/btree/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodstreesbtree><span>btree</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggodstreesredblacktree-li><input type=checkbox id=m-go_docsthirdpkggodstreesredblacktree-check>
<label for=m-go_docsthirdpkggodstreesredblacktree-check><a href=/go_docs/thirdPkg/gods/trees/redblacktree/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggodstreesredblacktree><span>redblacktree</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkgotel-trace-li><input type=checkbox id=m-go_docsthirdpkgotel-trace-check>
<label for=m-go_docsthirdpkgotel-trace-check><a href=/go_docs/thirdPkg/otel-trace/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkgotel-trace><span>otel/trace</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgotel-tracetrace_docs-li><input type=checkbox id=m-go_docsthirdpkgotel-tracetrace_docs-check>
<label for=m-go_docsthirdpkgotel-tracetrace_docs-check><a href=/go_docs/thirdPkg/otel-trace/trace_docs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgotel-tracetrace_docs><span>trace文档</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-go_docsthirdpkgiris-li><input type=checkbox id=m-go_docsthirdpkgiris-check checked>
<label for=m-go_docsthirdpkgiris-check><a href=/go_docs/thirdPkg/iris/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkgiris><span>Iris</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-go_docsthirdpkgirisgetstarted-li><input type=checkbox id=m-go_docsthirdpkgirisgetstarted-check checked>
<label for=m-go_docsthirdpkgirisgetstarted-check><a href=/go_docs/thirdPkg/iris/getStarted/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgirisgetstarted><span class=td-sidebar-nav-active-item>开始入门</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgirisiris-li><input type=checkbox id=m-go_docsthirdpkgirisiris-check>
<label for=m-go_docsthirdpkgirisiris-check><a href=/go_docs/thirdPkg/iris/iris/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgirisiris><span>Iris在pkg.go.dev上的文档</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkgchi-li><input type=checkbox id=m-go_docsthirdpkgchi-check>
<label for=m-go_docsthirdpkgchi-check><a href=/go_docs/thirdPkg/chi/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkgchi><span>chi</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkgchiexamples-li><input type=checkbox id=m-go_docsthirdpkgchiexamples-check>
<label for=m-go_docsthirdpkgchiexamples-check><a href=/go_docs/thirdPkg/chi/examples/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkgchiexamples><span>示例</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexamplescustomhandler-li><input type=checkbox id=m-go_docsthirdpkgchiexamplescustomhandler-check>
<label for=m-go_docsthirdpkgchiexamplescustomhandler-check><a href=/go_docs/thirdPkg/chi/examples/customHandler/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexamplescustomhandler><span>custom handler</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexamplescustommethod-li><input type=checkbox id=m-go_docsthirdpkgchiexamplescustommethod-check>
<label for=m-go_docsthirdpkgchiexamplescustommethod-check><a href=/go_docs/thirdPkg/chi/examples/customMethod/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexamplescustommethod><span>custom method</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexamplesfileserver-li><input type=checkbox id=m-go_docsthirdpkgchiexamplesfileserver-check>
<label for=m-go_docsthirdpkgchiexamplesfileserver-check><a href=/go_docs/thirdPkg/chi/examples/fileServer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexamplesfileserver><span>file server</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexamplesgraceful-li><input type=checkbox id=m-go_docsthirdpkgchiexamplesgraceful-check>
<label for=m-go_docsthirdpkgchiexamplesgraceful-check><a href=/go_docs/thirdPkg/chi/examples/graceful/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexamplesgraceful><span>graceful</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexampleshelloworld-li><input type=checkbox id=m-go_docsthirdpkgchiexampleshelloworld-check>
<label for=m-go_docsthirdpkgchiexampleshelloworld-check><a href=/go_docs/thirdPkg/chi/examples/helloWorld/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexampleshelloworld><span>hello world</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexampleslimits-li><input type=checkbox id=m-go_docsthirdpkgchiexampleslimits-check>
<label for=m-go_docsthirdpkgchiexampleslimits-check><a href=/go_docs/thirdPkg/chi/examples/limits/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexampleslimits><span>limits</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexampleslogging-li><input type=checkbox id=m-go_docsthirdpkgchiexampleslogging-check>
<label for=m-go_docsthirdpkgchiexampleslogging-check><a href=/go_docs/thirdPkg/chi/examples/logging/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexampleslogging><span>logging</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexamplesrest-li><input type=checkbox id=m-go_docsthirdpkgchiexamplesrest-check>
<label for=m-go_docsthirdpkgchiexamplesrest-check><a href=/go_docs/thirdPkg/chi/examples/rest/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexamplesrest><span>rest</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexamplesrouterwalk-li><input type=checkbox id=m-go_docsthirdpkgchiexamplesrouterwalk-check>
<label for=m-go_docsthirdpkgchiexamplesrouterwalk-check><a href=/go_docs/thirdPkg/chi/examples/routerWalk/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexamplesrouterwalk><span>router walk</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexamplestodosresource-li><input type=checkbox id=m-go_docsthirdpkgchiexamplestodosresource-check>
<label for=m-go_docsthirdpkgchiexamplestodosresource-check><a href=/go_docs/thirdPkg/chi/examples/todosResource/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexamplestodosresource><span>todos resource</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiexamplesversions-li><input type=checkbox id=m-go_docsthirdpkgchiexamplesversions-check>
<label for=m-go_docsthirdpkgchiexamplesversions-check><a href=/go_docs/thirdPkg/chi/examples/versions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiexamplesversions><span>versions</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchitesting-li><input type=checkbox id=m-go_docsthirdpkgchitesting-check>
<label for=m-go_docsthirdpkgchitesting-check><a href=/go_docs/thirdPkg/chi/testing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchitesting><span>测试</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchimiddleware-li><input type=checkbox id=m-go_docsthirdpkgchimiddleware-check>
<label for=m-go_docsthirdpkgchimiddleware-check><a href=/go_docs/thirdPkg/chi/middleware/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchimiddleware><span>中间件</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchiintroduction-li><input type=checkbox id=m-go_docsthirdpkgchiintroduction-check>
<label for=m-go_docsthirdpkgchiintroduction-check><a href=/go_docs/thirdPkg/chi/introduction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchiintroduction><span>简介</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchigetstarted-li><input type=checkbox id=m-go_docsthirdpkgchigetstarted-check>
<label for=m-go_docsthirdpkgchigetstarted-check><a href=/go_docs/thirdPkg/chi/getStarted/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchigetstarted><span>开始入门</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgchirouting-li><input type=checkbox id=m-go_docsthirdpkgchirouting-check>
<label for=m-go_docsthirdpkgchirouting-check><a href=/go_docs/thirdPkg/chi/routing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgchirouting><span>routing</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkgcobra-li><input type=checkbox id=m-go_docsthirdpkgcobra-check>
<label for=m-go_docsthirdpkgcobra-check><a href=/go_docs/thirdPkg/Cobra/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkgcobra><span>Cobra</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgcobracobra-cli-li><input type=checkbox id=m-go_docsthirdpkgcobracobra-cli-check>
<label for=m-go_docsthirdpkgcobracobra-cli-check><a href=/go_docs/thirdPkg/Cobra/cobra-cli/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgcobracobra-cli><span>cobra-cli 之 Cobra Generator</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgcobracobradoc-li><input type=checkbox id=m-go_docsthirdpkgcobracobradoc-check>
<label for=m-go_docsthirdpkgcobracobradoc-check><a href=/go_docs/thirdPkg/Cobra/CobraDoc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgcobracobradoc><span>Cobra 在pkg.go.dev上的文档</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgpflag-li><input type=checkbox id=m-go_docsthirdpkgpflag-check>
<label for=m-go_docsthirdpkgpflag-check><a href=/go_docs/thirdPkg/pflag/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkgpflag><span>pflag</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkglua-li><input type=checkbox id=m-go_docsthirdpkglua-check>
<label for=m-go_docsthirdpkglua-check><a href=/go_docs/thirdPkg/lua/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkglua><span>lua</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkgluanotes-li><input type=checkbox id=m-go_docsthirdpkgluanotes-check>
<label for=m-go_docsthirdpkgluanotes-check><a href=/go_docs/thirdPkg/lua/notes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkgluanotes><span>技术说明</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes0-li><input type=checkbox id=m-go_docsthirdpkgluanotes0-check>
<label for=m-go_docsthirdpkgluanotes0-check><a href=/go_docs/thirdPkg/lua/notes/0/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes0><span>技术说明 0</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes1-li><input type=checkbox id=m-go_docsthirdpkgluanotes1-check>
<label for=m-go_docsthirdpkgluanotes1-check><a href=/go_docs/thirdPkg/lua/notes/1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes1><span>技术说明 1</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes2-li><input type=checkbox id=m-go_docsthirdpkgluanotes2-check>
<label for=m-go_docsthirdpkgluanotes2-check><a href=/go_docs/thirdPkg/lua/notes/2/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes2><span>技术说明 2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes3-li><input type=checkbox id=m-go_docsthirdpkgluanotes3-check>
<label for=m-go_docsthirdpkgluanotes3-check><a href=/go_docs/thirdPkg/lua/notes/3/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes3><span>技术说明 3</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes4-li><input type=checkbox id=m-go_docsthirdpkgluanotes4-check>
<label for=m-go_docsthirdpkgluanotes4-check><a href=/go_docs/thirdPkg/lua/notes/4/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes4><span>技术说明 4</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes5-li><input type=checkbox id=m-go_docsthirdpkgluanotes5-check>
<label for=m-go_docsthirdpkgluanotes5-check><a href=/go_docs/thirdPkg/lua/notes/5/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes5><span>技术说明 5</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes6-li><input type=checkbox id=m-go_docsthirdpkgluanotes6-check>
<label for=m-go_docsthirdpkgluanotes6-check><a href=/go_docs/thirdPkg/lua/notes/6/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes6><span>技术说明 6</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes7-li><input type=checkbox id=m-go_docsthirdpkgluanotes7-check>
<label for=m-go_docsthirdpkgluanotes7-check><a href=/go_docs/thirdPkg/lua/notes/7/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes7><span>技术说明 7</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes8-li><input type=checkbox id=m-go_docsthirdpkgluanotes8-check>
<label for=m-go_docsthirdpkgluanotes8-check><a href=/go_docs/thirdPkg/lua/notes/8/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes8><span>技术说明 8</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes9-li><input type=checkbox id=m-go_docsthirdpkgluanotes9-check>
<label for=m-go_docsthirdpkgluanotes9-check><a href=/go_docs/thirdPkg/lua/notes/9/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes9><span>技术说明 9</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes10-li><input type=checkbox id=m-go_docsthirdpkgluanotes10-check>
<label for=m-go_docsthirdpkgluanotes10-check><a href=/go_docs/thirdPkg/lua/notes/10/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes10><span>技术说明 10</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanotes11-li><input type=checkbox id=m-go_docsthirdpkgluanotes11-check>
<label for=m-go_docsthirdpkgluanotes11-check><a href=/go_docs/thirdPkg/lua/notes/11/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanotes11><span>技术说明 11</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluafaq-li><input type=checkbox id=m-go_docsthirdpkgluafaq-check>
<label for=m-go_docsthirdpkgluafaq-check><a href=/go_docs/thirdPkg/lua/faq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluafaq><span>常见问题</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluadownload-li><input type=checkbox id=m-go_docsthirdpkgluadownload-check>
<label for=m-go_docsthirdpkgluadownload-check><a href=/go_docs/thirdPkg/lua/download/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluadownload><span>下载</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluacommunity-li><input type=checkbox id=m-go_docsthirdpkgluacommunity-check>
<label for=m-go_docsthirdpkgluacommunity-check><a href=/go_docs/thirdPkg/lua/community/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluacommunity><span>社区</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluanews-li><input type=checkbox id=m-go_docsthirdpkgluanews-check>
<label for=m-go_docsthirdpkgluanews-check><a href=/go_docs/thirdPkg/lua/news/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluanews><span>新闻</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluaabout-li><input type=checkbox id=m-go_docsthirdpkgluaabout-check>
<label for=m-go_docsthirdpkgluaabout-check><a href=/go_docs/thirdPkg/lua/about/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluaabout><span>关于</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluarefs-li><input type=checkbox id=m-go_docsthirdpkgluarefs-check>
<label for=m-go_docsthirdpkgluarefs-check><a href=/go_docs/thirdPkg/lua/refs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluarefs><span>相关参考</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgluagettingstarted-li><input type=checkbox id=m-go_docsthirdpkgluagettingstarted-check>
<label for=m-go_docsthirdpkgluagettingstarted-check><a href=/go_docs/thirdPkg/lua/GettingStarted/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgluagettingstarted><span>开始入门</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkglualua54referencemanual-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual-check>
<label for=m-go_docsthirdpkglualua54referencemanual-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkglualua54referencemanual><span>Lua 5.4 参考手册</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual1-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual1-check>
<label for=m-go_docsthirdpkglualua54referencemanual1-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/1/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual1><span>1 – 简介</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual2-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual2-check>
<label for=m-go_docsthirdpkglualua54referencemanual2-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/2/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual2><span>2 – 基本概念</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual3-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual3-check>
<label for=m-go_docsthirdpkglualua54referencemanual3-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/3/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual3><span>3 – 语言</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual4-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual4-check>
<label for=m-go_docsthirdpkglualua54referencemanual4-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/4/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual4><span>4 – 应用程序接口</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual5-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual5-check>
<label for=m-go_docsthirdpkglualua54referencemanual5-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/5/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual5><span>5 – 辅助库</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual6-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual6-check>
<label for=m-go_docsthirdpkglualua54referencemanual6-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/6/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual6><span>6 – 标准库</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual7-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual7-check>
<label for=m-go_docsthirdpkglualua54referencemanual7-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/7/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual7><span>7 – Lua独立</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual8-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual8-check>
<label for=m-go_docsthirdpkglualua54referencemanual8-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/8/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual8><span>8 – 与前一版本的兼容性</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglualua54referencemanual9-li><input type=checkbox id=m-go_docsthirdpkglualua54referencemanual9-check>
<label for=m-go_docsthirdpkglualua54referencemanual9-check><a href=/go_docs/thirdPkg/lua/Lua54ReferenceManual/9/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglualua54referencemanual9><span>9 – Lua 的完整语法</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggo_sql_driver_mysql-li><input type=checkbox id=m-go_docsthirdpkggo_sql_driver_mysql-check>
<label for=m-go_docsthirdpkggo_sql_driver_mysql-check><a href=/go_docs/thirdPkg/go_sql_driver_mysql/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggo_sql_driver_mysql><span>go-sql-driver/mysql</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkglogrus-li><input type=checkbox id=m-go_docsthirdpkglogrus-check>
<label for=m-go_docsthirdpkglogrus-check><a href=/go_docs/thirdPkg/logrus/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkglogrus><span>logrus</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkglogruswiki-li><input type=checkbox id=m-go_docsthirdpkglogruswiki-check>
<label for=m-go_docsthirdpkglogruswiki-check><a href=/go_docs/thirdPkg/logrus/wiki/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkglogruswiki><span>wiki</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglogruswikitips-li><input type=checkbox id=m-go_docsthirdpkglogruswikitips-check>
<label for=m-go_docsthirdpkglogruswikitips-check><a href=/go_docs/thirdPkg/logrus/wiki/tips/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglogruswikitips><span>tips</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglogruswikihooks-li><input type=checkbox id=m-go_docsthirdpkglogruswikihooks-check>
<label for=m-go_docsthirdpkglogruswikihooks-check><a href=/go_docs/thirdPkg/logrus/wiki/hooks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglogruswikihooks><span>hooks</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkglogrushook-li><input type=checkbox id=m-go_docsthirdpkglogrushook-check>
<label for=m-go_docsthirdpkglogrushook-check><a href=/go_docs/thirdPkg/logrus/hook/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkglogrushook><span>hook</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglogrushooksyslog-li><input type=checkbox id=m-go_docsthirdpkglogrushooksyslog-check>
<label for=m-go_docsthirdpkglogrushooksyslog-check><a href=/go_docs/thirdPkg/logrus/hook/syslog/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglogrushooksyslog><span>Logrus 的 Syslog 钩子</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglogrushookwriter-li><input type=checkbox id=m-go_docsthirdpkglogrushookwriter-check>
<label for=m-go_docsthirdpkglogrushookwriter-check><a href=/go_docs/thirdPkg/logrus/hook/writer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglogrushookwriter><span>Logrus 的 Writer 钩子</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkglogruslogrus-li><input type=checkbox id=m-go_docsthirdpkglogruslogrus-check>
<label for=m-go_docsthirdpkglogruslogrus-check><a href=/go_docs/thirdPkg/logrus/logrus/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkglogruslogrus><span>logrus文档</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkghttprouter-li><input type=checkbox id=m-go_docsthirdpkghttprouter-check>
<label for=m-go_docsthirdpkghttprouter-check><a href=/go_docs/thirdPkg/httprouter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkghttprouter><span>httprouter</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkghttprouterhttprouter-li><input type=checkbox id=m-go_docsthirdpkghttprouterhttprouter-check>
<label for=m-go_docsthirdpkghttprouterhttprouter-check><a href=/go_docs/thirdPkg/httprouter/httprouter/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkghttprouterhttprouter><span>httprouter文档</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsthirdpkggin-li><input type=checkbox id=m-go_docsthirdpkggin-check>
<label for=m-go_docsthirdpkggin-check><a href=/go_docs/thirdPkg/gin/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkggin><span>gin</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkggingin-li><input type=checkbox id=m-go_docsthirdpkggingin-check>
<label for=m-go_docsthirdpkggingin-check><a href=/go_docs/thirdPkg/gin/gin/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkggingin><span>gin文档</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgginginquickstart-li><input type=checkbox id=m-go_docsthirdpkgginginquickstart-check>
<label for=m-go_docsthirdpkgginginquickstart-check><a href=/go_docs/thirdPkg/gin/ginQuickStart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsthirdpkgginginquickstart><span>gin快速入门</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsthirdpkgviper-li><input type=checkbox id=m-go_docsthirdpkgviper-check>
<label for=m-go_docsthirdpkgviper-check><a href=/go_docs/thirdPkg/viper/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsthirdpkgviper><span>viper</span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://before80.github.io/go_docs/comm/coffee class="td-page-meta--view td-page-meta__view" style=color:#2bf518!important target=_blank rel=noopener><i class="fa-solid fa-mug-hot fa-fw"></i> 请作者喝杯咖啡吧</a>
<a href=https://github.com/before80/go_docs/tree/main/content/thirdPkg/iris/getStarted.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> 查看页面源码</a>
<a href=https://github.com/before80/go_docs/edit/main/content/thirdPkg/iris/getStarted.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 编辑此页</a>
<a href="https://github.com/before80/go_docs/new/main/content/thirdPkg/iris?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 添加子页面</a>
<a href="https://github.com/before80/go_docs/issues/new?title=%e5%bc%80%e5%a7%8b%e5%85%a5%e9%97%a8" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/before80/go_docs/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交项目问题</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#installation-安装>Installation 安装</a><ul><li><a href=#troubleshooting-故障排除>Troubleshooting 故障排除</a></li></ul></li><li><a href=#quick-start-快速入门>Quick start 快速入门</a></li><li><a href=#benchmarks-基准>Benchmarks 基准</a></li><li><a href=#api-examples-api-示例>API Examples API 示例</a><ul><li><a href=#using-get-post-put-patch-delete-and-options>Using GET, POST, PUT, PATCH, DELETE and OPTIONS</a></li><li><a href=#parameters-in-path-路径中的参数>Parameters in path 路径中的参数</a></li><li><a href=#querystring-parameters-查询字符串参数>Querystring parameters 查询字符串参数</a></li><li><a href=#multiparturlencoded-form-multiparturlencoded-表单>Multipart/Urlencoded Form Multipart/Urlencoded 表单</a></li><li><a href=#another-example-query--post-form-另一个示例查询--post-表单>Another example: query + post form 另一个示例：查询 + post 表单</a></li><li><a href=#query-and-post-form-parameters-查询和-post-表单参数>Query and post form parameters 查询和 post 表单参数</a></li><li><a href=#upload-files-上传文件>Upload files 上传文件</a><ul><li><a href=#single-file-单个文件>Single file 单个文件</a></li><li><a href=#multiple-files-多个文件>Multiple files 多个文件</a></li></ul></li><li><a href=#grouping-routes-分组路由>Grouping routes 分组路由</a></li><li><a href=#blank-iris-without-middleware-by-default-默认情况下空白-iris-不带中间件>Blank Iris without middleware by default 默认情况下，空白 Iris 不带中间件</a></li><li><a href=#using-middleware-使用中间件>Using middleware 使用中间件</a></li><li><a href=#application-file-logger-应用程序文件记录器>Application File Logger 应用程序文件记录器</a></li><li><a href=#controlling-log-output-coloring-控制日志输出着色>Controlling Log output coloring 控制日志输出着色</a></li><li><a href=#request-logging-请求日志记录>Request Logging 请求日志记录</a></li><li><a href=#model-binding-and-validation-模型绑定和验证>Model binding and validation 模型绑定和验证</a></li><li><a href=#bind-query-string-绑定查询字符串>Bind Query String 绑定查询字符串</a></li><li><a href=#bind-any-绑定任何内容>Bind Any 绑定任何内容</a></li><li><a href=#bind-url-path-parameters-绑定-url-路径参数>Bind URL Path Parameters 绑定 URL 路径参数</a></li><li><a href=#bind-header-绑定标题>Bind Header 绑定标题</a></li><li><a href=#bind-html-checkboxes-绑定-html-复选框>Bind HTML checkboxes 绑定 HTML 复选框</a></li><li><a href=#json-jsonp-xml-markdown-yaml-and-msgpack-rendering-jsonjsonpxmlmarkdownyaml-和-msgpack-渲染>JSON, JSONP, XML, Markdown, YAML and MsgPack rendering JSON、JSONP、XML、Markdown、YAML 和 MsgPack 渲染</a><ul><li><a href=#protobuf>Protobuf</a></li></ul></li><li><a href=#serving-static-files-提供静态文件>Serving static files 提供静态文件</a></li><li><a href=#serving-data-from-context-从-context-提供数据>Serving data from Context 从 Context 提供数据</a></li><li><a href=#template-rendering-模板渲染>Template rendering 模板渲染</a></li><li><a href=#multitemplate>Multitemplate</a><ul><li><a href=#through-middleware-通过中间件>Through Middleware 通过中间件</a></li></ul></li><li><a href=#redirects-重定向>Redirects 重定向</a><ul><li><a href=#from-handler-来自处理程序>From Handler 来自处理程序</a></li><li><a href=#globally-全局>Globally 全局</a></li></ul></li><li><a href=#custom-middleware-自定义中间件>Custom Middleware 自定义中间件</a></li><li><a href=#using-basic-authentication-使用基本身份验证>Using Basic Authentication 使用基本身份验证</a></li><li><a href=#goroutines-inside-a-middleware-中间件内的-goroutine>Goroutines inside a middleware 中间件内的 Goroutine</a></li><li><a href=#custom-http-configuration-自定义-http-配置>Custom HTTP configuration 自定义 HTTP 配置</a></li><li><a href=#socket-sharding-套接字分片>Socket Sharding 套接字分片</a></li><li><a href=#support-lets-encrypt-支持-lets-encrypt>Support Let&rsquo;s Encrypt 支持 Let&rsquo;s Encrypt</a></li><li><a href=#run-multiple-service-using-iris-使用-iris-运行多个服务>Run multiple service using Iris 使用 Iris 运行多个服务</a></li><li><a href=#graceful-shutdown-or-restart-优雅地关闭或重新启动>Graceful shutdown or restart 优雅地关闭或重新启动</a></li><li><a href=#build-a-single-binary-with-templates-使用模板构建单个二进制文件>Build a single binary with templates 使用模板构建单个二进制文件</a></li><li><a href=#try-to-bind-body-into-different-structs-尝试将正文绑定到不同的结构>Try to bind body into different structs 尝试将正文绑定到不同的结构</a></li><li><a href=#http2-server-push-http2-服务器推送>HTTP2 server push HTTP2 服务器推送</a></li><li><a href=#set-and-get-a-cookie-设置和获取-cookie>Set and get a cookie 设置和获取 Cookie</a></li></ul></li><li><a href=#json-web-tokens-json-web-令牌>JSON Web Tokens JSON Web 令牌</a><ul><li><a href=#when-should-you-use-json-web-tokens-您应该在何时使用-json-web-令牌>When should you use JSON Web Tokens? 您应该在何时使用 JSON Web 令牌？</a></li><li><a href=#using-jwt-with-iris-将-jwt-与-iris-配合使用>Using JWT with Iris 将 JWT 与 Iris 配合使用</a></li></ul></li><li><a href=#testing-测试>Testing 测试</a><ul><li><a href=#testing-basic-authentication-测试基本身份验证>Testing Basic Authentication 测试基本身份验证</a></li><li><a href=#testing-cookies-测试-cookie>Testing Cookies 测试 Cookie</a></li></ul></li><li><a href=#localization-本地化>Localization 本地化</a><ul><li><a href=#introduction-简介>Introduction 简介</a></li><li><a href=#load-embedded-locales-加载嵌入式语言环境>Load embedded locales 加载嵌入式语言环境</a></li><li><a href=#defining-translations-定义翻译>Defining Translations 定义翻译</a></li><li><a href=#fmt-style>Fmt Style</a></li><li><a href=#template-模板>Template 模板</a></li><li><a href=#pluralization-复数形式>Pluralization 复数形式</a></li><li><a href=#sections-部分>Sections 部分</a></li><li><a href=#determining-the-current-locale-确定当前语言环境>Determining The Current Locale 确定当前语言环境</a></li><li><a href=#retrieving-translation-检索翻译>Retrieving Translation 检索翻译</a></li><li><a href=#inside-views-在视图中>Inside Views 在视图中</a></li><li><a href=#example>Example</a></li><li><a href=#sitemap-站点地图>Sitemap 站点地图</a></li></ul></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/go_docs/thirdPkg/>第三方包</a></li><li class=breadcrumb-item><a href=/go_docs/thirdPkg/iris/>Iris</a></li><li class="breadcrumb-item active" aria-current=page>开始入门</li></ol></nav><div class=td-content><h1>开始入门</h1><header class=article-meta><p class=reading-time><i class="fa-solid fa-clock" style=color:#e90 aria-hidden=true></i>&nbsp; <span style=font-size:3rem;color:#006400 id=advice-reading-time>33 </span>分钟阅读 &nbsp;</p></header><blockquote><p>原文：<a href=https://www.iris-go.com/docs/#/>https://www.iris-go.com/docs/#/</a></p></blockquote><h2 id=installation-安装>Installation 安装</h2><p>Iris is a cross-platform software.</p><p>​ Iris 是一个跨平台软件。</p><p>The only requirement is the <a href=https://go.dev/dl/>Go Programming Language</a>, version 1.20 and above.</p><p>​ 唯一的要求是 Go 编程语言 1.20 及更高版本。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ mkdir myapp
</span></span><span style=display:flex><span>$ <span style=color:#e5c07b>cd</span> myapp
</span></span><span style=display:flex><span>$ go mod init myapp
</span></span><span style=display:flex><span>$ go get github.com/kataras/iris/v12@latest
</span></span></code></pre></td></tr></table></div></div><p>Import it in your code:</p><p>​ 在您的代码中导入它：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=troubleshooting-故障排除>Troubleshooting 故障排除</h3><p>If you get a network error during installation please make sure you set a valid <a href=https://github.com/golang/go/wiki/Modules#are-there-always-on-module-repositories-and-enterprise-proxies>GOPROXY environment variable</a>.</p><p>​ 如果在安装过程中出现网络错误，请确保设置了有效的 GOPROXY 环境变量。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>go env -w <span style=color:#dcaeea>GOPROXY</span><span style=color:#54b1c7>=</span>https://goproxy.io,direct
</span></span></code></pre></td></tr></table></div></div><p>Perform a clean of your go modules cache if none of the above worked:</p><p>​ 如果上述方法均无效，请清除 go 模块缓存：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>go clean --modcache
</span></span></code></pre></td></tr></table></div></div><h2 id=quick-start-快速入门>Quick start 快速入门</h2><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">61
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#8a93a5;font-style:italic># assume the following codes in main.go file</span>
</span></span><span style=display:flex><span>$ cat main.go
</span></span><span style=display:flex><span>package main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>import <span style=color:#63c381>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>func main<span style=color:#54b1c7>()</span> <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>    app :<span style=color:#54b1c7>=</span> iris.New<span style=color:#54b1c7>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    booksAPI :<span style=color:#54b1c7>=</span> app.Party<span style=color:#54b1c7>(</span><span style=color:#63c381>&#34;/books&#34;</span><span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span>    <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>        booksAPI.Use<span style=color:#54b1c7>(</span>iris.Compression<span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        // GET: http://localhost:8080/books
</span></span><span style=display:flex><span>        booksAPI.Get<span style=color:#54b1c7>(</span><span style=color:#63c381>&#34;/&#34;</span>, list<span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span>        // POST: http://localhost:8080/books
</span></span><span style=display:flex><span>        booksAPI.Post<span style=color:#54b1c7>(</span><span style=color:#63c381>&#34;/&#34;</span>, create<span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span>    <span style=color:#54b1c7>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    app.Listen<span style=color:#54b1c7>(</span><span style=color:#63c381>&#34;:8080&#34;</span><span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// Book example.
</span></span><span style=display:flex><span><span style=color:#e5c07b>type</span> Book struct <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>    Title string <span style=color:#98c379>`</span>json:<span style=color:#63c381>&#34;title&#34;</span><span style=color:#98c379>`</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>func list<span style=color:#54b1c7>(</span>ctx iris.Context<span style=color:#54b1c7>)</span> <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>    books :<span style=color:#54b1c7>=</span> <span style=color:#54b1c7>[]</span>Book<span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>        <span style=color:#54b1c7>{</span><span style=color:#63c381>&#34;Mastering Concurrency in Go&#34;</span><span style=color:#54b1c7>}</span>,
</span></span><span style=display:flex><span>        <span style=color:#54b1c7>{</span><span style=color:#63c381>&#34;Go Design Patterns&#34;</span><span style=color:#54b1c7>}</span>,
</span></span><span style=display:flex><span>        <span style=color:#54b1c7>{</span><span style=color:#63c381>&#34;Black Hat Go&#34;</span><span style=color:#54b1c7>}</span>,
</span></span><span style=display:flex><span>    <span style=color:#54b1c7>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ctx.JSON<span style=color:#54b1c7>(</span>books<span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span>    // TIP: negotiate the response between server<span style=color:#98c379>&#39;s prioritizes
</span></span></span><span style=display:flex><span><span style=color:#98c379>    // and client&#39;</span>s requirements, instead of ctx.JSON:
</span></span><span style=display:flex><span>    // 提示：在服务器的优先级和客户端的要求之间进行协商响应，而不是使用 ctx.JSON：
</span></span><span style=display:flex><span>    // ctx.Negotiation<span style=color:#54b1c7>()</span>.JSON<span style=color:#54b1c7>()</span>.MsgPack<span style=color:#54b1c7>()</span>.Protobuf<span style=color:#54b1c7>()</span>
</span></span><span style=display:flex><span>    // ctx.Negotiate<span style=color:#54b1c7>(</span>books<span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>func create<span style=color:#54b1c7>(</span>ctx iris.Context<span style=color:#54b1c7>)</span> <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>    var b Book
</span></span><span style=display:flex><span>    err :<span style=color:#54b1c7>=</span> ctx.ReadJSON<span style=color:#54b1c7>(</span><span style=color:#abb2bf>&amp;</span>b<span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span>    // TIP: use ctx.ReadBody<span style=color:#54b1c7>(</span><span style=color:#abb2bf>&amp;</span>b<span style=color:#54b1c7>)</span> to <span style=color:#e5c07b>bind</span>
</span></span><span style=display:flex><span>    // any <span style=color:#e5c07b>type</span> of incoming data instead.
</span></span><span style=display:flex><span>    // 提示：使用 ctx.ReadBody<span style=color:#54b1c7>(</span><span style=color:#abb2bf>&amp;</span>b<span style=color:#54b1c7>)</span> 来绑定任何类型的传入数据
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> err !<span style=color:#54b1c7>=</span> nil <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>        ctx.StopWithProblem<span style=color:#54b1c7>(</span>iris.StatusBadRequest, iris.NewProblem<span style=color:#54b1c7>()</span>.
</span></span><span style=display:flex><span>            Title<span style=color:#54b1c7>(</span><span style=color:#63c381>&#34;Book creation failure&#34;</span><span style=color:#54b1c7>)</span>.DetailErr<span style=color:#54b1c7>(</span>err<span style=color:#54b1c7>))</span>
</span></span><span style=display:flex><span>        // TIP: use ctx.StopWithError<span style=color:#54b1c7>(</span>code, err<span style=color:#54b1c7>)</span> when only
</span></span><span style=display:flex><span>        // plain text responses are expected on errors.
</span></span><span style=display:flex><span>        // 提示：当仅在错误时期望纯文本响应时，请使用 ctx.StopWithError<span style=color:#54b1c7>(</span>code, err<span style=color:#54b1c7>)</span>。
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#54b1c7>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    println<span style=color:#54b1c7>(</span><span style=color:#63c381>&#34;Received Book: &#34;</span> + b.Title<span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ctx.StatusCode<span style=color:#54b1c7>(</span>iris.StatusCreated<span style=color:#54b1c7>)</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>MVC</strong> equivalent:</p><p>​ MVC 等价：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12/mvc&#34;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>m</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>mvc</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>booksAPI</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>m</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Handle</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>new</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>BookController</span><span style=color:#abb2bf>))</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>BookController</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>/* dependencies */</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// GET: http://localhost:8080/books
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>func</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>c</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>BookController</span><span style=color:#abb2bf>)</span> <span style=color:#00b1f7>Get</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>[]</span><span style=color:#aa89ea>Book</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#abb2bf>[]</span><span style=color:#aa89ea>Book</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;Mastering Concurrency in Go&#34;</span><span style=color:#abb2bf>},</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;Go Design Patterns&#34;</span><span style=color:#abb2bf>},</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;Black Hat Go&#34;</span><span style=color:#abb2bf>},</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// POST: http://localhost:8080/books
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>func</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>c</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>BookController</span><span style=color:#abb2bf>)</span> <span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>b</span> <span style=color:#aa89ea>Book</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>int</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Received Book: &#34;</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>b</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Title</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusCreated</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Run</strong> your Iris web server:</p><p>​ 运行 Iris Web 服务器：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ go run main.go
</span></span><span style=display:flex><span>&gt; Now listening on: http://localhost:8080
</span></span><span style=display:flex><span>&gt; Application started. Press CTRL+C to shut down.
</span></span></code></pre></td></tr></table></div></div><p><strong>List</strong> Books:</p><p>​ 列出书籍：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ curl --header <span style=color:#98c379>&#39;Accept-Encoding:gzip&#39;</span> http://localhost:8080/books
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>[</span>
</span></span><span style=display:flex><span>  <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>    <span style=color:#63c381>&#34;title&#34;</span>: <span style=color:#63c381>&#34;Mastering Concurrency in Go&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#54b1c7>}</span>,
</span></span><span style=display:flex><span>  <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>    <span style=color:#63c381>&#34;title&#34;</span>: <span style=color:#63c381>&#34;Go Design Patterns&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#54b1c7>}</span>,
</span></span><span style=display:flex><span>  <span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>    <span style=color:#63c381>&#34;title&#34;</span>: <span style=color:#63c381>&#34;Black Hat Go&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#54b1c7>}</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Create</strong> a new Book:</p><p>​ 创建新书：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ curl -i -X POST <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>--header <span style=color:#98c379>&#39;Content-Encoding:gzip&#39;</span> <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>--header <span style=color:#98c379>&#39;Content-Type:application/json&#39;</span> <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>--data <span style=color:#63c381>&#34;{\&#34;title\&#34;:\&#34;Writing An Interpreter In Go\&#34;}&#34;</span> <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>http://localhost:8080/books
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; HTTP/1.1 <span style=color:#d19a66>201</span> Created
</span></span></code></pre></td></tr></table></div></div><p>That&rsquo;s how an <strong>error</strong> response looks like:</p><p>​ 错误响应如下所示：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ curl -X POST --data <span style=color:#63c381>&#34;{\&#34;title\&#34; \&#34;not valid one\&#34;}&#34;</span> <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>http://localhost:8080/books
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&gt; HTTP/1.1 <span style=color:#d19a66>400</span> Bad Request
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>{</span>
</span></span><span style=display:flex><span>  <span style=color:#63c381>&#34;status&#34;</span>: 400,
</span></span><span style=display:flex><span>  <span style=color:#63c381>&#34;title&#34;</span>: <span style=color:#63c381>&#34;Book creation failure&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#63c381>&#34;detail&#34;</span>: <span style=color:#63c381>&#34;invalid character &#39;\&#34;&#39; after object key&#34;</span>,
</span></span><span style=display:flex><span><span style=color:#54b1c7>}</span>
</span></span></code></pre></td></tr></table></div></div><p><a href="https://replit.com/@kataras/Iris-Hello-World-v1220?v=1"><img src="/go_docs/thirdPkg/iris/getStarted_img/Run-in%20the%20Browser-348798.svgstyle=for-the-badge&amp;logo=repl.svg" alt="run in the browser" data-cur-dir=thirdPkg/iris data-rg="/getStarted_img/Run-in%20the%20Browser-348798.svgstyle=for-the-badge&amp;logo=repl.svg" data-rg1="getStarted_img/Run-in%20the%20Browser-348798.svgstyle=for-the-badge&amp;logo=repl.svg" data-rel="/go_docs/getStarted_img/Run-in%20the%20Browser-348798.svgstyle=for-the-badge&logo=repl.svg" data-c4my=/go_docs></a></p><h2 id=benchmarks-基准>Benchmarks 基准</h2><p>Iris uses a custom version of <a href=https://github.com/kataras/muxie>muxie</a>.</p><p>​ Iris 使用 muxie 的自定义版本。 查看所有基准</p><p><a href=https://github.com/kataras/server-benchmarks>See all benchmarks</a></p><p>📖 Fires 200000 requests with a dynamic parameter of int, sends JSON as request body and receives JSON as response.</p><p>​ 📖 使用 int 动态参数发送 200000 个请求，将 JSON 作为请求正文发送，并接收 JSON 作为响应。</p><table><thead><tr><th>Name 名称</th><th>Language 语言</th><th>Reqs/sec 请求/秒</th><th>Latency 延迟</th><th>Throughput 吞吐量</th><th>Time To Complete 完成时间</th></tr></thead><tbody><tr><td><a href=https://github.com/kataras/iris>Iris</a></td><td>Go</td><td>238954</td><td>521.69us</td><td>64.15MB</td><td>0.84s</td></tr><tr><td><a href=https://github.com/gin-gonic/gin>Gin</a></td><td>Go</td><td>229665</td><td>541.96us</td><td>62.86MB</td><td>0.87s</td></tr><tr><td><a href=https://github.com/go-chi/chi>Chi</a></td><td>Go</td><td>228072</td><td>545.78us</td><td>62.61MB</td><td>0.88s</td></tr><tr><td><a href=https://github.com/labstack/echo>Echo</a></td><td>Go</td><td>224491</td><td>553.84us</td><td>61.70MB</td><td>0.89s</td></tr><tr><td><a href=https://github.com/go-martini/martini>Martini</a></td><td>Go</td><td>198166</td><td>627.46us</td><td>54.47MB</td><td>1.01s</td></tr><tr><td><a href=https://github.com/dotnet/aspnetcore>Kestrel</a></td><td>C#</td><td>163486</td><td>766.90us</td><td>47.42MB</td><td>1.23s</td></tr><tr><td><a href=https://github.com/gobuffalo/buffalo>Buffalo</a></td><td>Go</td><td>102478</td><td>1.22ms</td><td>28.14MB</td><td>1.95s</td></tr><tr><td><a href=https://github.com/koajs/koa>Koa</a></td><td>Javascript</td><td>48425</td><td>2.56ms</td><td>15.39MB</td><td>4.14s</td></tr><tr><td><a href=https://github.com/expressjs/express>Express</a></td><td>Javascript</td><td>23622</td><td>5.25ms</td><td>9.04MB</td><td>8.41s</td></tr></tbody></table><h2 id=api-examples-api-示例>API Examples API 示例</h2><p>You can find a number of ready-to-run examples at <a href=https://github.com/iris-contrib/examples>Iris examples repository</a>.</p><p>​ 您可以在 Iris 示例存储库中找到许多可运行的示例。</p><h3 id=using-get-post-put-patch-delete-and-options>Using GET, POST, PUT, PATCH, DELETE and OPTIONS</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Creates an iris application with default middleware:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// 创建一个带有默认中间件的 Iris 应用程序：
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Default with &#34;debug&#34; Logger Level.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// 默认使用 &#34;debug&#34; 日志级别。
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Localization enabled on &#34;./locales&#34; directory
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// and HTML templates on &#34;./views&#34; or &#34;./templates&#34; directory.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// 在 &#34;./locales&#34; 目录启用本地化功能，
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// HTML 模板位于 &#34;./views&#34; 或 &#34;./templates&#34; 目录。
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// It runs with the AccessLog on &#34;./access.log&#34;,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Recovery (crash-free) and Request ID middleware already attached.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// 应用程序记录访问日志到 &#34;./access.log&#34;，
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// 已附加了Recovery（无崩溃）和 Request ID 中间件。
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/someGet&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>getting</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/somePost&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>posting</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Put</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/somePut&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>putting</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Delete</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/someDelete&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>deleting</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Patch</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/somePatch&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>patching</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Header</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/someHead&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>head</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Options</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/someOptions&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>options</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=parameters-in-path-路径中的参数>Parameters in path 路径中的参数</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// This handler will match /user/john but will not match /user/ or /user
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// 这个处理程序将匹配 /user/john，但不会匹配 /user/ 或 /user
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/user/{name}&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>name</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Params</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;name&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Hello %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>name</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// However, this one will match /user/john/ and also /user/john/send
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// If no other routers match /user/john, it will redirect to /user/john/
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// 然而，这个处理程序将匹配 /user/john/ 以及 /user/john/send。
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// 如果没有其他路由匹配 /user/john，它将重定向到 /user/john/。
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/user/{name}/{action:path}&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>name</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Params</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;name&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>action</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Params</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;action&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>message</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>name</span> <span style=color:#54b1c7>+</span> <span style=color:#98c379>&#34; is &#34;</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>action</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>message</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// For each matched request Context will hold the route definition
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/user/{name:string}/{action:path}&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetCurrentRoute</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Tmpl</span><span style=color:#abb2bf>().</span><span style=color:#aa89ea>Src</span> <span style=color:#54b1c7>==</span> <span style=color:#98c379>&#34;/user/{name:string}/{action:path}&#34;</span> <span style=color:#8a93a5;font-style:italic>// true
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Builtin available parameter types:</p><p>​ 内置可用参数类型：</p><table><thead><tr><th>Param Type 参数类型</th><th>Go Type Go 类型</th><th>Validation 验证</th><th>Retrieve Helper 检索助手</th></tr></thead><tbody><tr><td><code>:string</code></td><td>string</td><td>anything (single path segment) 任何内容（单路径段）</td><td><code>Params().Get</code></td></tr><tr><td><code>:uuid</code></td><td>string</td><td>uuidv4 or v1 (single path segment) uuidv4 或 v1（单路径段）</td><td><code>Params().Get</code></td></tr><tr><td><code>:int</code></td><td>int</td><td>-9223372036854775808 to 9223372036854775807 (x64) or -2147483648 to 2147483647 (x32), depends on the host arch -9223372036854775808 到 9223372036854775807 (x64) 或 -2147483648 到 2147483647 (x32)，取决于主机体系结构</td><td><code>Params().GetInt</code></td></tr><tr><td><code>:int8</code></td><td>int8</td><td>-128 to 127 -128 到 127</td><td><code>Params().GetInt8</code></td></tr><tr><td><code>:int16</code></td><td>int16</td><td>-32768 to 32767 -32768 到 32767</td><td><code>Params().GetInt16</code></td></tr><tr><td><code>:int32</code></td><td>int32</td><td>-2147483648 to 2147483647 -2147483648 到 2147483647</td><td><code>Params().GetInt32</code></td></tr><tr><td><code>:int64</code></td><td>int64</td><td>-9223372036854775808 to 9223372036854775807 -9223372036854775808 到 9223372036854775807</td><td><code>Params().GetInt64</code></td></tr><tr><td><code>:uint</code></td><td>uint</td><td>0 to 18446744073709551615 (x64) or 0 to 4294967295 (x32), depends on the host arch 0 到 18446744073709551615 (x64) 或 0 到 4294967295 (x32)，取决于主机架构</td><td><code>Params().GetUint</code></td></tr><tr><td><code>:uint8</code></td><td>uint8</td><td>0 to 255 0 到 255</td><td><code>Params().GetUint8</code></td></tr><tr><td><code>:uint16</code></td><td>uint16</td><td>0 to 65535 0 到 65535</td><td><code>Params().GetUint16</code></td></tr><tr><td><code>:uint32</code></td><td>uint32</td><td>0 to 4294967295 0 到 4294967295</td><td><code>Params().GetUint32</code></td></tr><tr><td><code>:uint64</code></td><td>uint64</td><td>0 to 18446744073709551615 0 到 18446744073709551615</td><td><code>Params().GetUint64</code></td></tr><tr><td><code>:bool</code></td><td>bool</td><td>&ldquo;1&rdquo; or &ldquo;t&rdquo; or &ldquo;T&rdquo; or &ldquo;TRUE&rdquo; or &ldquo;true&rdquo; or &ldquo;True&rdquo; or &ldquo;0&rdquo; or &ldquo;f&rdquo; or &ldquo;F&rdquo; or &ldquo;FALSE&rdquo; or &ldquo;false&rdquo; or &ldquo;False&rdquo; &ldquo;1&rdquo; 或 &ldquo;t&rdquo; 或 &ldquo;T&rdquo; 或 &ldquo;TRUE&rdquo; 或 &ldquo;true&rdquo; 或 &ldquo;True&rdquo; 或 &ldquo;0&rdquo; 或 &ldquo;f&rdquo; 或 &ldquo;F&rdquo; 或 &ldquo;FALSE&rdquo; 或 &ldquo;false&rdquo; 或 &ldquo;False&rdquo;</td><td><code>Params().GetBool</code></td></tr><tr><td><code>:alphabetical</code></td><td>string</td><td>lowercase or uppercase letters 小写或大写字母</td><td><code>Params().Get</code></td></tr><tr><td><code>:file</code></td><td>string</td><td>lowercase or uppercase letters, numbers, underscore (<code>_</code>), dash (<code>-</code>), point (<code>.</code>) and no spaces or other special characters that are not valid for filenames 小写或大写字母、数字、下划线 (<code>_</code>)、破折号 (<code>-</code>)、句点 (<code>.</code>)，且没有空格或其他对文件名无效的特殊字符</td><td><code>Params().Get</code></td></tr><tr><td><code>:path</code></td><td>string</td><td>anything, can be separated by slashes (path segments) but should be the last part of the route path 任意内容，可以用斜杠 (路径段) 分隔，但应为路由路径的最后一部分</td><td><code>Params().Get</code></td></tr><tr><td><code>:mail</code></td><td>string</td><td>Email without domain validation 未经域验证的电子邮件</td><td><code>Params().Get</code></td></tr><tr><td><code>:email</code></td><td>string</td><td>Email with domain validation 经过域验证的电子邮件</td><td><code>Params().Get</code></td></tr><tr><td><code>:date</code></td><td>string</td><td>yyyy/mm/dd format e.g. /blog/{param:date} matches /blog/2022/04/21 yyyy/mm/dd 格式，例如 /blog/{param:date} 匹配 /blog/2022/04/21</td><td><code>Params().GetTime</code> and <code>Params().SimpleDate</code> <code>Params().GetTime</code> 和 <code>Params().SimpleDate</code></td></tr><tr><td><code>:weekday</code></td><td>uint (0-6) or string</td><td>string of time.Weekday longname format (&ldquo;sunday&rdquo; to &ldquo;monday&rdquo; or &ldquo;Sunday&rdquo; to &ldquo;Monday&rdquo;) format e.g. /schedule/{param:weekday} matches /schedule/monday time.Weekday longname 格式的字符串（“sunday”到“monday”或“Sunday”到“Monday”）格式，例如 /schedule/{param:weekday} 匹配 /schedule/monday</td><td><code>Params().GetWeekday</code></td></tr></tbody></table><p>More examples can be found at: <a href=https://github.com/kataras/iris/tree/main/_examples/routing>_examples/routing</a>.</p><p>​ 更多示例可在以下位置找到：_examples/routing。</p><h3 id=querystring-parameters-查询字符串参数>Querystring parameters 查询字符串参数</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Query string parameters are parsed using the existing underlying request object.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// The request responds to a url matching:  /welcome?firstname=Jane&amp;lastname=Doe
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/welcome&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>firstname</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>URLParamDefault</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;firstname&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;Guest&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>lastname</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>URLParam</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;lastname&#34;</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// shortcut for ctx.Request().URL.Query().Get(&#34;lastname&#34;)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Hello %s %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>firstname</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>lastname</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=multiparturlencoded-form-multiparturlencoded-表单>Multipart/Urlencoded Form Multipart/Urlencoded 表单</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/form_post&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>message</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>PostValue</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>nick</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>PostValueDefault</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;nick&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;anonymous&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;status&#34;</span><span style=color:#abb2bf>:</span>  <span style=color:#98c379>&#34;posted&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>message</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;nick&#34;</span><span style=color:#abb2bf>:</span>    <span style=color:#aa89ea>nick</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=another-example-query--post-form-另一个示例查询--post-表单>Another example: query + post form 另一个示例：查询 + post 表单</h3><pre tabindex=0><code>POST /post?id=1234&amp;page=1 HTTP/1.1
Content-Type: application/x-www-form-urlencoded

name=kataras&amp;message=this_is_great
</code></pre><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/post&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>id</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>URLParamInt</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;id&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>page</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>URLParamIntDefault</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;page&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>name</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>PostValue</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;name&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>message</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>PostValue</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;id: %d; page: %d; name: %s; message: %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>id</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>page</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>name</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>message</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><pre tabindex=0><code>id: 1234; page: 1; name: kataras; message: this_is_great
</code></pre><h3 id=query-and-post-form-parameters-查询和-post-表单参数>Query and post form parameters 查询和 post 表单参数</h3><pre tabindex=0><code>POST /post?id=a&amp;id=b&amp;id=c&amp;name=john&amp;name=doe&amp;name=kataras
Content-Type: application/x-www-form-urlencoded
</code></pre><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/post&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ids</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>URLParamSlice</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;id&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>names</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>PostValues</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;name&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;ids: %v; names: %v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ids</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>names</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><pre tabindex=0><code>ids: [a b c], names: [john doe kataras]
</code></pre><h3 id=upload-files-上传文件>Upload files 上传文件</h3><h4 id=single-file-单个文件>Single file 单个文件</h4><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>const</span> <span style=color:#aa89ea>maxSize</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>8</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>MB</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/upload&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Set a lower memory limit for multipart forms (default is 32 MiB)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SetMaxRequestBodySize</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>maxSize</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// OR
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// app.Use(iris.LimitRequestBodySize(maxSize))
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// OR
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// OR iris.WithPostMaxMemory(maxSize)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// single file
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>file</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fileHeader</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>FormFile</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;file&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Upload the file to specific destination.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>dest</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>filepath</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Join</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./uploads&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fileHeader</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Filename</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SaveFormFile</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>fileHeader</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>dest</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;File: %s uploaded!&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fileHeader</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Filename</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>How to <code>curl</code>:</p><p>​ 如何 <code>curl</code> ：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8080/upload <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>  -F <span style=color:#63c381>&#34;file=@/Users/kataras/test.zip&#34;</span> <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>  -H <span style=color:#63c381>&#34;Content-Type: multipart/form-data&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=multiple-files-多个文件>Multiple files 多个文件</h4><p>See the detail <a href=https://github.com/kataras/iris/tree/main/_examples/file-server/upload-files>example code</a>.</p><p>​ 请参阅详细示例代码。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/upload&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>files</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>UploadFormFiles</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./uploads&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithStatus</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusInternalServerError</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%d files of %d total size uploaded!&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>files</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WithPostMaxMemory</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>8</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>MB</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>How to <code>curl</code>:</p><p>​ 如何 <code>curl</code> ：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST http://localhost:8080/upload <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>  -F <span style=color:#63c381>&#34;upload[]=@/Users/kataras/test1.zip&#34;</span> <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>  -F <span style=color:#63c381>&#34;upload[]=@/Users/kataras/test2.zip&#34;</span> <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>  -H <span style=color:#63c381>&#34;Content-Type: multipart/form-data&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=grouping-routes-分组路由>Grouping routes 分组路由</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Simple group: v1
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>v1</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Party</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/v1&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>v1</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/login&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>loginEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>v1</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/submit&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>submitEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>v1</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/read&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>readEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Simple group: v2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>v2</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Party</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/v2&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>v2</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/login&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>loginEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>v2</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/submit&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>submitEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>v2</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/read&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>readEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=blank-iris-without-middleware-by-default-默认情况下空白-iris-不带中间件>Blank Iris without middleware by default 默认情况下，空白 Iris 不带中间件</h3><p>Use</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span></code></pre></td></tr></table></div></div><p>instead of</p><p>​ 而不是</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Default with &#34;debug&#34; Logger Level.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Localization enabled on &#34;./locales&#34; directory
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// and HTML templates on &#34;./views&#34; or &#34;./templates&#34; directory.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// It runs with the AccessLog on &#34;./access.log&#34;,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Recovery and Request ID middleware already attached.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=using-middleware-使用中间件>Using middleware 使用中间件</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12/middleware/recover&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Creates an iris application without any middleware by default
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Global middleware using `UseRouter`.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Recovery middleware recovers from any panics and writes a 500 if there was one.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>UseRouter</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>recover</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Per route middleware, you can add as many as you desire.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/benchmark&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>MyBenchLogger</span><span style=color:#abb2bf>(),</span> <span style=color:#aa89ea>benchEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Authorization group
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// authorized := app.Party(&#34;/&#34;, AuthRequired())
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// exactly the same as:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>authorized</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Party</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// per group middleware! in this case we use the custom created
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// AuthRequired() middleware just in the &#34;authorized&#34; group.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>authorized</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Use</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>AuthRequired</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>authorized</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/login&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>loginEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>authorized</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/submit&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>submitEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>authorized</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/read&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>readEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// nested group
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>testing</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>authorized</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Party</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;testing&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>testing</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/analytics&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>analyticsEndpoint</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Listen and serve on 0.0.0.0:8080
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=application-file-logger-应用程序文件记录器>Application File Logger 应用程序文件记录器</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Logging to a file.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Colors are automatically disabled when writing to a file.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>os</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Create</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;iris.log&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>SetOutput</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Use the following code if you need to write the logs
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// to file and console at the same time.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// app.Logger().AddOutput(os.Stdout)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/ping&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pong&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>   <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=controlling-log-output-coloring-控制日志输出着色>Controlling Log output coloring 控制日志输出着色</h3><p>By default, logs output on console should be colorized depending on the detected TTY.</p><p>​ 默认情况下，控制台上的日志输出应根据检测到的 TTY 着色。</p><p>Customize level title, text, color and styling at general.</p><p>​ 在 general 中自定义级别标题、文本、颜色和样式。</p><p>Import <code>golog</code> and <code>pio</code>:</p><p>​ 导入 <code>golog</code> 和 <code>pio</code> ：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/golog&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/pio&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Get a level to customize e.g. <code>DebugLevel</code>:</p><p>​ 获取要自定义的级别，例如 <code>DebugLevel</code> ：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>level</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>golog</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Levels</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>golog</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>DebugLevel</span><span style=color:#abb2bf>]</span>
</span></span></code></pre></td></tr></table></div></div><p>You have full control over his text, title and style:</p><p>​ 您可以完全控制其文本、标题和样式：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// The Name of the Level
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// that named (lowercased) will be used
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// to convert a string level on `SetLevel`
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// to the correct Level type.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>Name</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// AlternativeNames are the names that can be referred to this specific log level.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// i.e Name = &#34;warn&#34;
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// AlternativeNames = []string{&#34;warning&#34;}, it&#39;s an optional field,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// therefore we keep Name as a simple string and created this new field.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>AlternativeNames</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Tha Title is the prefix of the log level.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// See `ColorCode` and `Style` too.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Both `ColorCode` and `Style` should be respected across writers.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>Title</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// ColorCode a color for the `Title`.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>ColorCode</span> <span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Style one or more rich options for the `Title`.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>Style</span> <span style=color:#abb2bf>[]</span><span style=color:#aa89ea>pio</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>RichOption</span>
</span></span></code></pre></td></tr></table></div></div><p>Example Code:</p><p>​ 示例代码：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>level</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>golog</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Levels</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>golog</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>DebugLevel</span><span style=color:#abb2bf>]</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>level</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Name</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;debug&#34;</span> <span style=color:#8a93a5;font-style:italic>// default
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>level</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Title</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;[DBUG]&#34;</span> <span style=color:#8a93a5;font-style:italic>// default
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>level</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ColorCode</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>pio</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Yellow</span> <span style=color:#8a93a5;font-style:italic>// default
</span></span></span></code></pre></td></tr></table></div></div><p><strong>To change the output format:
要更改输出格式：</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>SetFormat</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;json&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;    &#34;</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>To register a custom Formatter:
要注册自定义格式化程序：</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>RegisterFormatter</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>new</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>myFormatter</span><span style=color:#abb2bf>))</span>
</span></span></code></pre></td></tr></table></div></div><p>The <a href=https://github.com/kataras/golog/blob/master/formatter.go>golog.Formatter interface</a> looks like this:</p><p>​ golog.Formatter 接口如下所示：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Formatter is responsible to print a log to the logger&#39;s writer.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>Formatter</span> <span style=color:#76a9f9>interface</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// The name of the formatter.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>String</span><span style=color:#abb2bf>()</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Set any options and return a clone,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// generic. See `Logger.SetFormat`.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>Options</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>opts</span> <span style=color:#54b1c7>...</span><span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#aa89ea>Formatter</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Writes the &#34;log&#34; to &#34;dest&#34; logger.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>Format</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>dest</span> <span style=color:#aa89ea>io</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Writer</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>log</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>Log</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>bool</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>To change the output and the format per level:
要更改每个级别的输出和格式：</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>SetLevelOutput</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;error&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>os</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Stderr</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>SetLevelFormat</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;json&#34;</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=request-logging-请求日志记录>Request Logging 请求日志记录</h3><p>The application logger we&rsquo;ve seen above it&rsquo;s used to log application-releated information and errors. At the other hand, the Access Logger, we see below, is used to log the incoming HTTP requests and responses.</p><p>​ 我们上面看到的应用程序记录器用于记录与应用程序相关的的信息和错误。另一方面，我们下面看到的访问记录器用于记录传入的 HTTP 请求和响应。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">61
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12/middleware/accesslog&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Read the example and its comments carefully.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>makeAccessLog</span><span style=color:#abb2bf>()</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>accesslog</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>AccessLog</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Initialize a new access log middleware.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ac</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>accesslog</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>File</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./access.log&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Remove this line to disable logging to console:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AddOutput</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>os</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Stdout</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// The default configuration:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Delim</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#39;|&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>TimeFormat</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;2006-01-02 15:04:05&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Async</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>false</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>IP</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>true</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>BytesReceivedBody</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>true</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>BytesSentBody</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>true</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>BytesReceived</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>false</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>BytesSent</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>false</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>BodyMinify</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>true</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>RequestBody</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>true</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ResponseBody</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>false</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>KeepMultiLineError</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>true</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>PanicLog</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>accesslog</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>LogHandler</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Default line format if formatter is missing:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Time|Latency|Code|Method|Path|IP|Path Params Query Fields|Bytes Received|Bytes Sent|Request|Response|
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Set Custom Formatter:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SetFormatter</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>accesslog</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>JSON</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>Indent</span><span style=color:#abb2bf>:</span>    <span style=color:#98c379>&#34;  &#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>HumanTime</span><span style=color:#abb2bf>:</span> <span style=color:#e5c07b>true</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// ac.SetFormatter(&amp;accesslog.CSV{})
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// ac.SetFormatter(&amp;accesslog.Template{Text: &#34;{{.Code}}&#34;})
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>ac</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ac</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>makeAccessLog</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>defer</span> <span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Close</span><span style=color:#abb2bf>()</span> <span style=color:#8a93a5;font-style:italic>// Close the underline file.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Register the middleware (UseRouter to catch http errors too).
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>UseRouter</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ac</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Handler</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>indexHandler</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>indexHandler</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;OK&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Read more examples at: <a href=https://github.com/kataras/iris/tree/main/_examples/logging/request-logger>_examples/logging/request-logger</a>.</p><p>​ 在以下位置阅读更多示例：_examples/logging/request-logger。</p><h3 id=model-binding-and-validation-模型绑定和验证>Model binding and validation 模型绑定和验证</h3><p>To bind a request body into a type, use model binding. We currently support binding of <code>JSON</code>, <code>JSONProtobuf</code>, <code>Protobuf</code>, <code>MsgPack</code>, <code>XML</code>, <code>YAML</code> and standard form values (foo=bar&amp;boo=baz).</p><p>​ 要将请求正文绑定到类型，请使用模型绑定。我们目前支持绑定 <code>JSON</code> 、 <code>JSONProtobuf</code> 、 <code>Protobuf</code> 、 <code>MsgPack</code> 、 <code>XML</code> 、 <code>YAML</code> 和标准表单值 (foo=bar&amp;boo=baz)。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00b1f7>ReadJSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>outPtr</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ReadJSONProtobuf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ptr</span> <span style=color:#aa89ea>proto</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Message</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>opts</span> <span style=color:#54b1c7>...</span><span style=color:#aa89ea>ProtoUnmarshalOptions</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ReadProtobuf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ptr</span> <span style=color:#aa89ea>proto</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Message</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ReadMsgPack</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ptr</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ReadXML</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>outPtr</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ReadYAML</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>outPtr</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ReadForm</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>formObject</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ReadQuery</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ptr</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#e5c07b>error</span>
</span></span></code></pre></td></tr></table></div></div><p>When using the <code>ReadBody</code>, Iris tries to infer the binder depending on the Content-Type header. If you are sure what you are binding, you can use the specific <code>ReadXXX</code> methods, e.g. <code>ReadJSON</code> or <code>ReadProtobuf</code> and e.t.c.</p><p>​ 使用 <code>ReadBody</code> 时，Iris 会尝试根据 Content-Type 标头推断绑定器。如果您确定要绑定什么，可以使用特定的 <code>ReadXXX</code> 方法，例如 <code>ReadJSON</code> 或 <code>ReadProtobuf</code> 等。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00b1f7>ReadBody</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ptr</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#e5c07b>error</span>
</span></span></code></pre></td></tr></table></div></div><p>Iris, wisely, not features a builtin data validation. However, it does allow you to attach a validator which will automatically called on methods like <code>ReadJSON</code>, <code>ReadXML</code>&mldr;. In this example we will learn how to use the <a href=https://www.iris-go.com/docs/(https://github.com/go-playground/validator)>go-playground/validator/v10</a> for request body validation.</p><p>​ Iris 明智地不提供内置数据验证。但是，它确实允许您附加一个验证器，该验证器将自动在 <code>ReadJSON</code> 、 <code>ReadXML</code> 等方法上调用&mldr;. 在此示例中，我们将学习如何使用 go-playground/validator/v10 进行请求正文验证。</p><p>Note that you need to set the corresponding binding tag on all fields you want to bind. For example, when binding from JSON, set <code>json:"fieldname"</code>.</p><p>​ 请注意，您需要在要绑定的所有字段上设置相应的绑定标记。例如，从 JSON 绑定时，设置 <code>json:"fieldname"</code> 。</p><p>You can also specify that specific fields are required. If a field is decorated with <code>binding:"required"</code> and has a empty value when binding, an error will be returned.</p><p>​ 您还可以指定特定字段是必需的。如果某个字段用 <code>binding:"required"</code> 修饰，并且在绑定时为空值，则会返回错误。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">95
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/go-playground/validator/v10&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Validator</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>validator</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>userRouter</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Party</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/user&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>userRouter</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/validation-errors&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>resolveErrorsDocumentation</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>userRouter</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>postUser</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// User contains user information.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>User</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>FirstName</span>      <span style=color:#e5c07b>string</span>     <span style=color:#98c379>`json:&#34;fname&#34; validate:&#34;required&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>LastName</span>       <span style=color:#e5c07b>string</span>     <span style=color:#98c379>`json:&#34;lname&#34; validate:&#34;required&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Age</span>            <span style=color:#e5c07b>uint8</span>      <span style=color:#98c379>`json:&#34;age&#34; validate:&#34;gte=0,lte=130&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Email</span>          <span style=color:#e5c07b>string</span>     <span style=color:#98c379>`json:&#34;email&#34; validate:&#34;required,email&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>FavouriteColor</span> <span style=color:#e5c07b>string</span>     <span style=color:#98c379>`json:&#34;favColor&#34; validate:&#34;hexcolor|rgb|rgba&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Addresses</span>      <span style=color:#abb2bf>[]</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>Address</span> <span style=color:#98c379>`json:&#34;addresses&#34; validate:&#34;required,dive,required&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Address houses a users address information.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>Address</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Street</span> <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;street&#34; validate:&#34;required&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>City</span>   <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;city&#34; validate:&#34;required&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Planet</span> <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;planet&#34; validate:&#34;required&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Phone</span>  <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;phone&#34; validate:&#34;required&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>validationError</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ActualTag</span> <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;tag&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Namespace</span> <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;namespace&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Kind</span>      <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;kind&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Type</span>      <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;type&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Value</span>     <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;value&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Param</span>     <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;param&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>wrapValidationErrors</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errs</span> <span style=color:#aa89ea>validator</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ValidationErrors</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>[]</span><span style=color:#aa89ea>validationError</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>validationErrors</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>([]</span><span style=color:#aa89ea>validationError</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errs</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>for</span> <span style=color:#aa89ea>_</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>validationErr</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>errs</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>validationErrors</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>validationErrors</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>validationError</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ActualTag</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>validationErr</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ActualTag</span><span style=color:#abb2bf>(),</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Namespace</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>validationErr</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Namespace</span><span style=color:#abb2bf>(),</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Kind</span><span style=color:#abb2bf>:</span>      <span style=color:#aa89ea>validationErr</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Kind</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>String</span><span style=color:#abb2bf>(),</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Type</span><span style=color:#abb2bf>:</span>      <span style=color:#aa89ea>validationErr</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Type</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>String</span><span style=color:#abb2bf>(),</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Value</span><span style=color:#abb2bf>:</span>     <span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Sprintf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>validationErr</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Value</span><span style=color:#abb2bf>()),</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Param</span><span style=color:#abb2bf>:</span>     <span style=color:#aa89ea>validationErr</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Param</span><span style=color:#abb2bf>(),</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>validationErrors</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>postUser</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>user</span> <span style=color:#aa89ea>User</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadJSON</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>user</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Handle the error, below you will find the right way to do that...
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>errs</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ok</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>.(</span><span style=color:#aa89ea>validator</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ValidationErrors</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>ok</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>// Wrap the errors with JSON format, the underline library returns the errors as interface.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#aa89ea>validationErrors</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>wrapValidationErrors</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>errs</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>// Fire an application/json+problem response and stop the handlers chain.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithProblem</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>NewProblem</span><span style=color:#abb2bf>().</span>
</span></span><span style=display:flex><span>                <span style=color:#00b1f7>Title</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Validation error&#34;</span><span style=color:#abb2bf>).</span>
</span></span><span style=display:flex><span>                <span style=color:#00b1f7>Detail</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;One or more fields failed to be validated&#34;</span><span style=color:#abb2bf>).</span>
</span></span><span style=display:flex><span>                <span style=color:#00b1f7>Type</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/user/validation-errors&#34;</span><span style=color:#abb2bf>).</span>
</span></span><span style=display:flex><span>                <span style=color:#00b1f7>Key</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;errors&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>validationErrors</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// It&#39;s probably an internal JSON error, let&#39;s dont give more info here.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithStatus</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusInternalServerError</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;OK&#34;</span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>resolveErrorsDocumentation</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;A page that should document to web developers or users of the API on how to resolve the validation errors&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Sample request
示例请求</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;fname&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;lname&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;age&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>45</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;email&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;mail@example.com&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;favColor&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;#000&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;addresses&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#abb2bf>[{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;street&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;Eavesdown Docks&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;planet&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;Persphone&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;phone&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;none&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;city&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;Unknown&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}]</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Sample response
示例响应</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;title&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;Validation error&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;detail&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;One or more fields failed to be validated&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;type&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;http://localhost:8080/user/validation-errors&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;status&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>400</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;fields&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#abb2bf>[</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;tag&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;required&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;namespace&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;User.FirstName&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;kind&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;string&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;type&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;string&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;value&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;param&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>},</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;tag&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;required&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;namespace&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;User.LastName&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;kind&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;string&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;type&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;string&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;value&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>&#34;param&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>]</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Learn more about model validation at: <a href=https://github.com/go-playground/validator/blob/master/_examples>https://github.com/go-playground/validator/blob/master/_examples</a></p><p>​ 在以下网址了解有关模型验证的更多信息：https://github.com/go-playground/validator/blob/master/_examples</p><h3 id=bind-query-string-绑定查询字符串>Bind Query String 绑定查询字符串</h3><p>The <code>ReadQuery</code> method only binds the query params and not the post data, use <code>ReadForm</code> instead to bind post data.</p><p>​ <code>ReadQuery</code> 方法仅绑定查询参数，而不绑定 post 数据，请改用 <code>ReadForm</code> 来绑定 post 数据。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>Person</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Name</span>    <span style=color:#e5c07b>string</span> <span style=color:#98c379>`url:&#34;name,required&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Address</span> <span style=color:#e5c07b>string</span> <span style=color:#98c379>`url:&#34;address&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Any</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>index</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>index</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>person</span> <span style=color:#aa89ea>Person</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadQuery</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>person</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>!=</span><span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Infof</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Person: %#+v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>person</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Success&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=bind-any-绑定任何内容>Bind Any 绑定任何内容</h3><p>Bind request body to &ldquo;ptr&rdquo; depending on the content-type that client sends the data, e.g. JSON, XML, YAML, MessagePack, Protobuf, Form and URL Query.</p><p>​ 根据客户端发送数据的 content-type 将请求正文绑定到“ptr”，例如 JSON、XML、YAML、MessagePack、Protobuf、表单和 URL 查询。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;time&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>Person</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>Name</span>       <span style=color:#e5c07b>string</span>    <span style=color:#98c379>`form:&#34;name&#34; json:&#34;name&#34; url:&#34;name&#34; msgpack:&#34;name&#34;`</span> 
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>Address</span>    <span style=color:#e5c07b>string</span>    <span style=color:#98c379>`form:&#34;address&#34; json:&#34;address&#34; url:&#34;address&#34; msgpack:&#34;address&#34;`</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>Birthday</span>   <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Time</span> <span style=color:#98c379>`form:&#34;birthday&#34; time_format:&#34;2006-01-02&#34; time_utc:&#34;1&#34; json:&#34;birthday&#34; url:&#34;birthday&#34; msgpack:&#34;birthday&#34;`</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>CreateTime</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Time</span> <span style=color:#98c379>`form:&#34;createTime&#34; time_format:&#34;unixNano&#34; json:&#34;create_time&#34; url:&#34;create_time&#34; msgpack:&#34;createTime&#34;`</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>UnixTime</span>   <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Time</span> <span style=color:#98c379>`form:&#34;unixTime&#34; time_format:&#34;unix&#34; json:&#34;unix_time&#34; url:&#34;unix_time&#34; msgpack:&#34;unixTime&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Any</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>index</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>index</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>person</span> <span style=color:#aa89ea>Person</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadBody</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>person</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>!=</span><span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Infof</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Person: %#+v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>person</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Success&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Test it with:</p><p>​ 使用以下内容进行测试：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ curl -X GET <span style=color:#63c381>&#34;localhost:8085/testing?name=kataras&amp;address=xyz&amp;birthday=1992-03-15&amp;createTime=1562400033000000123&amp;unixTime=1562400033&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=bind-url-path-parameters-绑定-url-路径参数>Bind URL Path Parameters 绑定 URL 路径参数</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>myParams</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Name</span> <span style=color:#e5c07b>string</span>   <span style=color:#98c379>`param:&#34;name&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Age</span>  <span style=color:#e5c07b>int</span>      <span style=color:#98c379>`param:&#34;age&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Tail</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>string</span> <span style=color:#98c379>`param:&#34;tail&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// All parameters are required, as we already know,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// the router will fire 404 if name or int or tail are missing.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/{name}/{age:int}/{tail:path}&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>p</span> <span style=color:#aa89ea>myParams</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadParams</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>p</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusInternalServerError</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;myParams: %#v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>p</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8088&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Request
请求</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ curl -v http://localhost:8080/kataras/27/iris/web/framework
</span></span></code></pre></td></tr></table></div></div><h3 id=bind-header-绑定标题>Bind Header 绑定标题</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>myHeaders</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>RequestID</span>      <span style=color:#e5c07b>string</span> <span style=color:#98c379>`header:&#34;X-Request-Id,required&#34;`</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Authentication</span> <span style=color:#e5c07b>string</span> <span style=color:#98c379>`header:&#34;Authentication,required&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>r</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>hs</span> <span style=color:#aa89ea>myHeaders</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadHeaders</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>hs</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusInternalServerError</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>hs</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Request
请求</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>curl -H <span style=color:#63c381>&#34;x-request-id:373713f0-6b4b-42ea-ab9f-e2e04bc38e73&#34;</span> -H <span style=color:#63c381>&#34;authentication: Bearer my-token&#34;</span> <span style=color:#d26464;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#d26464;font-weight:700></span>http://localhost:8080
</span></span></code></pre></td></tr></table></div></div><p><strong>Response
响应</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>&#34;RequestID&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;373713f0-6b4b-42ea-ab9f-e2e04bc38e73&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>&#34;Authentication&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;Bearer my-token&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=bind-html-checkboxes-绑定-html-复选框>Bind HTML checkboxes 绑定 HTML 复选框</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>RegisterView</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./templates&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;.html&#34;</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>showForm</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>handleForm</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>showForm</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>View</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;form.html&#34;</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>!=</span><span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;&lt;h3&gt;%s&lt;/h3&gt;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>formExample</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Colors</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>string</span> <span style=color:#98c379>`form:&#34;colors[]&#34;`</span> <span style=color:#8a93a5;font-style:italic>// or just &#34;colors&#34;.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>handleForm</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>form</span> <span style=color:#aa89ea>formExample</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadForm</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>form</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;Colors&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>form</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Colors</span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>templates/form.html</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>form</span> <span style=color:#cebc3a>action</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;/&#34;</span> <span style=color:#cebc3a>method</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;POST&#34;</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>p</span><span style=color:#abb2bf>&gt;</span>Check one or more colors<span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>p</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>label</span> <span style=color:#cebc3a>for</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;red&#34;</span><span style=color:#abb2bf>&gt;</span>Red<span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>label</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>&lt;!-- name can be &#34;colors&#34; too --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>input</span> <span style=color:#cebc3a>type</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;checkbox&#34;</span> <span style=color:#cebc3a>name</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;colors[]&#34;</span> <span style=color:#cebc3a>value</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;red&#34;</span> <span style=color:#cebc3a>id</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;red&#34;</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>label</span> <span style=color:#cebc3a>for</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;green&#34;</span><span style=color:#abb2bf>&gt;</span>Green<span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>label</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>input</span> <span style=color:#cebc3a>type</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;checkbox&#34;</span> <span style=color:#cebc3a>name</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;colors[]&#34;</span> <span style=color:#cebc3a>value</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;green&#34;</span> <span style=color:#cebc3a>id</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;green&#34;</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>label</span> <span style=color:#cebc3a>for</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;blue&#34;</span><span style=color:#abb2bf>&gt;</span>Blue<span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>label</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>input</span> <span style=color:#cebc3a>type</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;checkbox&#34;</span> <span style=color:#cebc3a>name</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;colors[]&#34;</span> <span style=color:#cebc3a>value</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;blue&#34;</span> <span style=color:#cebc3a>id</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;blue&#34;</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>input</span> <span style=color:#cebc3a>type</span><span style=color:#54b1c7>=</span><span style=color:#98c379>&#34;submit&#34;</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>form</span><span style=color:#abb2bf>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Response
响应</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>&#34;Colors&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#abb2bf>[</span>
</span></span><span style=display:flex><span>    <span style=color:#63c381>&#34;red&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#63c381>&#34;green&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#63c381>&#34;blue&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#abb2bf>]</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=json-jsonp-xml-markdown-yaml-and-msgpack-rendering-jsonjsonpxmlmarkdownyaml-和-msgpack-渲染>JSON, JSONP, XML, Markdown, YAML and MsgPack rendering JSON、JSONP、XML、Markdown、YAML 和 MsgPack 渲染</h3><p>Detailed examples can be found <a href=https://github.com/kataras/iris/tree/main/_examples/response-writer/write-rest>here</a>.</p><p>​ 此处可找到详细示例。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">90
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// iris.Map is an alias of map[string]interface{}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/json&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;hello&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;status&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Use Secure field to prevent json hijacking.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// It prepends `&#34;while(1),&#34;` to the body when the data is array.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/json_secure&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>response</span> <span style=color:#54b1c7>:=</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;val1&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;val2&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;val3&#34;</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>options</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>JSON</span><span style=color:#abb2bf>{</span><span style=color:#aa89ea>Indent</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>Secure</span><span style=color:#abb2bf>:</span> <span style=color:#e5c07b>true</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>response</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>options</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Will output: while(1);[&#34;val1&#34;,&#34;val2&#34;,&#34;val3&#34;]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Use ASCII field to generate ASCII-only JSON
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// with escaped non-ASCII characters.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/json_ascii&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>response</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;lang&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;GO-虹膜&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;tag&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;&lt;br&gt;&#34;</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>options</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>JSON</span><span style=color:#abb2bf>{</span><span style=color:#aa89ea>Indent</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;    &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ASCII</span><span style=color:#abb2bf>:</span> <span style=color:#e5c07b>true</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>response</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>options</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>/* Will output:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>           {
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>               &#34;lang&#34;: &#34;GO-\u8679\u819c&#34;,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>               &#34;tag&#34;: &#34;\u003cbr\u003e&#34;
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>           }
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>        */</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Normally, JSON replaces special HTML characters with their unicode entities.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// If you want to encode such characters literally,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// you SHOULD set the UnescapeHTML field to true.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/json_raw&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>options</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>JSON</span><span style=color:#abb2bf>{</span><span style=color:#aa89ea>UnescapeHTML</span><span style=color:#abb2bf>:</span> <span style=color:#e5c07b>true</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;html&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;&lt;b&gt;Hello, world!&lt;/b&gt;&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>},</span> <span style=color:#aa89ea>options</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Will output: {&#34;html&#34;:&#34;&lt;b&gt;Hello, world!&lt;/b&gt;&#34;}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/json_struct&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// You also can use a struct.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>msg</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Name</span>    <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;user&#34;`</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Message</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Number</span>  <span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>msg</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Name</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;Mariah&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>msg</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Message</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;hello&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>msg</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Number</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>42</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Note that msg.Name becomes &#34;user&#34; in the JSON.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// Will output: {&#34;user&#34;: &#34;Mariah&#34;, &#34;Message&#34;: &#34;hello&#34;, &#34;Number&#34;: 42}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>msg</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/jsonp&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSONP</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;hello&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;jsonp&#34;</span><span style=color:#abb2bf>},</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>JSONP</span><span style=color:#abb2bf>{</span><span style=color:#aa89ea>Callback</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;callbackName&#34;</span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/xml&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>XML</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;hello&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;status&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/markdown&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Markdown</span><span style=color:#abb2bf>([]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;# Hello Dynamic Markdown -- iris&#34;</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/yaml&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>YAML</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;hello&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;status&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/msgpack&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>u</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>User</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Firstname</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;John&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Lastname</span><span style=color:#abb2bf>:</span>  <span style=color:#98c379>&#34;Doe&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>City</span><span style=color:#abb2bf>:</span>      <span style=color:#98c379>&#34;Neither FBI knows!!!&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Age</span><span style=color:#abb2bf>:</span>       <span style=color:#d19a66>25</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>MsgPack</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>u</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Render using jsoniter instead of the encoding/json:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>WithOptimizations</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=protobuf>Protobuf</h4><p>Iris supports native protobuf with <code>Protobuf</code> and protobuf to JSON encode and decode.</p><p>​ Iris 支持原生 protobuf，并使用 <code>Protobuf</code> 和 protobuf 将 JSON 编码和解码。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">60
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;app/protos&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>send</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/json&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>sendAsJSON</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/read&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>read</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/read_json&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>readFromJSON</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>send</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>response</span> <span style=color:#54b1c7>:=</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>protos</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>HelloReply</span><span style=color:#abb2bf>{</span><span style=color:#aa89ea>Message</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;Hello, World!&#34;</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Protobuf</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>response</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>sendAsJSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>response</span> <span style=color:#54b1c7>:=</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>protos</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>HelloReply</span><span style=color:#abb2bf>{</span><span style=color:#aa89ea>Message</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;Hello, World!&#34;</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>options</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>JSON</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>Proto</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ProtoMarshalOptions</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>AllowPartial</span><span style=color:#abb2bf>:</span> <span style=color:#e5c07b>true</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Multiline</span><span style=color:#abb2bf>:</span>    <span style=color:#e5c07b>true</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>Indent</span><span style=color:#abb2bf>:</span>       <span style=color:#98c379>&#34;    &#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>},</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>response</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>options</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>read</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>request</span> <span style=color:#aa89ea>protos</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>HelloRequest</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadProtobuf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>request</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;HelloRequest.Name = %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>request</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Name</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>readFromJSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>request</span> <span style=color:#aa89ea>protos</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>HelloRequest</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadJSONProtobuf</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>request</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;HelloRequest.Name = %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>request</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Name</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=serving-static-files-提供静态文件>Serving static files 提供静态文件</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Favicon</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./resources/favicon.ico&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HandleDir</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/assets&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Dir</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./assets&#34;</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>HandleDir</code> method accepts a third, optional argument of <code>DirOptions</code>:</p><p>​ <code>HandleDir</code> 方法接受第三个可选参数 <code>DirOptions</code> ：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>DirOptions</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Defaults to &#34;/index.html&#34;, if request path is ending with **/*/$IndexName
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// then it redirects to **/*(/) which another handler is handling it,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// that another handler, called index handler, is auto-registered by the framework
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// if end developer does not managed to handle it by hand.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>IndexName</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// PushTargets filenames (map&#39;s value) to
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// be served without additional client&#39;s requests (HTTP/2 Push)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// when a specific request path (map&#39;s key WITHOUT prefix)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// is requested and it&#39;s not a directory (it&#39;s an `IndexFile`).
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Example:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//     &#34;/&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//         &#34;favicon.ico&#34;,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//         &#34;js/main.js&#34;,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//         &#34;css/main.css&#34;,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//     }
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>PushTargets</span> <span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>][]</span><span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// PushTargetsRegexp like `PushTargets` but accepts regexp which
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// is compared against all files under a directory (recursively).
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// The `IndexName` should be set.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Example:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// &#34;/&#34;: regexp.MustCompile(&#34;((.*).js|(.*).css|(.*).ico)$&#34;)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// See `iris.MatchCommonAssets` too.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>PushTargetsRegexp</span> <span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>]</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>regexp</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Regexp</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Cache to enable in-memory cache and pre-compress files.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>Cache</span> <span style=color:#aa89ea>DirCacheOptions</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// When files should served under compression.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>Compress</span> <span style=color:#e5c07b>bool</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// List the files inside the current requested directory if `IndexName` not found.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ShowList</span> <span style=color:#e5c07b>bool</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// If `ShowList` is true then this function will be used instead
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// of the default one to show the list of files of a current requested directory(dir).
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// See `DirListRich` package-level function too.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>DirList</span> <span style=color:#aa89ea>DirListFunc</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Files downloaded and saved locally.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>Attachments</span> <span style=color:#aa89ea>Attachments</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Optional validator that loops through each requested resource.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>AssetValidator</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>context</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>name</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>bool</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Learn more about <a href=https://github.com/kataras/iris/tree/main/_examples/file-server>file-server</a>.</p><p>​ 了解有关文件服务器的更多信息。</p><h3 id=serving-data-from-context-从-context-提供数据>Serving data from Context 从 Context 提供数据</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00b1f7>SendFile</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>filename</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>destinationName</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>SendFileWithRate</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>src</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>destName</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>limit</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>burst</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>error</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Usage
用法</strong></p><p>Force-Send a file to the client:</p><p>​ 强制向客户端发送文件：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>handler</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>src</span> <span style=color:#54b1c7>:=</span> <span style=color:#98c379>&#34;./files/first.zip&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SendFile</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>src</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;client.zip&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Limit download speed to ~50Kb/s with a burst of 100KB:</p><p>​ 将下载速度限制为约 50Kb/s，突发速度为 100KB：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>handler</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>src</span> <span style=color:#54b1c7>:=</span> <span style=color:#98c379>&#34;./files/big.zip&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// optionally, keep it empty to resolve the filename based on the &#34;src&#34;.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>dest</span> <span style=color:#54b1c7>:=</span> <span style=color:#98c379>&#34;&#34;</span> 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>limit</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>50.0</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>KB</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>burst</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>100</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>KB</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SendFileWithRate</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>src</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>dest</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>limit</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>burst</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ServeContent</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>content</span> <span style=color:#aa89ea>io</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ReadSeeker</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>filename</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>modtime</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Time</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ServeContentWithRate</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>content</span> <span style=color:#aa89ea>io</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ReadSeeker</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>filename</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>modtime</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Time</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>limit</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>burst</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ServeFile</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>filename</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>error</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>ServeFileWithRate</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>filename</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>limit</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>burst</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>error</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Usage
用法</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>handler</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ServeFile</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./public/main.js&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=template-rendering-模板渲染>Template rendering 模板渲染</h3><p>Iris supports 8 template engines out-of-the-box, developers can still use any external golang template engine, as <code>Context.ResponseWriter()</code> is an <code>io.Writer</code>.</p><p>​ Iris 开箱即用支持 8 种模板引擎，开发人员仍然可以使用任何外部 golang 模板引擎，因为 <code>Context.ResponseWriter()</code> 是 <code>io.Writer</code> 。</p><p>All template engines share a common API i.e. Parse using embedded assets, Layouts and Party-specific layout, Template Funcs, Partial Render and more.</p><p>​ 所有模板引擎共享一个通用 API，即使用嵌入式资产、布局和特定于 Party 的布局、模板函数、部分渲染等进行解析。</p><table><thead><tr><th>#</th><th>Name 名称</th><th>Parser 解析器</th></tr></thead><tbody><tr><td>1</td><td>HTML</td><td><a href=https://pkg.go.dev/html/template>html/template</a></td></tr><tr><td>2</td><td>Blocks 区块</td><td><a href=https://github.com/kataras/blocks>kataras/blocks</a></td></tr><tr><td>3</td><td>Django</td><td><a href=https://github.com/flosch/pongo2>flosch/pongo2</a></td></tr><tr><td>4</td><td>Pug</td><td><a href=https://github.com/Joker/jade>Joker/jade</a></td></tr><tr><td>5</td><td>Handlebars</td><td><a href=https://github.com/aymerick/raymond>aymerick/raymond</a></td></tr><tr><td>6</td><td>Amber</td><td><a href=https://github.com/eknkc/amber>eknkc/amber</a></td></tr><tr><td>7</td><td>Jet</td><td><a href=https://github.com/CloudyKit/jet>CloudyKit/jet</a></td></tr><tr><td>8</td><td>Ace</td><td><a href=https://github.com/yosssi/ace>yosssi/ace</a></td></tr></tbody></table><p><a href=https://github.com/kataras/iris/tree/main/_examples/view>List of Examples</a>.</p><p>​ 示例列表。</p><p><a href=https://dev.to/kataras/what-s-the-fastest-template-parser-in-go-4bal>List of Benchmarks</a>.</p><p>​ 基准列表。</p><p>A view engine can be registered per-Party. To <strong>register</strong> a view engine use the <code>Application/Party.RegisterView(ViewEngine)</code> method as shown below.</p><p>​ 可以为每个 Party 注册一个视图引擎。要注册视图引擎，请使用 <code>Application/Party.RegisterView(ViewEngine)</code> 方法，如下所示。</p><p>Load all templates from the &ldquo;./views&rdquo; folder where extension is &ldquo;.html&rdquo; and parse them using the standard <code>html/template</code> package.</p><p>​ 从扩展名为“html”的“./views”文件夹中加载所有模板，并使用标准 <code>html/template</code> 包对其进行解析。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// [app := iris.New...]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>tmpl</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./views&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;.html&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>RegisterView</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>To <strong>render or execute</strong> a view use the <code>Context.View</code> method inside the main route&rsquo;s handler.</p><p>​ 要在主路由的处理程序中呈现或执行视图，请使用 <code>Context.View</code> 方法。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>View</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hi.html&#34;</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>!=</span><span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;&lt;h3&gt;%s&lt;/h3&gt;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>To <strong>bind</strong> Go values with key-value pattern inside a view through middleware or main handler use the <code>Context.ViewData</code> method before the <code>Context.View</code> one.</p><p>​ 要通过中间件或主处理程序在视图中使用键值模式绑定 Go 值，请在 <code>Context.View</code> 之前使用 <code>Context.ViewData</code> 方法。</p><p>Bind: <code>{{.message}}</code> with <code>"Hello world!"</code>.</p><p>​ 绑定： <code>{{.message}}</code> 与 <code>"Hello world!"</code> 。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ViewData</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;Hello world!&#34;</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Root binding:</p><p>​ 根绑定：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>View</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;user-page.html&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>User</span><span style=color:#abb2bf>{});</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>!=</span><span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;&lt;h3&gt;%s&lt;/h3&gt;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// root binding as {{.Name}}
</span></span></span></code></pre></td></tr></table></div></div><p>To <strong>add a template function</strong> use the <code>AddFunc</code> method of the preferred view engine.</p><p>​ 要添加模板函数，请使用首选视图引擎的 <code>AddFunc</code> 方法。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>//       func name, input arguments, render value
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AddFunc</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;greet&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>string</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Greetings &#34;</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>s</span> <span style=color:#54b1c7>+</span> <span style=color:#98c379>&#34;!&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>})</span>
</span></span></code></pre></td></tr></table></div></div><p>To <strong>reload on every request</strong> call the view engine&rsquo;s <code>Reload</code> method.</p><p>​ 要在每次请求时重新加载，请调用视图引擎的 <code>Reload</code> 方法。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Reload</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>true</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>To use <strong>embedded</strong> templates and not depend on local file system use the <a href=https://github.com/go-bindata/go-bindata>go-bindata</a> external tool and pass its <code>AssetFile()</code> generated function to the first input argument of the preferred view engine.</p><p>​ 要使用嵌入式模板而不依赖于本地文件系统，请使用 go-bindata 外部工具，并将它生成的 <code>AssetFile()</code> 函数传递给首选视图引擎的第一个输入参数。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span> <span style=color:#aa89ea>tmpl</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>AssetFile</span><span style=color:#abb2bf>(),</span> <span style=color:#98c379>&#34;.html&#34;</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Example Code:</p><p>​ 示例代码：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// file: main.go
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Parse all templates from the &#34;./views&#34; folder
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// where extension is &#34;.html&#34; and parse them
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// using the standard `html/template` package.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>tmpl</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./views&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;.html&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Set custom delimeters.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Delims</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;{{&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;}}&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Enable re-build on local template files changes.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Reload</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>true</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Default template funcs are:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// - {{ urlpath &#34;myNamedRoute&#34; &#34;pathParameter_ifNeeded&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// - {{ render &#34;header.html&#34; . }}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// and partial relative path to current page:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// - {{ render_r &#34;header.html&#34; . }} 
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// - {{ yield . }}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// - {{ current }}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Register a custom template func:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AddFunc</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;greet&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>string</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Greetings &#34;</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>s</span> <span style=color:#54b1c7>+</span> <span style=color:#98c379>&#34;!&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Register the view engine to the views,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// this will load the templates.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>RegisterView</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Method:    GET
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Resource:  http://localhost:8080
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Bind: {{.message}} with &#34;Hello world!&#34;
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ViewData</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;Hello world!&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Render template file: ./views/hi.html
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>View</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hi.html&#34;</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>!=</span><span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;&lt;h3&gt;%s&lt;/h3&gt;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;!</span><span style=color:#54b1c7>--</span> <span style=color:#aa89ea>file</span><span style=color:#abb2bf>:</span> <span style=color:#abb2bf>.</span><span style=color:#54b1c7>/</span><span style=color:#aa89ea>views</span><span style=color:#54b1c7>/</span><span style=color:#aa89ea>hi</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>html</span> <span style=color:#54b1c7>--</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#aa89ea>html</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#aa89ea>head</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#aa89ea>title</span><span style=color:#abb2bf>&gt;</span><span style=color:#aa89ea>Hi</span> <span style=color:#aa89ea>Page</span><span style=color:#abb2bf>&lt;</span><span style=color:#54b1c7>/</span><span style=color:#aa89ea>title</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#54b1c7>/</span><span style=color:#aa89ea>head</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#aa89ea>body</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#aa89ea>h1</span><span style=color:#abb2bf>&gt;{{.</span><span style=color:#aa89ea>message</span><span style=color:#abb2bf>}}&lt;</span><span style=color:#54b1c7>/</span><span style=color:#aa89ea>h1</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#aa89ea>strong</span><span style=color:#abb2bf>&gt;{{</span><span style=color:#aa89ea>greet</span> <span style=color:#98c379>&#34;to you&#34;</span><span style=color:#abb2bf>}}&lt;</span><span style=color:#54b1c7>/</span><span style=color:#aa89ea>strong</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#54b1c7>/</span><span style=color:#aa89ea>body</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#54b1c7>/</span><span style=color:#aa89ea>html</span><span style=color:#abb2bf>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Open a browser tab at <a href=http://localhost:8080/>http://localhost:8080</a>.</p><p>​ 在 http://localhost:8080 打开一个浏览器选项卡。</p><p>The <strong>rendered result</strong> will look like this:</p><p>​ 呈现的结果将如下所示：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>html</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>head</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>title</span><span style=color:#abb2bf>&gt;</span>Hi Page<span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>title</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>head</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>body</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>h1</span><span style=color:#abb2bf>&gt;</span>Hello world!<span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>h1</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>&lt;</span><span style=color:#76a9f9>strong</span><span style=color:#abb2bf>&gt;</span>Greetings to you!<span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>strong</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>body</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;/</span><span style=color:#76a9f9>html</span><span style=color:#abb2bf>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=multitemplate>Multitemplate</h3><p>Iris allows unlimited number of registered view engines per Application. Besides that, you can register a view engine <strong>per Party or through middleware too!</strong>.</p><p>​ Iris 允许每个应用程序注册无限数量的视图引擎。除此之外，您还可以为每个 Party 或通过中间件注册视图引擎！</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Register a view engine per group of routes.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>adminGroup</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Party</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>adminGroup</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>RegisterView</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Blocks</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./views/admin&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;.html&#34;</span><span style=color:#abb2bf>))</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=through-middleware-通过中间件>Through Middleware 通过中间件</h4><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>middleware</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>views</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ViewEngine</span><span style=color:#abb2bf>)</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Handler</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ViewEngine</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>views</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Next</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>Usage
用法</strong></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Register a view engine on-fly for the current chain of handlers.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>views</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Blocks</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./views/on-fly&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;.html&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>views</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Load</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>setViews</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>views</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>onFly</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=redirects-重定向>Redirects 重定向</h3><p>Issuing a HTTP redirect is easy. Both internal and external locations are supported. By locations we mean, paths, subdomains, domains and e.t.c.</p><p>​ 发出 HTTP 重定向很容易。内部和外部位置都受支持。位置是指路径、子域、域等。</p><h4 id=from-handler-来自处理程序>From Handler 来自处理程序</h4><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Redirect</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;https://go.dev/dl&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusMovedPermanently</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>})</span>
</span></span></code></pre></td></tr></table></div></div><p>Issuing a HTTP redirect from POST.</p><p>​ 从 POST 发出 HTTP 重定向。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Redirect</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/login&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusFound</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>})</span>
</span></span></code></pre></td></tr></table></div></div><p>Issuing a local router redirect from a Handler, use <code>Application.ServeHTTPC</code> or <code>Exec()</code> like below.</p><p>​ 从处理程序发出本地路由器重定向，请像下面一样使用 <code>Application.ServeHTTPC</code> 或 <code>Exec()</code> 。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/test&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>r</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Request</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>r</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>URL</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Path</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;/test2&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>ServeHTTPC</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// OR
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// ctx.Exec(&#34;GET&#34;, &#34;/test2&#34;)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/test2&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;hello&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;world&#34;</span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>})</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=globally-全局>Globally 全局</h4><p>Use the syntax we all love.</p><p>​ 使用我们都喜欢的语法。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12/middleware/rewrite&#34;</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...routes]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>redirects</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>rewrite</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Load</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;redirects.yml&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WrapRouter</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>redirects</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:80&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>"redirects.yml"</code> file looks like that:</p><p>​ <code>"redirects.yml"</code> 文件如下所示：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#76a9f9>RedirectMatch</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># Redirects /seo/* to /*</span>
</span></span><span style=display:flex><span>  - <span style=color:#d19a66>301</span> <span style=color:#98c379>/seo/(.*) /$1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># Redirects /docs/v12* to /docs</span>
</span></span><span style=display:flex><span>  - <span style=color:#d19a66>301</span> <span style=color:#98c379>/docs/v12(.*) /docs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># Redirects /old(.*) to /</span>
</span></span><span style=display:flex><span>  - <span style=color:#d19a66>301</span> <span style=color:#98c379>/old(.*) /</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># Redirects http or https://test.* to http or https://newtest.*</span>
</span></span><span style=display:flex><span>  - <span style=color:#d19a66>301</span> <span style=color:#98c379>^(http|https)://test.(.*) $1://newtest.$2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># Handles /*.json or .xml as *?format=json or xml,</span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># without redirect. See /users route.</span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># When Code is 0 then it does not redirect the request,</span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># instead it changes the request URL</span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># and leaves a route handle the request.</span>
</span></span><span style=display:flex><span>  - <span style=color:#d19a66>0</span> <span style=color:#98c379>/(.*).(json|xml) /$1?format=$2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic># Redirects root domain to www.</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic># Creation of a www subdomain inside the Application is unnecessary,</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic># all requests are handled by the root Application itself.</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>PrimarySubdomain</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>www</span>
</span></span></code></pre></td></tr></table></div></div><p>The full code can be found at the <a href=https://github.com/kataras/iris/tree/main/_examples/routing/rewrite>rewrite middleware example</a>.</p><p>​ 可以在重写中间件示例中找到完整代码。</p><h3 id=custom-middleware-自定义中间件>Custom Middleware 自定义中间件</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>()</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Handler</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>t</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Now</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Set a shared variable between handlers
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Values</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Set</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;framework&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;iris&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// before request
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Next</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// after request
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>latency</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Since</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Print</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>latency</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// access the status we are sending
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>status</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetStatusCode</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>status</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Use</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/test&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// retrieve a value set by the middleware.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>framework</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Values</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>GetString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;framework&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// it would print: &#34;iris&#34;
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>framework</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=using-basic-authentication-使用基本身份验证>Using Basic Authentication 使用基本身份验证</h3><p>HTTP Basic Authentication is the simplest technique for enforcing access controls to web resources because it does not require cookies, session identifiers, or login pages; rather, HTTP Basic authentication uses standard fields in the HTTP header.</p><p>​ HTTP 基本身份验证是实施对 Web 资源的访问控制的最简单技术，因为它不需要 cookie、会话标识符或登录页面；相反，HTTP 基本身份验证使用 HTTP 标头中的标准字段。</p><p>The Basic Authentication middleware <a href=https://github.com/kataras/iris/tree/main/middleware/basicauth>is included</a> with the Iris framework, so you do not need to install it separately.</p><p>​ Iris 框架中包含基本身份验证中间件，因此您无需单独安装它。</p><p><strong>1.</strong> Import the middleware</p><p>​ 1. 导入中间件</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12/middleware/basicauth&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>2.</strong> Configure the middleware with its <code>Options</code> struct:</p><p>​ 2. 使用其 <code>Options</code> 结构配置中间件：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>opts</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Options</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Allow</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AllowUsers</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#98c379>&#34;username&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;password&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}),</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Realm</span><span style=color:#abb2bf>:</span>        <span style=color:#98c379>&#34;Authorization Required&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ErrorHandler</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>DefaultErrorHandler</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...more options]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>3.</strong> Initialize the middleware:</p><p>​ 3. 初始化中间件：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>auth</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>opts</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>3.1</strong> The above steps are the same as the <code>Default</code> function:</p><p>​ 3.1 上述步骤与 <code>Default</code> 函数相同：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>auth</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;username&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;password&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>})</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>3.2</strong> Use a custom slice of Users:</p><p>​ 3.2 使用自定义的用户切片：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// The struct value MUST contain a Username and Passwords fields
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// or GetUsername() string and GetPassword() string methods.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>User</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Username</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Password</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>auth</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>([]</span><span style=color:#aa89ea>User</span><span style=color:#abb2bf>{</span><span style=color:#54b1c7>...</span><span style=color:#abb2bf>})</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>3.3</strong> Load users from a file optionally, passwords are encrypted using the <a href=https://pkg.go.dev/golang.org/x/crypto/bcrypt>pkg.go.dev/golang.org/x/crypto/bcrypt</a> package:</p><p>​ 3.3 从文件中加载用户（可选），使用 pkg.go.dev/golang.org/x/crypto/bcrypt 包对密码进行加密：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>auth</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Load</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;users.yml&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>BCRYPT</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>3.3.1</strong> The same can be achieved using the <code>Options</code> (recommended):</p><p>​ 3.3.1 使用 <code>Options</code> 也可以实现相同的功能（推荐）：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>opts</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Options</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Allow</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AllowUsersFile</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;users.yml&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>BCRYPT</span><span style=color:#abb2bf>),</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Realm</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>DefaultRealm</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...more options]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>auth</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>opts</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Where the <code>users.yml</code> may look like that:</p><p>​ 其中 <code>users.yml</code> 可能如下所示：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#76a9f9>username</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>kataras</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>password</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>$2a$10$Irg8k8HWkDlvL0YDBKLCYee6j6zzIFTplJcvZYKA.B8/clHPZn2Ey</span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># encrypted of kataras_pass</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>role</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>admin</span>
</span></span><span style=display:flex><span>- <span style=color:#76a9f9>username</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>makis</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>password</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>$2a$10$3GXzp3J5GhHThGisbpvpZuftbmzPivDMo94XPnkTnDe7254x7sJ3O</span>
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic># encrypted of makis_pass</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>role</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>member</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>4.</strong> Register the middleware:</p><p>​ 4. 注册中间件：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Register to all matched routes
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// under a Party and its children.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Use</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>auth</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// OR/and register to all http error routes.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>UseError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>auth</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// OR register under a path prefix of a specific Party,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// including all http errors of this path prefix.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>UseRouter</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>auth</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// OR register to a specific Route before its main handler.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/protected&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>auth</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>routeHandler</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>5.</strong> Retrieve the username & password:</p><p>​ 5. 检索用户名和密码：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>routeHandler</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>username</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>password</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Request</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>BasicAuth</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>5.1</strong> Retrieve the User value (useful when you register a slice of custom user struct at <code>Options.AllowUsers</code>):</p><p>​ 5.1 检索用户值（当您在 <code>Options.AllowUsers</code> 处注册自定义用户结构的切片时很有用）：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>routeHandler</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>user</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>User</span><span style=color:#abb2bf>().(</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>SimpleUser</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// user.Username
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// user.Password
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Read more authorization and authentication examples at <a href=https://github.com/kataras/iris/tree/main/_examples/auth>_examples/auth</a>.</p><p>​ 在 _examples/auth 中阅读更多授权和身份验证示例。</p><h3 id=goroutines-inside-a-middleware-中间件内的-goroutine>Goroutines inside a middleware 中间件内的 Goroutine</h3><p>When starting new Goroutines inside a middleware or handler, you <strong>SHOULD NOT</strong> use the original context inside it, you have to use a read-only copy.</p><p>​ 在中间件或处理程序内启动新的 Goroutine 时，您不应在其中使用原始上下文，您必须使用只读副本。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/long_async&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// create a clone to be used inside the goroutine
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>ctxCopy</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Clone</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>go</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>// simulate a long task with time.Sleep(). 5 seconds
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Sleep</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Second</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>// note that you are using the copied context &#34;ctxCopy&#34;, IMPORTANT
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Done! in path: %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ctxCopy</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Path</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}()</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/long_sync&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// simulate a long task with time.Sleep(). 5 seconds
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Sleep</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Second</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// since we are NOT using a goroutine, we do not have to copy the context
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Done! in path: %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Path</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=custom-http-configuration-自定义-http-配置>Custom HTTP configuration 自定义 HTTP 配置</h3><p>More than 12 examples about http server configuration can be found at the <a href=https://github.com/kataras/iris/tree/main/_examples/http-server>_examples/http-server</a> folder.</p><p>​ 可以在 _examples/http-server 文件夹中找到有关 http 服务器配置的 12 个以上的示例。</p><p>Use <code>http.ListenAndServe()</code> directly, like this:</p><p>​ 直接使用 <code>http.ListenAndServe()</code> ，如下所示：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...routes]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Build</span><span style=color:#abb2bf>();</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>!=</span><span style=color:#e5c07b>nil</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#e5c07b>panic</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>http</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ListenAndServe</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Note that you <strong>SHOULD</strong> call its <code>Build</code> method manually to build the application and the router before using it as an <code>http.Handler</code>.</p><p>​ 请注意，您应该手动调用其 <code>Build</code> 方法来构建应用程序和路由器，然后才能将其用作 <code>http.Handler</code> 。</p><p>Another example:</p><p>​ 另一个示例：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...routes]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Build</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>srv</span> <span style=color:#54b1c7>:=</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>http</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Server</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>Addr</span><span style=color:#abb2bf>:</span>           <span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>Handler</span><span style=color:#abb2bf>:</span>        <span style=color:#aa89ea>app</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ReadTimeout</span><span style=color:#abb2bf>:</span>    <span style=color:#d19a66>10</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Second</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>WriteTimeout</span><span style=color:#abb2bf>:</span>   <span style=color:#d19a66>10</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Second</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>MaxHeaderBytes</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>1</span> <span style=color:#54b1c7>&lt;&lt;</span> <span style=color:#d19a66>20</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>srv</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ListenAndServe</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>However, you rarely need an external <code>http.Server</code> instance with Iris. You can listen using any tcp listener, http server or a custom function via <code>Application.Run</code> method.</p><p>​ 但是，您很少需要使用 Iris 的外部 <code>http.Server</code> 实例。您可以通过 <code>Application.Run</code> 方法使用任何 tcp 侦听器、http 服务器或自定义函数进行侦听。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listener</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>l</span> <span style=color:#aa89ea>net</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Listener</span><span style=color:#abb2bf>))</span> <span style=color:#8a93a5;font-style:italic>// listen using a custom net.Listener
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Server</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>srv</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>http</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Server</span><span style=color:#abb2bf>))</span> <span style=color:#8a93a5;font-style:italic>// listen using a custom http.Server
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Addr</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>addr</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>))</span> <span style=color:#8a93a5;font-style:italic>// the app.Listen is a shortcut of this method.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>TLS</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>addr</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>certFileOrContents</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>keyFileOrContents</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>))</span> <span style=color:#8a93a5;font-style:italic>// listen TLS.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AutoTLS</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>addr</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>domain</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>email</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>))</span> <span style=color:#8a93a5;font-style:italic>// listen using letsencrypt (see below).
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// and any custom function that returns an error:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Raw</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>f</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#e5c07b>error</span><span style=color:#abb2bf>))</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=socket-sharding-套接字分片>Socket Sharding 套接字分片</h3><p>This option allows linear scaling server performance on <strong>multi-CPU servers</strong>. See <a href=https://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/>https://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/</a> for details. Enable with <code>iris.WithSocketSharding</code> configurator.</p><p>​ 此选项允许在多 CPU 服务器上进行线性扩展服务器性能。有关详细信息，请参阅 <a href=https://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/>https://www.nginx.com/blog/socket-sharding-nginx-release-1-9-1/</a>。使用 <code>iris.WithSocketSharding</code> 配置器启用。</p><p><em>Example Code:
示例代码：</em></p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;time&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>startup</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Now</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>s</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>startup</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Format</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>ConfigurationReadOnly</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>GetTimeFormat</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;This server started at: %s\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>s</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>WithSocketSharding</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// or app.Run(..., iris.WithSocketSharding)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=support-lets-encrypt-支持-lets-encrypt>Support Let&rsquo;s Encrypt 支持 Let&rsquo;s Encrypt</h3><p>Example for 1-line LetsEncrypt HTTPS servers.</p><p>​ 1 行 LetsEncrypt HTTPS 服务器的示例。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;log&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/iris-gonic/autotls&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Ping handler
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/ping&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;pong&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AutoTLS</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:443&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;example.com example2.com&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;mail@example.com&#34;</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Example for custom TLS (you can bind an autocert manager too):</p><p>​ 自定义 TLS 的示例（您也可以绑定一个 autocert 管理器）：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>TLS</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:443&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>su</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Supervisor</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>su</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Server</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>TLSConfig</span> <span style=color:#abb2bf>=</span> <span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>tls</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Config</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>/* your custom fields */</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>},</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}),</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>All <code>iris.Runner</code> methods such as: Addr, TLS, AutoTLS, Server, Listener and e.t.c accept a variadic input argument of <code>func(*iris.Supervisor)</code> to configure the http server instance on build state.</p><p>​ 所有 <code>iris.Runner</code> 方法（例如：Addr、TLS、AutoTLS、Server、Listener 等）都接受 <code>func(*iris.Supervisor)</code> 的变参输入参数，以便在构建状态下配置 http 服务器实例。</p></blockquote><h3 id=run-multiple-service-using-iris-使用-iris-运行多个服务>Run multiple service using Iris 使用 Iris 运行多个服务</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;log&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;time&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12/middleware/recover&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;golang.org/x/sync/errgroup&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>g</span> <span style=color:#aa89ea>errgroup</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Group</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>startApp1</span><span style=color:#abb2bf>()</span> <span style=color:#e5c07b>error</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>SetName</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;app1&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Use</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>recover</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>                <span style=color:#98c379>&#34;code&#34;</span><span style=color:#abb2bf>:</span>  <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>                <span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;Welcome server 1&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Build</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>   <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>startApp2</span><span style=color:#abb2bf>()</span> <span style=color:#e5c07b>error</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>SetName</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;app2&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Use</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>recover</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;code&#34;</span><span style=color:#abb2bf>:</span>  <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;message&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;Welcome server 2&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8081&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>g</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Go</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>startApp1</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>g</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Go</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>startApp2</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>g</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Wait</span><span style=color:#abb2bf>();</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Fatal</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Manage multiple Iris instances through the <code>apps</code> package. Read more <a href=https://github.com/kataras/iris/blob/master/apps/README.md>here</a>.</p><p>​ 通过 <code>apps</code> 包管理多个 Iris 实例。在此处阅读更多信息。</p><h3 id=graceful-shutdown-or-restart-优雅地关闭或重新启动>Graceful shutdown or restart 优雅地关闭或重新启动</h3><p>There are a few approaches you can use to perform a graceful shutdown or restart. You can make use of third-party packages specifically built for that, or you can use the <code>app.Shutdown(context.Context)</code> method. Examples can be found <a href=https://github.com/kataras/iris/tree/main/_examples/http-server/graceful-shutdown>here</a>.</p><p>​ 您可以使用几种方法来执行优雅地关闭或重新启动。您可以利用专门为此构建的第三方包，也可以使用 <code>app.Shutdown(context.Context)</code> 方法。可以在此处找到示例。</p><p>Register an event on CTRL/CMD+C using <code>iris.RegisterOnInterrupt</code>:</p><p>​ 使用 <code>iris.RegisterOnInterrupt</code> 在 CTRL/CMD+C 上注册事件：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>idleConnsClosed</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>chan</span> <span style=color:#76a9f9>struct</span><span style=color:#abb2bf>{})</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>RegisterOnInterrupt</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>timeout</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>10</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Second</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>cancel</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>stdContext</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WithTimeout</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>stdContext</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Background</span><span style=color:#abb2bf>(),</span> <span style=color:#aa89ea>timeout</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>defer</span> <span style=color:#00b1f7>cancel</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// close all hosts.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Shutdown</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#e5c07b>close</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>idleConnsClosed</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>WithoutInterruptHandler</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WithoutServerError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ErrServerClosed</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>&lt;-</span><span style=color:#aa89ea>idleConnsClosed</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=build-a-single-binary-with-templates-使用模板构建单个二进制文件>Build a single binary with templates 使用模板构建单个二进制文件</h3><p>You can build a server into a single binary containing templates by using [go-bindata][https://github.com/go-bindata/go-bindata]&rsquo;s <code>AssetFile</code> generated function.</p><p>​ 您可以通过使用 [go-bindata][ https://github.com/go-bindata/go-bindata] 的 <code>AssetFile</code> 生成的函数，将服务器构建到包含模板的单个二进制文件中。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ go get -u github.com/go-bindata/go-bindata/...
</span></span><span style=display:flex><span>$ go-bindata -fs -prefix <span style=color:#63c381>&#34;templates&#34;</span> ./templates/...
</span></span><span style=display:flex><span>$ go run .
</span></span></code></pre></td></tr></table></div></div><p>Example Code:</p><p>​ 示例代码：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>tmpl</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>AssetFile</span><span style=color:#abb2bf>(),</span> <span style=color:#98c379>&#34;.html&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Layout</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;layouts/layout.html&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AddFunc</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;greet&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>string</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span> <span style=color:#98c379>&#34;Greetings &#34;</span> <span style=color:#54b1c7>+</span> <span style=color:#aa89ea>s</span> <span style=color:#54b1c7>+</span> <span style=color:#98c379>&#34;!&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>RegisterView</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>tmpl</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>See complete examples at the <a href=https://github.com/kataras/iris/tree/main/_examples/view>_examples/view</a>.</p><p>​ 请参阅 _examples/view 中的完整示例。</p><h3 id=try-to-bind-body-into-different-structs-尝试将正文绑定到不同的结构>Try to bind body into different structs 尝试将正文绑定到不同的结构</h3><p>The normal methods for binding request body consumes <code>ctx.Request().Body</code> and they cannot be called multiple times, <strong>unless</strong> the <code>iris.WithoutBodyConsumptionOnUnmarshal</code> configurator is passed to <code>app.Run/Listen</code>.</p><p>​ 用于绑定请求正文的常规方法会消耗 <code>ctx.Request().Body</code> ，并且除非将 <code>iris.WithoutBodyConsumptionOnUnmarshal</code> 配置器传递给 <code>app.Run/Listen</code> ，否则无法多次调用这些方法。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>logAllBody</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>logJSON</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>logFormValues</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// body, err := os.ReadAll(ctx.Request().Body) once or
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>body</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetBody</span><span style=color:#abb2bf>()</span> <span style=color:#8a93a5;font-style:italic>// as many times as you need.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusInternalServerError</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>body</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>==</span> <span style=color:#d19a66>0</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>`The body was empty.`</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;OK body is still:\n&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Write</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>body</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>WithoutBodyConsumptionOnUnmarshal</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>logAllBody</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>body</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetBody</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>==</span> <span style=color:#e5c07b>nil</span> <span style=color:#54b1c7>&amp;&amp;</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>body</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>&gt;</span> <span style=color:#d19a66>0</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Infof</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logAllBody: %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>body</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Next</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>logJSON</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>p</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{}</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadJSON</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>p</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>==</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Infof</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logJSON: %#+v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>p</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Next</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>logFormValues</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>values</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>FormValues</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>values</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Infof</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;logFormValues: %v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>values</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Next</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>You can use the <code>ReadBody</code> to bind a struct to a request based on the client&rsquo;s content-type. You can also use <a href=https://developer.mozilla.org/en-US/docs/Web/HTTP/Content_negotiation>Content Negotiation</a>. Here&rsquo;s a full example:</p><p>​ 您可以使用 <code>ReadBody</code> 根据客户端的内容类型将结构绑定到请求。您还可以使用内容协商。这是一个完整的示例：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>newApp</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// See main_test.go for usage.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>newApp</span><span style=color:#abb2bf>()</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Application</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// To automatically decompress using gzip:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// app.Use(iris.GzipReader)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Use</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>setAllowedResponses</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Post</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>readBody</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>app</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>payload</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Message</span> <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;message&#34; xml:&#34;message&#34; msgpack:&#34;message&#34; yaml:&#34;Message&#34; url:&#34;message&#34; form:&#34;message&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>readBody</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>var</span> <span style=color:#aa89ea>p</span> <span style=color:#aa89ea>payload</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Bind request body to &#34;p&#34; depending on the content-type that client sends the data,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// e.g. JSON, XML, YAML, MessagePack, Protobuf, Form and URL Query.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ReadBody</span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&amp;</span><span style=color:#aa89ea>p</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithProblem</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusBadRequest</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>NewProblem</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Title</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Parser issue&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Detail</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>err</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>()))</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// For the sake of the example, log the received payload.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Logger</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Infof</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Received: %#+v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>p</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Send back the payload depending on the accept content type and accept-encoding of the client,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// e.g. JSON, XML and so on.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Negotiate</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>p</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>setAllowedResponses</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Indicate that the Server can send JSON, XML, YAML and MessagePack for this request.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Negotiation</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>XML</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>YAML</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>MsgPack</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Add more, allowed by the server format of responses, mime types here...
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// If client is missing an &#34;Accept: &#34; header then default it to JSON.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Negotiation</span><span style=color:#abb2bf>().</span><span style=color:#aa89ea>Accept</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>JSON</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Next</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=http2-server-push-http2-服务器推送>HTTP2 server push HTTP2 服务器推送</h3><p>Full example code can be found at <a href=https://github.com/kataras/iris/tree/main/_examples/response-writer/http2push>_examples/response-writer/http2push</a>.</p><p>​ 可以在 _examples/response-writer/http2push 中找到完整的示例代码。</p><p>Server push lets the server preemptively &ldquo;push&rdquo; website assets to the client without the user having explicitly asked for them. When used with care, we can send what we know the user is going to need for the page they&rsquo;re requesting.</p><p>​ 服务器推送允许服务器在用户明确要求之前主动“推送”网站资产给客户端。如果谨慎使用，我们可以发送我们知道用户在请求的页面中需要的内容。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>pushHandler</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/main.js&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>simpleAssetHandler</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Run</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>TLS</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;127.0.0.1:443&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;mycert.crt&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;mykey.key&#34;</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// $ openssl req -new -newkey rsa:4096 -x509 -sha256 \
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// -days 365 -nodes -out mycert.crt -keyout mykey.key
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>pushHandler</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// The target must either be an absolute path (like &#34;/path&#34;) or an absolute
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// URL that contains a valid host and the same scheme as the parent request.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// If the target is a path, it will inherit the scheme and host of the
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// parent request.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>target</span> <span style=color:#54b1c7>:=</span> <span style=color:#98c379>&#34;/main.js&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>pusher</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ok</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ResponseWriter</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Naive</span><span style=color:#abb2bf>().(</span><span style=color:#aa89ea>http</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Pusher</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>ok</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>pusher</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Push</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>target</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>nil</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>ErrPushNotSupported</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>                <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithText</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusHTTPVersionNotSupported</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;HTTP/2 push not supported.&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>                <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithError</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusInternalServerError</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>`&lt;html&gt;&lt;body&gt;&lt;script src=&#34;%s&#34;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;`</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>target</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>simpleAssetHandler</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ServeFile</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./public/main.js&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=set-and-get-a-cookie-设置和获取-cookie>Set and get a cookie 设置和获取 Cookie</h3><p>Secure cookies, encoding and decoding, sessions (and sessions scaling), flash messages and more can be found at the <a href=https://github.com/kataras/iris/tree/main/_examples/cookies>_examples/cookies</a> and <a href=https://github.com/kataras/iris/tree/main/_examples/sessions>_examples/sessions</a> directories respectfully.</p><p>​ 可以在 _examples/cookies 和 _examples/sessions 目录中分别找到安全 Cookie、编码和解码、会话（和会话扩展）、闪存消息等。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Default</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/cookie&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>value</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetCookie</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;my_cookie&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>value</span> <span style=color:#54b1c7>==</span> <span style=color:#98c379>&#34;&#34;</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>value</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;NotSet&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SetCookieKV</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;my_cookie&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#8a93a5;font-style:italic>// Alternatively: ctx.SetCookie(&amp;http.Cookie{...})
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SetCookie</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;test&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3600</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;localhost&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>false</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>true</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;Cookie value: %s \n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>cookie</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>If you want to set custom the path:</p><p>​ 如果您想设置自定义路径：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SetCookieKV</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>name</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>CookiePath</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/custom/path/cookie/will/be/stored&#34;</span><span style=color:#abb2bf>))</span>
</span></span></code></pre></td></tr></table></div></div><p>If you want to be visible only to current request path:</p><p>​ 如果您只想对当前请求路径可见：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SetCookieKV</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>name</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>value</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>CookieCleanPath</span> <span style=color:#8a93a5;font-style:italic>/* or iris.CookiePath(&#34;&#34;) */</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>More:</p><p>​ 更多信息：</p><ul><li><code>iris.CookieAllowReclaim</code></li><li><code>iris.CookieAllowSubdomains</code></li><li><code>iris.CookieSecure</code></li><li><code>iris.CookieHTTPOnly</code></li><li><code>iris.CookieSameSite</code></li><li><code>iris.CookiePath</code></li><li><code>iris.CookieCleanPath</code></li><li><code>iris.CookieExpires</code></li><li><code>iris.CookieEncoding</code></li></ul><p>You can add cookie options for the whole request in a middleware too:</p><p>​ 您还可以在中间件中为整个请求添加 Cookie 选项：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>setCookieOptions</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AddCookieOptions</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>CookieHTTPOnly</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>true</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>CookieExpires</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Hour</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Next</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=json-web-tokens-json-web-令牌>JSON Web Tokens JSON Web 令牌</h2><p>JSON Web Token (JWT) is an open standard (<a href=https://tools.ietf.org/html/rfc7519>RFC 7519</a>) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed. JWTs can be signed using a secret (with the HMAC algorithm) or a public/private key pair using RSA or ECDSA.</p><p>​ JSON Web 令牌 (JWT) 是一种开放标准 (RFC 7519)，它定义了一种紧凑且独立的方式，可以作为 JSON 对象在各方之间安全地传输信息。此信息可以被验证和信任，因为它经过数字签名。JWT 可以使用密钥（采用 HMAC 算法）或使用 RSA 或 ECDSA 的公钥/私钥对进行签名。</p><h3 id=when-should-you-use-json-web-tokens-您应该在何时使用-json-web-令牌>When should you use JSON Web Tokens? 您应该在何时使用 JSON Web 令牌？</h3><p>Here are some scenarios where JSON Web Tokens are useful:</p><p>​ 以下是一些 JSON Web 令牌有用的场景：</p><p><strong>Authorization</strong>: This is the most common scenario for using JWT. Once the user is logged in, each subsequent request will include the JWT, allowing the user to access routes, services, and resources that are permitted with that token. Single Sign On is a feature that widely uses JWT nowadays, because of its small overhead and its ability to be easily used across different domains.</p><p>​ 授权：这是使用 JWT 最常见的场景。用户登录后，每个后续请求都将包含 JWT，允许用户访问使用该令牌允许的路由、服务和资源。单点登录是如今广泛使用 JWT 的一项功能，因为它开销小，并且能够轻松地在不同域之间使用。</p><p><strong>Information Exchange</strong>: JSON Web Tokens are a good way of securely transmitting information between parties. Because JWTs can be signed—for example, using public/private key pairs—you can be sure the senders are who they say they are. Additionally, as the signature is calculated using the header and the payload, you can also verify that the content hasn&rsquo;t been tampered with.</p><p>​ 信息交换：JSON Web 令牌是安全地在各方之间传输信息的一种好方法。因为 JWT 可以签名——例如，使用公钥/私钥对——您可以确保发送者是他们所说的身份。此外，由于签名是使用标头和有效负载计算的，因此您还可以验证内容是否未被篡改。</p><blockquote><p>Read more about JWT at: <a href=https://jwt.io/introduction/>https://jwt.io/introduction/</a></p><p>​ 在以下网址阅读有关 JWT 的更多信息：https://jwt.io/introduction/</p></blockquote><h3 id=using-jwt-with-iris-将-jwt-与-iris-配合使用>Using JWT with Iris 将 JWT 与 Iris 配合使用</h3><p>The Iris JWT <a href=https://github.com/kataras/iris/tree/main/middleware/jwt>middleware</a> was designed with security, performance and simplicity in mind, it protects your tokens from <a href=https://auth0.com/blog/critical-vulnerabilities-in-json-web-token-libraries/>critical vulnerabilities that you may find in other libraries</a>. It is based on <a href=https://github.com/kataras/jwt>kataras/jwt</a> package.</p><p>​ Iris JWT 中间件在设计时考虑了安全性、性能和简单性，它可以保护您的令牌免受您可能在其他库中发现的关键漏洞的影响。它基于 kataras/jwt 包。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">86
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;time&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12/middleware/jwt&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>sigKey</span> <span style=color:#abb2bf>=</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;signature_hmac_secret_shared_key&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>encKey</span> <span style=color:#abb2bf>=</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;GCM_AES_256_secret_shared_key_32&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>fooClaims</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>Foo</span> <span style=color:#e5c07b>string</span> <span style=color:#98c379>`json:&#34;foo&#34;`</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>signer</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>jwt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>NewSigner</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>jwt</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>HS256</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>sigKey</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Minute</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Enable payload encryption with:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// signer.WithEncryption(encKey, nil)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>generateToken</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>signer</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>verifier</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>jwt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>NewVerifier</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>jwt</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>HS256</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>sigKey</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Enable server-side token block feature (even before its expiration time):
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>verifier</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WithDefaultBlocklist</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Enable payload decryption with:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// verifier.WithDecryption(encKey, nil)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>verifyMiddleware</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>verifier</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Verify</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{}</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span> <span style=color:#e5c07b>new</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>fooClaims</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>protectedAPI</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Party</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/protected&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Register the verify middleware to allow access only to authorized clients.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>protectedAPI</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Use</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>verifyMiddleware</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// ^ or UseRouter(verifyMiddleware) to disallow unauthorized http error handlers too.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>protectedAPI</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>protected</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Invalidate the token through server-side, even if it&#39;s not expired yet.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>protectedAPI</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/logout&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>logout</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// http://localhost:8080
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// http://localhost:8080/protected?token=$token (or Authorization: Bearer $token)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// http://localhost:8080/protected/logout?token=$token
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// http://localhost:8080/protected?token=$token (401)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>generateToken</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>signer</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>jwt</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Signer</span><span style=color:#abb2bf>)</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Handler</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>claims</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>fooClaims</span><span style=color:#abb2bf>{</span><span style=color:#aa89ea>Foo</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;bar&#34;</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>token</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>signer</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Sign</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>claims</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>StopWithStatus</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusInternalServerError</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Write</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>token</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>protected</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Get the verified and decoded claims.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>claims</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>jwt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>).(</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>fooClaims</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Optionally, get token information if you want to work with them.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Just an example on how you can retrieve all the standard claims (set by signer&#39;s max age, &#34;exp&#34;).
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>standardClaims</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>jwt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetVerifiedToken</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>).</span><span style=color:#aa89ea>StandardClaims</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>expiresAtString</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>standardClaims</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>ExpiresAt</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Format</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Application</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>ConfigurationReadOnly</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>GetTimeFormat</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>timeLeft</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>standardClaims</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Timeleft</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;foo=%s\nexpires at: %s\ntime left: %s\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>claims</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Foo</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>expiresAtString</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>timeLeft</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>logout</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Logout</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WriteString</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>err</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;token invalidated, a new token is required to access the protected API&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>Learn about refresh tokens, blocklist and more at: <a href=https://github.com/kataras/iris/tree/main/_examples/auth/jwt>_examples/auth/jwt</a>.</p><p>​ 在以下网址了解有关刷新令牌、阻止列表等的更多信息：_examples/auth/jwt。</p></blockquote><h2 id=testing-测试>Testing 测试</h2><p>Iris offers an incredible support for the <a href=https://github.com/gavv/httpexpect>httpexpect</a>, a Testing Framework for web applications. The <code>iris/httptest</code> subpackage provides helpers for Iris + httpexpect.</p><p>​ Iris 为 httpexpect 提供令人难以置信的支持，httpexpect 是一个用于 Web 应用程序的测试框架。 <code>iris/httptest</code> 子包为 Iris + httpexpect 提供帮助程序。</p><p>if you prefer the Go&rsquo;s standard <a href=https://pkg.go.dev/net/http/httptest>net/http/httptest</a> package, you can still use it. Iris as much every http web framework is compatible with any external tool for testing, at the end it&rsquo;s HTTP.</p><p>​ 如果您更喜欢 Go 的标准 net/http/httptest 包，您仍然可以使用它。Iris 与任何外部测试工具一样兼容任何 http Web 框架，最终它是 HTTP。</p><h3 id=testing-basic-authentication-测试基本身份验证>Testing Basic Authentication 测试基本身份验证</h3><p>In our first example we will use the <code>iris/httptest</code> subpackage to test Basic Authentication.</p><p>​ 在我们的第一个示例中，我们将使用 <code>iris/httptest</code> 子包来测试基本身份验证。</p><p><strong>1.</strong> The <code>main.go</code> source file looks like that:</p><p>​ 1. <code>main.go</code> 源文件如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12/middleware/basicauth&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>newApp</span><span style=color:#abb2bf>()</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Application</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>opts</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Options</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>Allow</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>AllowUsers</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;myusername&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>&#34;mypassword&#34;</span><span style=color:#abb2bf>}),</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>authentication</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>basicauth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>opts</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// or just: basicauth.Default(map...)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Redirect</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin&#34;</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// to party
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>needAuth</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Party</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>authentication</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>//http://localhost:8080/admin
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>needAuth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>h</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// http://localhost:8080/admin/profile
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>needAuth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/profile&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>h</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// http://localhost:8080/admin/settings
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#aa89ea>needAuth</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/settings&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>h</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>app</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>h</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// username, password, _ := ctx.Request().BasicAuth()
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// third parameter it will be always true because the middleware
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// makes sure for that, otherwise this handler will not be executed.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// OR:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>user</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>User</span><span style=color:#abb2bf>().(</span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>SimpleUser</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%s %s:%s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Path</span><span style=color:#abb2bf>(),</span> <span style=color:#aa89ea>user</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Username</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>user</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Password</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// ctx.Writef(&#34;%s %s:%s&#34;, ctx.Path(), username, password)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>newApp</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>2.</strong> Now, create a <code>main_test.go</code> file and copy-paste the following.</p><p>​ 2. 现在，创建一个 <code>main_test.go</code> 文件并复制粘贴以下内容。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;testing&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12/httptest&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>TestNewApp</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>t</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>testing</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>T</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>newApp</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>e</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// redirects to /admin without basic auth
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusUnauthorized</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// without basic auth
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusUnauthorized</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// with valid basic auth
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>WithBasicAuth</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;myusername&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;mypassword&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Body</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Equal</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin myusername:mypassword&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin/profile&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>WithBasicAuth</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;myusername&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;mypassword&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Body</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Equal</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin/profile myusername:mypassword&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin/settings&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>WithBasicAuth</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;myusername&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;mypassword&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Body</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Equal</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin/settings myusername:mypassword&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// with invalid basic auth
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/admin/settings&#34;</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>WithBasicAuth</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;invalidusername&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;invalidpassword&#34;</span><span style=color:#abb2bf>).</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusUnauthorized</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>3.</strong> Open your command line and execute:</p><p>​ 3. 打开命令行并执行：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ go <span style=color:#e5c07b>test</span> -v
</span></span></code></pre></td></tr></table></div></div><h3 id=testing-cookies-测试-cookie>Testing Cookies 测试 Cookie</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;testing&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12/httptest&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>TestCookiesBasic</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>t</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>testing</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>T</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>newApp</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>e</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>URL</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;http://example.com&#34;</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>cookieName</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>cookieValue</span> <span style=color:#54b1c7>:=</span> <span style=color:#98c379>&#34;my_cookie_name&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;my_cookie_value&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Test Set A Cookie.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>t1</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Sprintf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/cookies/%s/%s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>cookieName</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>cookieValue</span><span style=color:#abb2bf>)).</span>
</span></span><span style=display:flex><span>        <span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Validate cookie&#39;s existence, it should be available now.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>t1</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Cookie</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>cookieName</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Value</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Equal</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>cookieValue</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>t1</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Body</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Contains</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>cookieValue</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>path</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Sprintf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/cookies/%s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>cookieName</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Test Retrieve A Cookie.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>t2</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>path</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>t2</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Body</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Equal</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>cookieValue</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Test Remove A Cookie.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>t3</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>DELETE</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>path</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>t3</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Body</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Contains</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>cookieName</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>t4</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>e</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GET</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>path</span><span style=color:#abb2bf>).</span><span style=color:#00b1f7>Expect</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Status</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>httptest</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>StatusOK</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>t4</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Cookies</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Empty</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>t4</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Body</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Empty</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>$ <span style=color:#76a9f9>go</span> <span style=color:#aa89ea>test</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>v</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>run</span><span style=color:#abb2bf>=</span><span style=color:#aa89ea>TestCookiesBasic</span>$
</span></span></code></pre></td></tr></table></div></div><p>Iris web framework itself uses this package to test itself. In the <a href=https://github.com/kataras/iris/tree/main/_examples>_examples repository directory</a> you will find some useful tests as well. For more information please take a look and read the <a href=https://github.com/gavv/httpexpect>httpexpect&rsquo;s documentation</a>.</p><p>​ Iris Web 框架本身使用此软件包来测试自身。在 _examples 存储库目录中，您还将找到一些有用的测试。有关更多信息，请查看并阅读 httpexpect 的文档。</p><h2 id=localization-本地化>Localization 本地化</h2><h3 id=introduction-简介>Introduction 简介</h3><p>Localization features provide a convenient way to retrieve strings in various languages, allowing you to easily support multiple languages within your application. Language strings are stored in files within the <code>./locales</code> directory. Within this directory there should be a subdirectory for each language supported by the application:</p><p>​ 本地化功能提供了一种检索各种语言中字符串的便捷方式，使您能够在应用程序中轻松支持多种语言。语言字符串存储在 <code>./locales</code> 目录中的文件中。在此目录中，应该为应用程序支持的每种语言设置一个子目录：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>│   main.go
</span></span><span style=display:flex><span>└───locales
</span></span><span style=display:flex><span>    ├───el-GR
</span></span><span style=display:flex><span>    │       home.yml
</span></span><span style=display:flex><span>    ├───en-US
</span></span><span style=display:flex><span>    │       home.yml
</span></span><span style=display:flex><span>    └───zh-CN
</span></span><span style=display:flex><span>            home.yml
</span></span></code></pre></td></tr></table></div></div><p>The default language for your application is the first registered language.</p><p>​ 应用程序的默认语言是第一个注册的语言。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// First parameter: Glob filpath patern,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Second variadic parameter: Optional language tags,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// the first one is the default/fallback one.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>I18n</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Load</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./locales/*/*&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;en-US&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;el-GR&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;zh-CN&#34;</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Or if you load all languages by:</p><p>​ 或者，如果您通过以下方式加载所有语言：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>I18n</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Load</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./locales/*/*&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Then set the default language using:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>I18n</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>SetDefault</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;en-US&#34;</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=load-embedded-locales-加载嵌入式语言环境>Load embedded locales 加载嵌入式语言环境</h3><p>You may want to embed locales with the new <a href=https://gobyexample.com/embed-directive>embed directive</a> within your application executable.</p><p>​ 您可能希望将区域设置与应用程序可执行文件中的新嵌入指令一起嵌入。</p><ol><li>Import the embed package; if you don’t use any exported identifiers from this package, you can do a blank import with _ &ldquo;embed&rdquo;.
导入嵌入包；如果您不使用此包中的任何导出标识符，则可以使用 _ &ldquo;embed&rdquo; 进行空白导入。</li></ol><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;embed&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><ol><li>Embed directives accept paths relative to the directory containing the Go source file. We can embed multiple files or even folders with wildcards. This uses a variable of the embed.FS type, which implements a simple virtual file system.
嵌入指令接受相对于包含 Go 源文件的目录的路径。我们可以使用通配符嵌入多个文件甚至文件夹。这使用 embed.FS 类型的变量，它实现了一个简单的虚拟文件系统。</li></ol><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>//go:embed embedded/locales/*
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>embeddedFS</span> <span style=color:#aa89ea>embed</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>FS</span>
</span></span></code></pre></td></tr></table></div></div><ol><li>Instead of the <code>Load</code> method, we should use the <code>LoadFS</code> one.
我们应该使用 <code>LoadFS</code> 方法，而不是 <code>Load</code> 方法。</li></ol><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>I18n</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>LoadFS</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>embeddedFS</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;./embedded/locales/*/*.ini&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;en-US&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;el-GR&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// OR to load all languages by filename:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// app.I18n.LoadFS(embeddedFS, &#34;./embedded/locales/*/*.ini&#34;)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Then set the default language using:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// app.I18n.SetDefault(&#34;en-US&#34;)
</span></span></span></code></pre></td></tr></table></div></div><h3 id=defining-translations-定义翻译>Defining Translations 定义翻译</h3><p>Locale files can be written at YAML(recommended), JSON, TOML or INI form.</p><p>​ 区域设置文件可以以 YAML（推荐）、JSON、TOML 或 INI 形式编写。</p><p>Each file should contain keys. Keys can have sub-keys(we call them &ldquo;sections&rdquo;) too.</p><p>​ 每个文件都应包含键。键也可以具有子键（我们称之为“部分”）。</p><p>Each key&rsquo;s value should be of form <code>string</code> or <code>map</code> containing by its translated text (or <strong>template</strong>) or/and its pluralized key-values.</p><p>​ 每个键的值应为 <code>string</code> 或 <code>map</code> 形式，其中包含其翻译的文本（或模板）或/和其复数形式的键值。</p><p>Iris i18n module supports <strong>pluralization</strong> out-of-the-box, see below.</p><p>​ Iris i18n 模块开箱即用地支持复数形式，请参阅下文。 Fmt 样式</p><h3 id=fmt-style>Fmt Style</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#76a9f9>hi</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;Hi %s!&#34;</span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;Hi&#34;, &#34;John&#34;)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>Hi John!</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=template-模板>Template 模板</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#76a9f9>hi</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;Hi {{.Name}}!&#34;</span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;Hi&#34;, iris.Map{&#34;Name&#34;: &#34;John&#34;})</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>Hi John!</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=pluralization-复数形式>Pluralization 复数形式</h3><p>Iris i18n supports plural variables. To define a per-locale variable you must define a new section of <code>Vars</code> key.</p><p>​ Iris i18n 支持复数变量。要定义每个区域设置的变量，您必须定义 <code>Vars</code> 键的新部分。</p><p>The acceptable keys for variables are:</p><p>​ 变量的可接受键为：</p><ul><li><code>one</code></li><li><code>"=x"</code> where x is a number
<code>"=x"</code> 其中 x 是一个数字</li><li><code>"&lt;x"</code></li><li><code>other</code></li><li><code>format</code></li></ul><p>Example:</p><p>​ 示例：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#76a9f9>Vars</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>  - <span style=color:#76a9f9>Minutes</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>      <span style=color:#76a9f9>one</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;minute&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#76a9f9>other</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;minutes&#34;</span>
</span></span><span style=display:flex><span>  - <span style=color:#76a9f9>Houses</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>      <span style=color:#76a9f9>one</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;house&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#76a9f9>other</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;houses&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Then, each message can use this variable, here&rsquo;s how:</p><p>​ 然后，每条消息都可以使用此变量，方法如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#8a93a5;font-style:italic># Using variables in raw string</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>YouLate</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;You are %[1]d ${Minutes} late.&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic># [x] is the argument position,</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic># variables always have priority other fmt-style arguments,</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic># that&#39;s why we see [1] for houses and [2] for the string argument.</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>HouseCount</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;%[2]s has %[1]d ${Houses}.&#34;</span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;YouLate&#34;, 1)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>You are 1 minute late.</span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;YouLate&#34;, 10)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>You are 10 minutes late.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;HouseCount&#34;, 2, &#34;John&#34;)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>John has 2 houses.</span>
</span></span></code></pre></td></tr></table></div></div><p>You can select what message will be shown based on a given plural count.</p><p>​ 您可以根据给定的复数计数选择要显示的消息。</p><p>Except variables, each message can also have its plural form too!</p><p>​ 除了变量之外，每条消息也可以有其复数形式！</p><p>Acceptable keys:</p><p>​ 可接受的键：</p><ul><li><code>zero</code></li><li><code>one</code></li><li><code>two</code></li><li><code>"=x"</code></li><li><code>"&lt;x"</code></li><li><code>">x"</code></li><li><code>other</code></li></ul><p>Let&rsquo;s create a simple plural-featured message, it can use the Minutes variable we created above too.</p><p>​ 让我们创建一个简单的复数特征消息，它也可以使用我们上面创建的 Minutes 变量。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#76a9f9>FreeDay</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>&#34;=3&#34;: </span><span style=color:#63c381>&#34;You have three days and %[2]d ${Minutes} off.&#34;</span> <span style=color:#8a93a5;font-style:italic># &#34;FreeDay&#34; 3, 15</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>one</span><span style=color:#abb2bf>:</span>  <span style=color:#63c381>&#34;You have a day off.&#34;</span> <span style=color:#8a93a5;font-style:italic># &#34;FreeDay&#34;, 1</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>other</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;You have %[1]d free days.&#34;</span> <span style=color:#8a93a5;font-style:italic># &#34;FreeDay&#34;, 5</span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;FreeDay&#34;, 3, 15)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>You have three days and 15 minutes off.</span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;FreeDay&#34;, 1)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>You have a day off.</span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;FreeDay&#34;, 5)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>You have 5 free days.</span>
</span></span></code></pre></td></tr></table></div></div><p>Let&rsquo;s continue with a bit more advanced example, using template text + functions + plural + variables.</p><p>​ 让我们继续使用模板文本 + 函数 + 复数 + 变量来进行一个更高级的示例。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#76a9f9>Vars</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>  - <span style=color:#76a9f9>Houses</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>      <span style=color:#76a9f9>one</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;house&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#76a9f9>other</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;houses&#34;</span>
</span></span><span style=display:flex><span>  - <span style=color:#76a9f9>Gender</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>      <span style=color:#76a9f9>&#34;=1&#34;: </span><span style=color:#63c381>&#34;She&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#76a9f9>&#34;=2&#34;: </span><span style=color:#63c381>&#34;He&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>VarTemplatePlural</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>one</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;${Gender} is awesome!&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>other</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;other (${Gender}) has %[3]d ${Houses}.&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>&#34;=5&#34;: </span><span style=color:#63c381>&#34;{{call .InlineJoin .Names}} are awesome.&#34;</span>
</span></span><span style=display:flex><span><span style=color:#98c379>const (</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>female = iota + 1</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>male</span>
</span></span><span style=display:flex><span><span style=color:#98c379>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;VarTemplatePlural&#34;, iris.Map{</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;PluralCount&#34;: </span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;Names&#34;: </span>      <span style=color:#abb2bf>[]</span><span style=color:#98c379>string{&#34;John&#34;, &#34;Peter&#34;},</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>&#34;InlineJoin&#34;: </span><span style=color:#98c379>func(arr []string) string {</span>
</span></span><span style=display:flex><span>        <span style=color:#98c379>return strings.Join(arr, &#34;, &#34;)</span>
</span></span><span style=display:flex><span>    }<span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>}<span style=color:#98c379>)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>John, Peter are awesome</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;VarTemplatePlural&#34;, 1, female)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>She is awesome!</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;VarTemplatePlural&#34;, 2, female, 5)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>other (She) has 5 houses.</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=sections-部分>Sections 部分</h3><p>If the key is not a reserved one (e.g. one, two&mldr;) then it acts as a sub section. The sections are separated by dot characters (<code>.</code>).</p><p>​ 如果键不是保留键（例如，一、二……），则它充当子部分。部分由点字符 ( <code>.</code> ) 分隔。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#76a9f9>Welcome</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>  <span style=color:#76a9f9>Message</span><span style=color:#abb2bf>:</span> <span style=color:#63c381>&#34;Welcome {{.Name}}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#98c379>ctx.Tr(&#34;Welcome.Message&#34;, iris.Map{&#34;Name&#34;: &#34;John&#34;})</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>// Outputs</span><span style=color:#abb2bf>:</span> <span style=color:#98c379>Welcome John</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=determining-the-current-locale-确定当前语言环境>Determining The Current Locale 确定当前语言环境</h3><p>You may use the <code>context.GetLocale</code> method to determine the current locale or check if the locale is a given value:</p><p>​ 您可以使用 <code>context.GetLocale</code> 方法来确定当前语言环境或检查语言环境是否为给定值：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>locale</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetLocale</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The <strong>Locale</strong> interface looks like this.</p><p>​ 语言环境接口如下所示。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Locale is the interface which returns from a `Localizer.GetLocale` metod.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// It serves the transltions based on &#34;key&#34; or format. See `GetMessage`.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>Locale</span> <span style=color:#76a9f9>interface</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Index returns the current locale index from the languages list.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>Index</span><span style=color:#abb2bf>()</span> <span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Tag returns the full language Tag attached tothis Locale,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// it should be uniue across different Locales.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>Tag</span><span style=color:#abb2bf>()</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>language</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Tag</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Language should return the exact languagecode of this `Locale`
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//that the user provided on `New` function.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Same as `Tag().String()` but it&#39;s static.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>Language</span><span style=color:#abb2bf>()</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// GetMessage should return translated text based n the given &#34;key&#34;.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#00b1f7>GetMessage</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>key</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>args</span> <span style=color:#54b1c7>...</span><span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=retrieving-translation-检索翻译>Retrieving Translation 检索翻译</h3><p>Use of <code>context.Tr</code> method as a shortcut to get a translated text for this request.</p><p>​ 使用 <code>context.Tr</code> 方法作为快捷方式，可获取此请求的翻译文本。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>text</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Tr</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hi&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;name&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// [...]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=inside-views-在视图中>Inside Views 在视图中</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>View</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;index.html&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#98c379>&#34;tr&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Tr</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span><span style=color:#54b1c7>!=</span><span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;&lt;h3&gt;%s&lt;/h3&gt;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=example>Example</h3><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">93
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>    <span style=color:#98c379>&#34;github.com/kataras/iris/v12&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>newApp</span><span style=color:#abb2bf>()</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Application</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>New</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Configure i18n.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// First parameter: Glob filpath patern,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Second variadic parameter: Optional language tags, the first one is the default/fallback one.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>I18n</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Load</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./locales/*/*.ini&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;en-US&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;el-GR&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;zh-CN&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// app.I18n.LoadAssets for go-bindata.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// Default values:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// app.I18n.URLParameter = &#34;lang&#34;
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// app.I18n.Subdomain = true
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// Set to false to disallow path (local) redirects,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// see https://github.com/kataras/iris/issues/1369.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// app.I18n.PathRedirect = true
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>hi</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Tr</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hi&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;iris&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>locale</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetLocale</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;From the language %s translated output: %s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>locale</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Language</span><span style=color:#abb2bf>(),</span> <span style=color:#aa89ea>hi</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/some-path&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%s&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Tr</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;hi&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;iris&#34;</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/other&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>language</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>GetLocale</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>Language</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>fromFirstFileValue</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Tr</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;key1&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>fromSecondFileValue</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Tr</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;key2&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Writef</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;From the language: %s, translated output:\n%s=%s\n%s=%s&#34;</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>language</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;key1&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fromFirstFileValue</span><span style=color:#abb2bf>,</span>
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;key2&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fromSecondFileValue</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// using in inside your views:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>view</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;./views&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;.html&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>RegisterView</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>view</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Get</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;/templates&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ctx</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Context</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>        <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>View</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;index.html&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Map</span><span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#98c379>&#34;tr&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Tr</span><span style=color:#abb2bf>,</span> <span style=color:#8a93a5;font-style:italic>// word, arguments... {call .tr &#34;hi&#34; &#34;iris&#34;}}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>        <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>            <span style=color:#aa89ea>ctx</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>HTML</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;&lt;h3&gt;%s&lt;/h3&gt;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>            <span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span>        <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#8a93a5;font-style:italic>// Note that,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// Iris automatically adds a &#34;tr&#34; global template function as well,
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// the only difference is the way you call it inside your templates and
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>        <span style=color:#8a93a5;font-style:italic>// that it accepts a language code as its first argument.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>    <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>app</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#aa89ea>app</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>newApp</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// go to http://localhost:8080/el-gr/some-path
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// ^ (by path prefix)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// or http://el.mydomain.com8080/some-path
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// ^ (by subdomain - test locally with the hosts file)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// or http://localhost:8080/zh-CN/templates
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// ^ (by path prefix with uppercase)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// or http://localhost:8080/some-path?lang=el-GR
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// ^ (by url parameter)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// or http://localhost:8080 (default is en-US)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// or http://localhost:8080/?lang=zh-CN
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// go to http://localhost:8080/other?lang=el-GR
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// or http://localhost:8080/other (default is en-US)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// or http://localhost:8080/other?lang=en-US
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#8a93a5;font-style:italic>// or use cookies to set the language.
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>    <span style=color:#aa89ea>app</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Listen</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;:8080&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>iris</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>WithSitemap</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;http://localhost:8080&#34;</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=sitemap-站点地图>Sitemap 站点地图</h3><p>Sitemap translations are automatically set to each route by path prefix if <code>app.I18n.PathRedirect</code> is true or by subdomain if <code>app.I18n.Subdomain</code> is true or by URL query parameter if <code>app.I18n.URLParameter</code> is not empty.</p><p>​ 如果 <code>app.I18n.PathRedirect</code> 为 true，则网站地图翻译会自动通过路径前缀设置为每个路由；如果 <code>app.I18n.Subdomain</code> 为 true，则通过子域设置；如果 <code>app.I18n.URLParameter</code> 不为空，则通过 URL 查询参数设置。</p><p>Read more at: <a href="https://support.google.com/webmasters/answer/189077?hl=en">https://support.google.com/webmasters/answer/189077?hl=en</a></p><p>​ 阅读更多内容：https://support.google.com/webmasters/answer/189077?hl=en</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>GET http://localhost:8080/sitemap.xml
</span></span><span style=display:flex><span>&lt;?xml <span style=color:#dcaeea>version</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;1.0&#34;</span> <span style=color:#dcaeea>encoding</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;utf-8&#34;</span> <span style=color:#dcaeea>standalone</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;yes&#34;</span>?&gt;
</span></span><span style=display:flex><span>&lt;urlset <span style=color:#dcaeea>xmlns</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://www.sitemaps.org/schemas/sitemap/0.9&#34;</span> xmlns:xhtml<span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://www.w3.org/1999/xhtml&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;url&gt;
</span></span><span style=display:flex><span>        &lt;loc&gt;http://localhost:8080/&lt;/loc&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;en-US&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;el-GR&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/el-GR/&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;zh-CN&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/zh-CN/&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>    &lt;/url&gt;
</span></span><span style=display:flex><span>    &lt;url&gt;
</span></span><span style=display:flex><span>        &lt;loc&gt;http://localhost:8080/some-path&lt;/loc&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;en-US&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/some-path&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;el-GR&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/el-GR/some-path&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;zh-CN&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/zh-CN/some-path&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>    &lt;/url&gt;
</span></span><span style=display:flex><span>    &lt;url&gt;
</span></span><span style=display:flex><span>        &lt;loc&gt;http://localhost:8080/other&lt;/loc&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;en-US&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/other&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;el-GR&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/el-GR/other&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;zh-CN&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/zh-CN/other&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>    &lt;/url&gt;
</span></span><span style=display:flex><span>    &lt;url&gt;
</span></span><span style=display:flex><span>        &lt;loc&gt;http://localhost:8080/templates&lt;/loc&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;en-US&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/templates&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;el-GR&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/el-GR/templates&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>        &lt;xhtml:link <span style=color:#dcaeea>rel</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;alternate&#34;</span> <span style=color:#dcaeea>hreflang</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;zh-CN&#34;</span> <span style=color:#dcaeea>href</span><span style=color:#54b1c7>=</span><span style=color:#63c381>&#34;http://localhost:8080/zh-CN/templates&#34;</span>&gt;&lt;/xhtml:link&gt;
</span></span><span style=display:flex><span>    &lt;/url&gt;
</span></span><span style=display:flex><span>&lt;/urlset&gt;
</span></span></code></pre></td></tr></table></div></div><p>That&rsquo;s all the basics about Iris. This document covers enough for beginners. Want to become an expert and a Certificated Iris Developer, learn about MVC, i18n, dependency-injection, gRPC, lambda functions, websockets, best practises and more? <a href=https://www.iris-go.com/#ebookDonateForm>Request the Iris E-Book</a> today and be participated in the development of Iris!</p><p>​ 这些就是关于 Iris 的所有基础知识。本文档涵盖了初学者需要了解的所有内容。想成为专家和认证的 Iris 开发人员，了解 MVC、i18n、依赖注入、gRPC、lambda 函数、websocket、最佳实践等内容吗？立即申请 Iris 电子书，参与 Iris 的开发！</p><div class=td-page-meta__lastmod>最后修改 October 10, 2024: <a href=https://github.com/before80/go_docs/commit/a4b8f854f736d720ad19943e1274acc7bb0e3264>更新 (a4b8f854)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/before80/go_docs aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>作者zlongx</span></span><span class=td-footer__all_rights_reserved>保留所有权利</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>隐私政策</a></span><p class="td-footer__about mt-2"><a href=/go_docs/thirdPkg/lua/about/>关于</a></p></div></div></div></footer></div><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0,onReady(){const{autoLoader:e,builtInPlugins:t}=window.markmap;e.transformPlugins=t.filter(e=>e.name!=="prism")}}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/go_docs/js/main.min.4fb55790d81bdab4cd314586e186d385cad5508994c45abe27c6daee34d84160.js integrity="sha256-T7VXkNgb2rTNMUWG4YbThcrVUImUxFq+J8ba7jTYQWA=" crossorigin=anonymous></script>
<script defer src=/go_docs/js/click-to-copy.min.14c7dd84004258325d147b971421f1d4dfd3f28500954f32ef71d1cfd0938f51.js integrity="sha256-FMfdhABCWDJdFHuXFCHx1N/T8oUAlU8y73HRz9CTj1E=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3.6.0 integrity="sha512-FtDaTWf3IS29TLuYzTPlytjGqcXkwrzG9ivq7xXElnOZeiYTbcIy/hwXAgrrRNnI0+PfN+WFz4/+4phhJmuS8Q==" crossorigin=anonymous></script>
<script type=text/javascript>const containers=["#docsearch-0","#docsearch-1"];for(let e of containers)docsearch({container:e,appId:"DV76UK9EIH",apiKey:"227dec0ac6cbc8dfad748f27b2974507",indexName:"go-"})</script><script src=/go_docs/js/tabpane-persist.js></script>
<script src=/go_docs/js/tocbot.min.js></script>
<script src=/go_docs/js/markmap-autoloader.js></script>
<script type=text/javascript>window.addEventListener("load",function(){tocbot.init({tocSelector:".td-toc",contentSelector:".td-content",headingSelector:"h2, h3, h4, h5, h6",ignoreHiddenElements:!0,collapseDepth:6});let t=0,e=0,n=document.getElementById("show-timer"),s=document.getElementById("advice-reading-time"),o=s.textContent.trim();function i(){e++,e>=60&&(e=0,t++);let i=e<10?"0"+e:e;s!==null?n.textContent=t+":"+i+" <- "+o:n.textContent=t+":"+i}setInterval(i,1e3)})</script><script src=/go_docs/js/jquery-3.6.3.min.js></script>
<script src=/go_docs/js/deal-zero-width-space.js></script>
<script src=/go_docs/js/tabpane-persist.js></script></body></html>