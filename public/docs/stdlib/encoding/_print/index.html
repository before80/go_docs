<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="cn" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.111.3">
<link rel="canonical" type="text/html" href="http://ngd.cn/docs/stdLib/encoding/">
<link rel="alternate" type="application/rss&#43;xml" href="http://ngd.cn/docs/stdLib/encoding/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>encoding | go文档集</title>
<meta name="description" content="The most popular HTML, CSS, and JS library in the world.">
<meta property="og:title" content="encoding" />
<meta property="og:description" content="The most popular HTML, CSS, and JS library in the world." />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://ngd.cn/docs/stdLib/encoding/" />
<meta itemprop="name" content="encoding">
<meta itemprop="description" content="The most popular HTML, CSS, and JS library in the world."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="encoding"/>
<meta name="twitter:description" content="The most popular HTML, CSS, and JS library in the world."/>




<link rel="preload" href="/scss/main.min.bb1f3a37154c4661ae02d3cb1a733edd8005db70f626370ca004c689a63ab7d4.css" as="style">
<link href="/scss/main.min.bb1f3a37154c4661ae02d3cb1a733edd8005db70f626370ca004c689a63ab7d4.css" rel="stylesheet" integrity="">

<link href="/css/extra.css" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-00000000-0"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-00000000-0');
}
</script>
  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">go文档集</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link active" href="/docs/"><span class="active">文档</span></a>
      </li>
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    <div class="td-search">
  <div class="td-search__icon"></div>
  <input type="search" class="td-search__input form-control td-search-input" placeholder="" aria-label="" autocomplete="off">
</div>

  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>

<a href="#" onclick="print();return false;"></a>.
</p><p>
<a href="/docs/stdLib/encoding/"></a>.
</p>
</div>



<h1 class="title">encoding</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-d68828e69f1c04307ac65d46902284e3">ascii85</a></li>


    
  
    
    
	
<li>2: <a href="#pg-e711c6b2539ef748aeaea78646b5fa23">asn1</a></li>


    
  
    
    
	
<li>3: <a href="#pg-ce38fe88f90e9b0a197e335f0c8e286d">base32</a></li>


    
  
    
    
	
<li>4: <a href="#pg-26b44e061cb408ead296d8a060ed7d73">base64</a></li>


    
  
    
    
	
<li>5: <a href="#pg-41706ccc8348a5c5be4b6d8e14bd7774">binary</a></li>


    
  
    
    
	
<li>6: <a href="#pg-7a12f1e08a8896ebd3ea3c9889a36ede">csv</a></li>


    
  
    
    
	
<li>7: <a href="#pg-64fae772a44b4c777a69d17eee1e8e45">encoding</a></li>


    
  
    
    
	
<li>8: <a href="#pg-367c894a5d3adfff24458860d21946ec">gob</a></li>


    
  
    
    
	
<li>9: <a href="#pg-8d1dc60a6a70b699a65e8023f9270644">hex</a></li>


    
  
    
    
	
<li>10: <a href="#pg-668648da9eb78b6d41c245fcdfd4376f">json</a></li>


    
  
    
    
	
<li>11: <a href="#pg-05442ce5a2e939fc32f48ed8191f0ffc">pem</a></li>


    
  
    
    
	
<li>12: <a href="#pg-3a65594cd6186bb4421da5f59deec3c5">xml</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-d68828e69f1c04307ac65d46902284e3">1 - ascii85</h1>
    
	<h1 id="ascii85">ascii85</h1>
<p><a href="https://pkg.go.dev/encoding/ascii85@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/ascii85@go1.20.1</a></p>
<p>Package ascii85 implements the ascii85 data encoding as used in the btoa tool and Adobe&rsquo;s PostScript and PDF document formats.</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-decodehttpscsopensourcegooglegogogo1201srcencodingascii85ascii85gol186">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/ascii85/ascii85.go;l=186" target="_blank" rel="noopener">Decode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">flush</span> <span style="color:#e5c07b">bool</span>) (<span style="color:#e06c75">ndst</span>, <span style="color:#e06c75">nsrc</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Decode decodes src into dst, returning both the number of bytes written to dst and the number consumed from src. If src contains invalid ascii85 data, Decode will return the number of bytes successfully written and a CorruptInputError. Decode ignores space and control characters in src. Often, ascii85-encoded data is wrapped in &lt;~ and ~&gt; symbols. Decode expects these to have been stripped by the caller.</p>
<p>If flush is true, Decode assumes that src represents the end of the input stream and processes it completely rather than wait for the completion of another 32-bit block.</p>
<p>NewDecoder wraps an io.Reader interface around Decode.</p>
<h4 id="func-encodehttpscsopensourcegooglegogogo1201srcencodingascii85ascii85gol27">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/ascii85/ascii85.go;l=27" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Encode</span>(<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Encode encodes src into at most MaxEncodedLen(len(src)) bytes of dst, returning the actual number of bytes written.</p>
<p>The encoding handles 4-byte chunks, using a special encoding for the last fragment, so Encode is not appropriate for use on individual blocks of a large data stream. Use NewEncoder() instead.</p>
<p>Often, ascii85-encoded data is wrapped in &lt;~ and ~&gt; symbols. Encode does not add these.</p>
<h4 id="func-maxencodedlenhttpscsopensourcegooglegogogo1201srcencodingascii85ascii85gol86">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/ascii85/ascii85.go;l=86" target="_blank" rel="noopener">MaxEncodedLen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MaxEncodedLen</span>(<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>MaxEncodedLen returns the maximum length of an encoding of n source bytes.</p>
<h4 id="func-newdecoderhttpscsopensourcegooglegogogo1201srcencodingascii85ascii85gol243">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/ascii85/ascii85.go;l=243" target="_blank" rel="noopener">NewDecoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewDecoder constructs a new ascii85 stream decoder.</p>
<h4 id="func-newencoderhttpscsopensourcegooglegogogo1201srcencodingascii85ascii85gol93">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/ascii85/ascii85.go;l=93" target="_blank" rel="noopener">NewEncoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoder</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">WriteCloser</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewEncoder returns a new ascii85 stream encoder. Data written to the returned writer will be encoded and then written to w. Ascii85 encodings operate in 32-bit blocks; when finished writing, the caller must Close the returned encoder to flush any trailing partial block.</p>
<h2 id="类型">类型</h2>
<h3 id="type-corruptinputerrorhttpscsopensourcegooglegogogo1201srcencodingascii85ascii85gol167">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/ascii85/ascii85.go;l=167" target="_blank" rel="noopener">CorruptInputError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">CorruptInputError</span> <span style="color:#e5c07b">int64</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="corruptinputerror-errorhttpscsopensourcegooglegogogo1201srcencodingascii85ascii85gol169">(CorruptInputError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/ascii85/ascii85.go;l=169" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">CorruptInputError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e711c6b2539ef748aeaea78646b5fa23">2 - asn1</h1>
    
	<h1 id="asn1">asn1</h1>
<p><a href="https://pkg.go.dev/encoding/asn1@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/asn1@go1.20.1</a></p>
<p>Package asn1 implements parsing of DER-encoded ASN.1 data structures, as defined in ITU-T Rec X.690.</p>
<p>See also &ldquo;A Layman&rsquo;s Guide to a Subset of ASN.1, BER, and DER,&rdquo; <a href="http://luca.ntop.org/Teaching/Appunti/asn1.html" target="_blank" rel="noopener">http://luca.ntop.org/Teaching/Appunti/asn1.html</a>.</p>
<h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/common.go;l=22" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagBoolean</span>         = <span style="color:#d19a66">1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagInteger</span>         = <span style="color:#d19a66">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagBitString</span>       = <span style="color:#d19a66">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagOctetString</span>     = <span style="color:#d19a66">4</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagNull</span>            = <span style="color:#d19a66">5</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagOID</span>             = <span style="color:#d19a66">6</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagEnum</span>            = <span style="color:#d19a66">10</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagUTF8String</span>      = <span style="color:#d19a66">12</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagSequence</span>        = <span style="color:#d19a66">16</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagSet</span>             = <span style="color:#d19a66">17</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagNumericString</span>   = <span style="color:#d19a66">18</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagPrintableString</span> = <span style="color:#d19a66">19</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagT61String</span>       = <span style="color:#d19a66">20</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagIA5String</span>       = <span style="color:#d19a66">22</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagUTCTime</span>         = <span style="color:#d19a66">23</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagGeneralizedTime</span> = <span style="color:#d19a66">24</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagGeneralString</span>   = <span style="color:#d19a66">27</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TagBMPString</span>       = <span style="color:#d19a66">30</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ASN.1 tags represent the type of the following object.</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/common.go;l=44" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ClassUniversal</span>       = <span style="color:#d19a66">0</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ClassApplication</span>     = <span style="color:#d19a66">1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ClassContextSpecific</span> = <span style="color:#d19a66">2</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ClassPrivate</span>         = <span style="color:#d19a66">3</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ASN.1 class types represent the namespace of the tag.</p>
<h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=217" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">NullBytes</span> = []<span style="color:#e5c07b">byte</span>{<span style="color:#e06c75">TagNull</span>, <span style="color:#d19a66">0</span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>NullBytes contains bytes representing the DER-encoded ASN.1 NULL type.</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=214" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">NullRawValue</span> = <span style="color:#e06c75">RawValue</span>{<span style="color:#e06c75">Tag</span>: <span style="color:#e06c75">TagNull</span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>NullRawValue is a RawValue with its Tag set to the ASN.1 NULL type tag (5).</p>
<h2 id="函数">函数</h2>
<h4 id="func-marshalhttpscsopensourcegooglegogogo1201srcencodingasn1marshalgol733">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/marshal.go;l=733" target="_blank" rel="noopener">Marshal</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Marshal</span>(<span style="color:#e06c75">val</span> <span style="color:#e06c75">any</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Marshal returns the ASN.1 encoding of val.</p>
<p>In addition to the struct tags recognised by Unmarshal, the following can be used:</p>
<pre tabindex="0"><code>ia5:         causes strings to be marshaled as ASN.1, IA5String values
omitempty:   causes empty slices to be skipped
printable:   causes strings to be marshaled as ASN.1, PrintableString values
utf8:        causes strings to be marshaled as ASN.1, UTF8String values
utc:         causes time.Time to be marshaled as ASN.1, UTCTime values
generalized: causes time.Time to be marshaled as ASN.1, GeneralizedTime values
</code></pre><h4 id="func-marshalwithparamshttpscsopensourcegooglegogogo1201srcencodingasn1marshalgol739----go110">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/marshal.go;l=739" target="_blank" rel="noopener">MarshalWithParams</a>  &lt;- go1.10</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MarshalWithParams</span>(<span style="color:#e06c75">val</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">params</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalWithParams allows field parameters to be specified for the top-level element. The form of the params is the same as the field tags.</p>
<h4 id="func-unmarshalhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol1089">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=1089" target="_blank" rel="noopener">Unmarshal</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Unmarshal</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">val</span> <span style="color:#e06c75">any</span>) (<span style="color:#e06c75">rest</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Unmarshal parses the DER-encoded ASN.1 data structure b and uses the reflect package to fill in an arbitrary value pointed at by val. Because Unmarshal uses the reflect package, the structs being written to must use upper case field names. If val is nil or not a pointer, Unmarshal returns an error.</p>
<p>After parsing b, any bytes that were leftover and not used to fill val will be returned in rest. When parsing a SEQUENCE into a struct, any trailing elements of the SEQUENCE that do not have matching fields in val will not be included in rest, as these are considered valid elements of the SEQUENCE and not trailing data.</p>
<p>An ASN.1 INTEGER can be written to an int, int32, int64, or *big.Int (from the math/big package). If the encoded value does not fit in the Go type, Unmarshal returns a parse error.</p>
<p>An ASN.1 BIT STRING can be written to a BitString.</p>
<p>An ASN.1 OCTET STRING can be written to a []byte.</p>
<p>An ASN.1 OBJECT IDENTIFIER can be written to an ObjectIdentifier.</p>
<p>An ASN.1 ENUMERATED can be written to an Enumerated.</p>
<p>An ASN.1 UTCTIME or GENERALIZEDTIME can be written to a time.Time.</p>
<p>An ASN.1 PrintableString, IA5String, or NumericString can be written to a string.</p>
<p>Any of the above ASN.1 values can be written to an interface{}. The value stored in the interface has the corresponding Go type. For integers, that type is int64.</p>
<p>An ASN.1 SEQUENCE OF x or SET OF x can be written to a slice if an x can be written to the slice&rsquo;s element type.</p>
<p>An ASN.1 SEQUENCE or SET can be written to a struct if each of the elements in the sequence can be written to the corresponding element in the struct.</p>
<p>The following tags on struct fields have special meaning to Unmarshal:</p>
<pre tabindex="0"><code>application specifies that an APPLICATION tag is used
private     specifies that a PRIVATE tag is used
default:x   sets the default value for optional integer fields (only used if optional is also present)
explicit    specifies that an additional, explicit tag wraps the implicit one
optional    marks the field as ASN.1 OPTIONAL
set         causes a SET, rather than a SEQUENCE type to be expected
tag:x       specifies the ASN.1 tag number; implies ASN.1 CONTEXT SPECIFIC
</code></pre><p>When decoding an ASN.1 value with an IMPLICIT tag into a string field, Unmarshal will default to a PrintableString, which doesn&rsquo;t support characters such as &lsquo;@&rsquo; and &lsquo;&amp;&rsquo;. To force other encodings, use the following tags:</p>
<pre tabindex="0"><code>ia5     causes strings to be unmarshaled as ASN.1 IA5String values
numeric causes strings to be unmarshaled as ASN.1 NumericString values
utf8    causes strings to be unmarshaled as ASN.1 UTF8String values
</code></pre><p>If the type of the first field of a structure is RawContent then the raw ASN1 contents of the struct will be stored in it.</p>
<p>If the name of a slice type ends with &ldquo;SET&rdquo; then it&rsquo;s treated as if the &ldquo;set&rdquo; tag was set on it. This results in interpreting the type as a SET OF x rather than a SEQUENCE OF x. This can be used with nested slices where a struct tag cannot be given.</p>
<p>Other ASN.1 types are not supported; if it encounters them, Unmarshal returns a parse error.</p>
<h4 id="func-unmarshalwithparamshttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol1112">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=1112" target="_blank" rel="noopener">UnmarshalWithParams</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">UnmarshalWithParams</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">val</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">params</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">rest</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnmarshalWithParams allows field parameters to be specified for the top-level element. The form of the params is the same as the field tags.</p>
<h2 id="类型">类型</h2>
<h3 id="type-bitstringhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol159">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=159" target="_blank" rel="noopener">BitString</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">BitString</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Bytes</span>     []<span style="color:#e5c07b">byte</span> <span style="color:#7f848e">// bits packed into bytes.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">BitLength</span> <span style="color:#e5c07b">int</span>    <span style="color:#7f848e">// length in bits.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>BitString is the structure to use when you want an ASN.1 BIT STRING type. A bit string is padded up to the nearest byte in memory and the number of valid bits is recorded. Padding bits will be zero.</p>
<h4 id="bitstring-athttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol166">(BitString) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=166" target="_blank" rel="noopener">At</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">b</span> <span style="color:#e06c75">BitString</span>) <span style="color:#61afef;font-weight:bold">At</span>(<span style="color:#e06c75">i</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>At returns the bit at the given index. If the index is out of range it returns 0.</p>
<h4 id="bitstring-rightalignhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol177">(BitString) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=177" target="_blank" rel="noopener">RightAlign</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">b</span> <span style="color:#e06c75">BitString</span>) <span style="color:#61afef;font-weight:bold">RightAlign</span>() []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>RightAlign returns a slice where the padding bits are at the beginning. The slice may share memory with the BitString.</p>
<h3 id="type-enumeratedhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol295">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=295" target="_blank" rel="noopener">Enumerated</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Enumerated</span> <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>An Enumerated is represented as a plain int.</p>
<h3 id="type-flaghttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol300">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=300" target="_blank" rel="noopener">Flag</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Flag</span> <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Flag accepts any data and is set to true if present.</p>
<h3 id="type-objectidentifierhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol222">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=222" target="_blank" rel="noopener">ObjectIdentifier</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ObjectIdentifier</span> []<span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>An ObjectIdentifier represents an ASN.1 OBJECT IDENTIFIER.</p>
<h4 id="objectidentifier-equalhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol225">(ObjectIdentifier) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=225" target="_blank" rel="noopener">Equal</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">oi</span> <span style="color:#e06c75">ObjectIdentifier</span>) <span style="color:#61afef;font-weight:bold">Equal</span>(<span style="color:#e06c75">other</span> <span style="color:#e06c75">ObjectIdentifier</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Equal reports whether oi and other represent the same identifier.</p>
<h4 id="objectidentifier-stringhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol238----go13">(ObjectIdentifier) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=238" target="_blank" rel="noopener">String</a>  &lt;- go1.3</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">oi</span> <span style="color:#e06c75">ObjectIdentifier</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-rawcontenthttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol519">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=519" target="_blank" rel="noopener">RawContent</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">RawContent</span> []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>RawContent is used to signal that the undecoded, DER data needs to be preserved for a struct. To use it, the first field of the struct must have this type. It&rsquo;s an error for any of the other fields to have this type.</p>
<h3 id="type-rawvaluehttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol509">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=509" target="_blank" rel="noopener">RawValue</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">RawValue</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Class</span>, <span style="color:#e06c75">Tag</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IsCompound</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Bytes</span>      []<span style="color:#e5c07b">byte</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">FullBytes</span>  []<span style="color:#e5c07b">byte</span> <span style="color:#7f848e">// includes the tag and length
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A RawValue represents an undecoded ASN.1 object.</p>
<h3 id="type-structuralerrorhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol36">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=36" target="_blank" rel="noopener">StructuralError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">StructuralError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Msg</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A StructuralError suggests that the ASN.1 data is valid, but the Go type which is receiving it doesn&rsquo;t match.</p>
<h4 id="structuralerror-errorhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol40">(StructuralError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=40" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">StructuralError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-syntaxerrorhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol43">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=43" target="_blank" rel="noopener">SyntaxError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">SyntaxError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Msg</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A SyntaxError suggests that the ASN.1 data is invalid.</p>
<h4 id="syntaxerror-errorhttpscsopensourcegooglegogogo1201srcencodingasn1asn1gol47">(SyntaxError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/asn1/asn1.go;l=47" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">SyntaxError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ce38fe88f90e9b0a197e335f0c8e286d">3 - base32</h1>
    
	<h1 id="base32">base32</h1>
<p><a href="https://pkg.go.dev/encoding/base32@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/base32@go1.20.1</a></p>
<p>Package base32 implements base32 encoding as specified by <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a>.</p>
<h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=27" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StdPadding</span> <span style="color:#e5c07b">rune</span> = <span style="color:#98c379">&#39;=&#39;</span> <span style="color:#7f848e">// Standard padding character
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">NoPadding</span>  <span style="color:#e5c07b">rune</span> = <span style="color:#56b6c2">-</span><span style="color:#d19a66">1</span>  <span style="color:#7f848e">// No padding
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=76" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">HexEncoding</span> = <span style="color:#61afef;font-weight:bold">NewEncoding</span>(<span style="color:#e06c75">encodeHex</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>HexEncoding is the &ldquo;Extended Hex Alphabet&rdquo; defined in <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a>. It is typically used in DNS.</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=72" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">StdEncoding</span> = <span style="color:#61afef;font-weight:bold">NewEncoding</span>(<span style="color:#e06c75">encodeStd</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>StdEncoding is the standard base32 encoding, as defined in <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a>.</p>
<h2 id="函数">函数</h2>
<h4 id="func-newdecoderhttpscsopensourcegooglegogogo1201srcencodingbase32base32gol537">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=537" target="_blank" rel="noopener">NewDecoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>, <span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewDecoder constructs a new base32 stream decoder.</p>
<h4 id="func-newencoderhttpscsopensourcegooglegogogo1201srcencodingbase32base32gol263">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=263" target="_blank" rel="noopener">NewEncoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoder</span>(<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>, <span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">WriteCloser</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewEncoder returns a new base32 stream encoder. Data written to the returned writer will be encoded using enc and then written to w. Base32 encodings operate in 5-byte blocks; when finished writing, the caller must Close the returned encoder to flush any partially written blocks.</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="类型">类型</h2>
<h3 id="type-corruptinputerrorhttpscsopensourcegooglegogogo1201srcencodingbase32base32gol280">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=280" target="_blank" rel="noopener">CorruptInputError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">CorruptInputError</span> <span style="color:#e5c07b">int64</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="corruptinputerror-errorhttpscsopensourcegooglegogogo1201srcencodingbase32base32gol282">(CorruptInputError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=282" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">CorruptInputError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-encodinghttpscsopensourcegooglegogogo1201srcencodingbase32base32gol21">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=21" target="_blank" rel="noopener">Encoding</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Encoding</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>An Encoding is a radix 32 encoding/decoding scheme, defined by a 32-character alphabet. The most common is the &ldquo;base32&rdquo; encoding introduced for SASL GSSAPI and standardized in <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a>. The alternate &ldquo;base32hex&rdquo; encoding is used in DNSSEC.</p>
<h4 id="func-newencodinghttpscsopensourcegooglegogogo1201srcencodingbase32base32gol54">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=54" target="_blank" rel="noopener">NewEncoding</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoding</span>(<span style="color:#e06c75">encoder</span> <span style="color:#e5c07b">string</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewEncoding returns a new Encoding defined by the given alphabet, which must be a 32-byte string.</p>
<h4 id="encoding-decodehttpscsopensourcegooglegogogo1201srcencodingbase32base32gol378">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=378" target="_blank" rel="noopener">Decode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Decode decodes src using the encoding enc. It writes at most DecodedLen(len(src)) bytes to dst and returns the number of bytes written. If src contains invalid base32 data, it will return the number of bytes successfully written and CorruptInputError. New line characters (\r and \n) are ignored.</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="encoding-decodestringhttpscsopensourcegooglegogogo1201srcencodingbase32base32gol386">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=386" target="_blank" rel="noopener">DecodeString</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">DecodeString</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>DecodeString returns the bytes represented by the base32 string s.</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="encoding-decodedlenhttpscsopensourcegooglegogogo1201srcencodingbase32base32gol543">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=543" target="_blank" rel="noopener">DecodedLen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">DecodedLen</span>(<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>DecodedLen returns the maximum length in bytes of the decoded data corresponding to n bytes of base32-encoded data.</p>
<h4 id="encoding-encodehttpscsopensourcegooglegogogo1201srcencodingbase32base32gol108">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=108" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">Encode</span>(<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Encode encodes src using the encoding enc, writing EncodedLen(len(src)) bytes to dst.</p>
<p>The encoding pads the output to a multiple of 8 bytes, so Encode is not appropriate for use on individual blocks of a large data stream. Use NewEncoder() instead.</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="encoding-encodetostringhttpscsopensourcegooglegogogo1201srcencodingbase32base32gol184">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=184" target="_blank" rel="noopener">EncodeToString</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">EncodeToString</span>(<span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodeToString returns the base32 encoding of src.</p>
<h5 id="example-4">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="encoding-encodedlenhttpscsopensourcegooglegogogo1201srcencodingbase32base32gol269">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=269" target="_blank" rel="noopener">EncodedLen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">EncodedLen</span>(<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodedLen returns the length in bytes of the base32 encoding of an input buffer of length n.</p>
<h4 id="encoding-withpaddinghttpscsopensourcegooglegogogo1201srcencodingbase32base32gol83----go19">(Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base32/base32.go;l=83" target="_blank" rel="noopener">WithPadding</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">WithPadding</span>(<span style="color:#e06c75">padding</span> <span style="color:#e5c07b">rune</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>WithPadding creates a new encoding identical to enc except with a specified padding character, or NoPadding to disable padding. The padding character must not be &lsquo;\r&rsquo; or &lsquo;\n&rsquo;, must not be contained in the encoding&rsquo;s alphabet and must be a rune equal or below &lsquo;\xff&rsquo;.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-26b44e061cb408ead296d8a060ed7d73">4 - base64</h1>
    
	<h1 id="base64">base64</h1>
<p><a href="https://pkg.go.dev/encoding/base64@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/base64@go1.20.1</a></p>
<p>Package base64 implements base64 encoding as specified by <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a>.</p>
<p>包 base64 实现了 RFC 4648 所规定的 base64 编码。</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=30" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StdPadding</span> <span style="color:#e5c07b">rune</span> = <span style="color:#98c379">&#39;=&#39;</span> <span style="color:#7f848e">// Standard padding character // 标准填充字符
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">NoPadding</span>  <span style="color:#e5c07b">rune</span> = <span style="color:#56b6c2">-</span><span style="color:#d19a66">1</span>  <span style="color:#7f848e">// No padding  // 无填充字符
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=123" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">RawStdEncoding</span> = <span style="color:#e06c75">StdEncoding</span>.<span style="color:#61afef;font-weight:bold">WithPadding</span>(<span style="color:#e06c75">NoPadding</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>RawStdEncoding is the standard raw, unpadded base64 encoding, as defined in <a href="https://rfc-editor.org/rfc/rfc4648.html#section-3.2" target="_blank" rel="noopener">RFC 4648 section 3.2</a>. This is the same as StdEncoding but omits padding characters.</p>
<p>RawStdEncoding是标准的原始、无填充的base64编码，定义于RFC 4648第3.2节。这与StdEncoding相同，但省略了填充字符。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=128" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">RawURLEncoding</span> = <span style="color:#e06c75">URLEncoding</span>.<span style="color:#61afef;font-weight:bold">WithPadding</span>(<span style="color:#e06c75">NoPadding</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>RawURLEncoding is the unpadded alternate base64 encoding defined in <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a>. It is typically used in URLs and file names. This is the same as URLEncoding but omits padding characters.</p>
<p>RawURLEncoding是RFC 4648中定义的无填充的另一种base64编码。它通常在URL和文件名中使用。这与URLEncoding相同，但省略了填充字符。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=114" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">StdEncoding</span> = <span style="color:#61afef;font-weight:bold">NewEncoding</span>(<span style="color:#e06c75">encodeStd</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>StdEncoding is the standard base64 encoding, as defined in <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a>.</p>
<p>StdEncoding是标准的base64编码，如RFC 4648所定义。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=118" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">URLEncoding</span> = <span style="color:#61afef;font-weight:bold">NewEncoding</span>(<span style="color:#e06c75">encodeURL</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>URLEncoding is the alternate base64 encoding defined in <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a>. It is typically used in URLs and file names.</p>
<p>URLEncoding是RFC 4648中定义的备用base64编码。它通常在URL和文件名中使用。</p>
<h2 id="函数">函数</h2>
<h4 id="func-newdecoderhttpscsopensourcegooglegogogo1201srcencodingbase64base64gol614">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=614" target="_blank" rel="noopener">NewDecoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>, <span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewDecoder constructs a new base64 stream decoder.</p>
<p>NewDecoder构建一个新的base64流解码器。</p>
<h4 id="func-newencoderhttpscsopensourcegooglegogogo1201srcencodingbase64base64gol270">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=270" target="_blank" rel="noopener">NewEncoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoder</span>(<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>, <span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">WriteCloser</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewEncoder returns a new base64 stream encoder. Data written to the returned writer will be encoded using enc and then written to w. Base64 encodings operate in 4-byte blocks; when finished writing, the caller must Close the returned encoder to flush any partially written blocks.</p>
<p>NewEncoder返回一个新的base64流编码器。写入返回的写入器的数据将使用enc进行编码，然后写入w。Base64编码以4字节的块进行操作；当写完后，调用者必须关闭返回的编码器以冲刷任何部分写入的块。</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="类型">类型</h2>
<h3 id="type-corruptinputerrorhttpscsopensourcegooglegogogo1201srcencodingbase64base64gol287">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=287" target="_blank" rel="noopener">CorruptInputError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">CorruptInputError</span> <span style="color:#e5c07b">int64</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="corruptinputerror-errorhttpscsopensourcegooglegogogo1201srcencodingbase64base64gol289">(CorruptInputError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=289" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">CorruptInputError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-encodinghttpscsopensourcegooglegogogo1201srcencodingbase64base64gol23">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=23" target="_blank" rel="noopener">Encoding</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Encoding</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>An Encoding is a radix 64 encoding/decoding scheme, defined by a 64-character alphabet. The most common encoding is the &ldquo;base64&rdquo; encoding defined in <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a> and used in MIME (<a href="https://rfc-editor.org/rfc/rfc2045.html" target="_blank" rel="noopener">RFC 2045</a>) and PEM (<a href="https://rfc-editor.org/rfc/rfc1421.html" target="_blank" rel="noopener">RFC 1421</a>). <a href="https://rfc-editor.org/rfc/rfc4648.html" target="_blank" rel="noopener">RFC 4648</a> also defines an alternate encoding, which is the standard encoding with - and _ substituted for + and /.</p>
<p>编码是一个弧度为64的编码/解码方案，由一个64字符的字母表定义。最常见的编码是RFC 4648中定义的 &ldquo;base64 &ldquo;编码，在MIME(RFC 2045)和PEM(RFC 1421)中使用。RFC 4648还定义了一个备用编码，即用-和_代替+和/的标准编码。</p>
<h4 id="func-newencodinghttpscsopensourcegooglegogogo1201srcencodingbase64base64gol60">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=60" target="_blank" rel="noopener">NewEncoding</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoding</span>(<span style="color:#e06c75">encoder</span> <span style="color:#e5c07b">string</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewEncoding returns a new padded Encoding defined by the given alphabet, which must be a 64-byte string that does not contain the padding character or CR / LF (&rsquo;\r&rsquo;, &lsquo;\n&rsquo;). The resulting Encoding uses the default padding character (&rsquo;=&rsquo;), which may be changed or disabled via WithPadding.</p>
<p>NewEncoding返回一个由给定字母定义的新的填充编码，它必须是一个64字节的字符串，不包含填充字符或CR / LF(&rsquo;\r&rsquo;, &lsquo;\n&rsquo;)。产生的Encoding使用默认的padding字符(&rsquo;=&rsquo;)，可以通过WithPadding改变或禁用。</p>
<h4 id="encoding-decodehttpscsopensourcegooglegogogo1201srcencodingbase64base64gol484">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=484" target="_blank" rel="noopener">Decode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Decode decodes src using the encoding enc. It writes at most DecodedLen(len(src)) bytes to dst and returns the number of bytes written. If src contains invalid base64 data, it will return the number of bytes successfully written and CorruptInputError. New line characters (\r and \n) are ignored.</p>
<p>Decode使用enc编码对src进行解码。它最多向dst写入DecodedLen(len(src))字节，并返回写入的字节数。如果src包含无效的base64数据，它将返回成功写入的字节数和CorruptInputError。新行字符(\r 和 \n)被忽略。</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="encoding-decodestringhttpscsopensourcegooglegogogo1201srcencodingbase64base64gol396">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=396" target="_blank" rel="noopener">DecodeString</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">DecodeString</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>DecodeString returns the bytes represented by the base64 string s.</p>
<p>DecodeString返回base64字符串s所代表的字节。</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="encoding-decodedlenhttpscsopensourcegooglegogogo1201srcencodingbase64base64gol620">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=620" target="_blank" rel="noopener">DecodedLen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">DecodedLen</span>(<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>DecodedLen returns the maximum length in bytes of the decoded data corresponding to n bytes of base64-encoded data.</p>
<p>DecodedLen返回对应于base64编码的n个字节的解码数据的最大长度(字节)。</p>
<h4 id="encoding-encodehttpscsopensourcegooglegogogo1201srcencodingbase64base64gol140">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=140" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">Encode</span>(<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Encode encodes src using the encoding enc, writing EncodedLen(len(src)) bytes to dst.</p>
<p>Encode使用enc编码对src进行编码，向dst写入EncodedLen(len(src))字节。</p>
<p>The encoding pads the output to a multiple of 4 bytes, so Encode is not appropriate for use on individual blocks of a large data stream. Use NewEncoder() instead.</p>
<p>编码将输出填充为4字节的倍数，所以Encode不适合用于大数据流的单个块。请使用NewEncoder()代替。</p>
<h5 id="example-4">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="encoding-encodetostringhttpscsopensourcegooglegogogo1201srcencodingbase64base64gol192">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=192" target="_blank" rel="noopener">EncodeToString</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">EncodeToString</span>(<span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodeToString returns the base64 encoding of src.</p>
<p>EncodeToString返回src的base64编码。</p>
<h5 id="example-5">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="encoding-encodedlenhttpscsopensourcegooglegogogo1201srcencodingbase64base64gol276">(*Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=276" target="_blank" rel="noopener">EncodedLen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">EncodedLen</span>(<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodedLen returns the length in bytes of the base64 encoding of an input buffer of length n.</p>
<p>EncodedLen返回一个长度为n的输入缓冲区的base64编码的字节长度。</p>
<h4 id="encoding-stricthttpscsopensourcegooglegogogo1201srcencodingbase64base64gol107----go18">(Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=107" target="_blank" rel="noopener">Strict</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">Strict</span>() <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Strict creates a new encoding identical to enc except with strict decoding enabled. In this mode, the decoder requires that trailing padding bits are zero, as described in <a href="https://rfc-editor.org/rfc/rfc4648.html#section-3.5" target="_blank" rel="noopener">RFC 4648 section 3.5</a>.</p>
<p>严格创建一个与enc相同的新编码，只是启用了严格解码。在这种模式下，解码器要求尾部填充位为零，如RFC 4648第3.5节所述。</p>
<p>Note that the input is still malleable, as new line characters (CR and LF) are still ignored.</p>
<p>注意，输入仍然是可塑的，因为新的行字符(CR和LF)仍然被忽略。</p>
<h4 id="encoding-withpaddinghttpscsopensourcegooglegogogo1201srcencodingbase64base64gol86----go15">(Encoding) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/base64/base64.go;l=86" target="_blank" rel="noopener">WithPadding</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#e06c75">Encoding</span>) <span style="color:#61afef;font-weight:bold">WithPadding</span>(<span style="color:#e06c75">padding</span> <span style="color:#e5c07b">rune</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoding</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>WithPadding creates a new encoding identical to enc except with a specified padding character, or NoPadding to disable padding. The padding character must not be &lsquo;\r&rsquo; or &lsquo;\n&rsquo;, must not be contained in the encoding&rsquo;s alphabet and must be a rune equal or below &lsquo;\xff&rsquo;.</p>
<p>WithPadding创建一个与enc相同的新编码，除了指定的padding字符，或者用NoPadding来禁用padding。填充字符不能是&rsquo;\r&rsquo;或&rsquo;\n&rsquo;，不能包含在编码的字母表中，必须是等于或低于&rsquo;\xff&rsquo;的符文。</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-41706ccc8348a5c5be4b6d8e14bd7774">5 - binary</h1>
    
	<h1 id="binary">binary</h1>
<p><a href="https://pkg.go.dev/encoding/binary@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/binary@go1.20.1</a></p>
<p>Package binary implements simple translation between numbers and byte sequences and encoding and decoding of varints.</p>
<p>Numbers are translated by reading and writing fixed-size values. A fixed-size value is either a fixed-size arithmetic type (bool, int8, uint8, int16, float32, complex64, &hellip;) or an array or struct containing only fixed-size values.</p>
<p>The varint functions encode and decode single integer values using a variable-length encoding; smaller values require fewer bytes. For a specification, see <a href="https://developers.google.com/protocol-buffers/docs/encoding" target="_blank" rel="noopener">https://developers.google.com/protocol-buffers/docs/encoding</a>.</p>
<p>This package favors simplicity over efficiency. Clients that require high-performance serialization, especially for large data structures, should look at more advanced solutions such as the encoding/gob package or protocol buffers.</p>
<h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=33" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MaxVarintLen16</span> = <span style="color:#d19a66">3</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MaxVarintLen32</span> = <span style="color:#d19a66">5</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MaxVarintLen64</span> = <span style="color:#d19a66">10</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MaxVarintLenN is the maximum length of a varint-encoded N-bit integer.</p>
<h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/binary.go;l=57" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">BigEndian</span> <span style="color:#e06c75">bigEndian</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>BigEndian is the big-endian implementation of ByteOrder and AppendByteOrder.</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/binary.go;l=54" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">LittleEndian</span> <span style="color:#e06c75">littleEndian</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>LittleEndian is the little-endian implementation of ByteOrder and AppendByteOrder.</p>
<h2 id="函数">函数</h2>
<h4 id="func-appenduvarinthttpscsopensourcegooglegogogo1201srcencodingbinaryvarintgol41----go119">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=41" target="_blank" rel="noopener">AppendUvarint</a>  &lt;- go1.19</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">AppendUvarint</span>(<span style="color:#e06c75">buf</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">x</span> <span style="color:#e5c07b">uint64</span>) []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AppendUvarint appends the varint-encoded form of x, as generated by PutUvarint, to buf and returns the extended buffer.</p>
<h4 id="func-appendvarinthttpscsopensourcegooglegogogo1201srcencodingbinaryvarintgol92----go119">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=92" target="_blank" rel="noopener">AppendVarint</a>  &lt;- go1.19</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">AppendVarint</span>(<span style="color:#e06c75">buf</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">x</span> <span style="color:#e5c07b">int64</span>) []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AppendVarint appends the varint-encoded form of x, as generated by PutVarint, to buf and returns the extended buffer.</p>
<h4 id="func-putuvarinthttpscsopensourcegooglegogogo1201srcencodingbinaryvarintgol51">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=51" target="_blank" rel="noopener">PutUvarint</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">PutUvarint</span>(<span style="color:#e06c75">buf</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">x</span> <span style="color:#e5c07b">uint64</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>PutUvarint encodes a uint64 into buf and returns the number of bytes written. If the buffer is too small, PutUvarint will panic.</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-putvarinthttpscsopensourcegooglegogogo1201srcencodingbinaryvarintgol102">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=102" target="_blank" rel="noopener">PutVarint</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">PutVarint</span>(<span style="color:#e06c75">buf</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">x</span> <span style="color:#e5c07b">int64</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>PutVarint encodes an int64 into buf and returns the number of bytes written. If the buffer is too small, PutVarint will panic.</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-readhttpscsopensourcegooglegogogo1201srcencodingbinarybinarygol229">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/binary.go;l=229" target="_blank" rel="noopener">Read</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Read</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>, <span style="color:#e06c75">order</span> <span style="color:#e06c75">ByteOrder</span>, <span style="color:#e06c75">data</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Read reads structured binary data from r into data. Data must be a pointer to a fixed-size value or a slice of fixed-size values. Bytes read from r are decoded using the specified byte order and written to successive fields of the data. When decoding boolean values, a zero byte is decoded as false, and any other non-zero byte is decoded as true. When reading into structs, the field data for fields with blank (_) field names is skipped; i.e., blank field names may be used for padding. When reading into a struct, all non-blank fields must be exported or Read may panic.</p>
<p>The error is EOF only if no bytes were read. If an EOF happens after reading some but not all the bytes, Read returns ErrUnexpectedEOF.</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-readuvarinthttpscsopensourcegooglegogogo1201srcencodingbinaryvarintgol132">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=132" target="_blank" rel="noopener">ReadUvarint</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ReadUvarint</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ByteReader</span>) (<span style="color:#e5c07b">uint64</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadUvarint reads an encoded unsigned integer from r and returns it as a uint64. The error is EOF only if no bytes were read. If an EOF happens after reading some but not all the bytes, ReadUvarint returns io.ErrUnexpectedEOF.</p>
<h4 id="func-readvarinthttpscsopensourcegooglegogogo1201srcencodingbinaryvarintgol159">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=159" target="_blank" rel="noopener">ReadVarint</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ReadVarint</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ByteReader</span>) (<span style="color:#e5c07b">int64</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadVarint reads an encoded signed integer from r and returns it as an int64. The error is EOF only if no bytes were read. If an EOF happens after reading some but not all the bytes, ReadVarint returns io.ErrUnexpectedEOF.</p>
<h4 id="func-sizehttpscsopensourcegooglegogogo1201srcencodingbinarybinarygol462">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/binary.go;l=462" target="_blank" rel="noopener">Size</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Size</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Size returns how many bytes Write would generate to encode the value v, which must be a fixed-size value or a slice of fixed-size values, or a pointer to such data. If v is neither of these, Size returns -1.</p>
<h4 id="func-uvarinthttpscsopensourcegooglegogogo1201srcencodingbinaryvarintgol69">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=69" target="_blank" rel="noopener">Uvarint</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Uvarint</span>(<span style="color:#e06c75">buf</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">uint64</span>, <span style="color:#e5c07b">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Uvarint decodes a uint64 from buf and returns that value and the number of bytes read (&gt; 0). If an error occurred, the value is 0 and the number of bytes n is &lt;= 0 meaning:</p>
<pre tabindex="0"><code>n == 0: buf too small
n  &lt; 0: value larger than 64 bits (overflow)
        and -n is the number of bytes read
</code></pre><h5 id="example-4">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-varinthttpscsopensourcegooglegogogo1201srcencodingbinaryvarintgol117">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/varint.go;l=117" target="_blank" rel="noopener">Varint</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Varint</span>(<span style="color:#e06c75">buf</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int64</span>, <span style="color:#e5c07b">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Varint decodes an int64 from buf and returns that value and the number of bytes read (&gt; 0). If an error occurred, the value is 0 and the number of bytes n is &lt;= 0 with the following meaning:</p>
<pre tabindex="0"><code>n == 0: buf too small
n  &lt; 0: value larger than 64 bits (overflow)
        and -n is the number of bytes read
</code></pre><h5 id="example-5">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-writehttpscsopensourcegooglegogogo1201srcencodingbinarybinarygol338">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/binary.go;l=338" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>, <span style="color:#e06c75">order</span> <span style="color:#e06c75">ByteOrder</span>, <span style="color:#e06c75">data</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Write writes the binary representation of data into w. Data must be a fixed-size value or a slice of fixed-size values, or a pointer to such data. Boolean values encode as one byte: 1 for true, and 0 for false. Bytes written to w are encoded using the specified byte order and read from successive fields of the data. When writing structs, zero values are written for fields with blank (_) field names.</p>
<h5 id="example-6">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h5 id="example-7">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="类型">类型</h2>
<h3 id="type-appendbyteorderhttpscsopensourcegooglegogogo1201srcencodingbinarybinarygol46----go119">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/binary.go;l=46" target="_blank" rel="noopener">AppendByteOrder</a>  &lt;- go1.19</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">AppendByteOrder</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">AppendUint16</span>([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">uint16</span>) []<span style="color:#e5c07b">byte</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">AppendUint32</span>([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">uint32</span>) []<span style="color:#e5c07b">byte</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">AppendUint64</span>([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">uint64</span>) []<span style="color:#e5c07b">byte</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>AppendByteOrder specifies how to append 16-, 32-, or 64-bit unsigned integers into a byte slice.</p>
<h3 id="type-byteorderhttpscsopensourcegooglegogogo1201srcencodingbinarybinarygol34">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/binary/binary.go;l=34" target="_blank" rel="noopener">ByteOrder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ByteOrder</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Uint16</span>([]<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">uint16</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Uint32</span>([]<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">uint32</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Uint64</span>([]<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">uint64</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">PutUint16</span>([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">uint16</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">PutUint32</span>([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">uint32</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">PutUint64</span>([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">uint64</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A ByteOrder specifies how to convert byte slices into 16-, 32-, or 64-bit unsigned integers.</p>
<h5 id="example-8">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7a12f1e08a8896ebd3ea3c9889a36ede">6 - csv</h1>
    
	<h1 id="csv">csv</h1>
<p><a href="https://pkg.go.dev/encoding/csv@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/csv@go1.20.1</a></p>
<p>Package csv reads and writes comma-separated values (CSV) files. There are many kinds of CSV files; this package supports the format described in <a href="https://rfc-editor.org/rfc/rfc4180.html" target="_blank" rel="noopener">RFC 4180</a>.</p>
<p>csv包读取和写入逗号分隔的值(CSV)文件。有许多种CSV文件；这个包支持RFC 4180中描述的格式。</p>
<p>A csv file contains zero or more records of one or more fields per record. Each record is separated by the newline character. The final record may optionally be followed by a newline character.</p>
<p>一个csv文件包含零个或多个记录，每个记录有一个或多个字段。每条记录由换行符分隔。最后一条记录后面可以选择换行符。</p>
<pre tabindex="0"><code>field1,field2,field3
</code></pre><p>White space is considered part of a field.</p>
<p>白色空间被认为是字段的一部分。</p>
<p>Carriage returns before newline characters are silently removed.</p>
<p>换行符之前的回车符会被默默地删除。</p>
<p>Blank lines are ignored. A line with only whitespace characters (excluding the ending newline character) is not considered a blank line.</p>
<p>空白行被忽略。只有空白字符的行(不包括结尾的换行字符)不被视为空行。</p>
<p>Fields which start and stop with the quote character &quot; are called quoted-fields. The beginning and ending quote are not part of the field.</p>
<p>以引号字符&quot;&ldquo;开始和结束的字段被称为引号字段。开始和结束的引号不是字段的一部分。</p>
<p>The source:</p>
<p>来源：</p>
<pre tabindex="0"><code>normal string,&#34;quoted-field&#34;
</code></pre><p>results in the fields</p>
<p>的结果是字段</p>
<pre tabindex="0"><code>{`normal string`, `quoted-field`}
</code></pre><p>Within a quoted-field a quote character followed by a second quote character is considered a single quote.</p>
<p>在一个带引号的字段内，一个引号字符后面的第二个引号字符被认为是一个单引号。</p>
<pre tabindex="0"><code>&#34;the &#34;&#34;word&#34;&#34; is true&#34;,&#34;a &#34;&#34;quoted-field&#34;&#34;&#34;
</code></pre><p>results in</p>
<p>结果是</p>
<pre tabindex="0"><code>{`the &#34;word&#34; is true`, `a &#34;quoted-field&#34;`}
</code></pre><p>Newlines and commas may be included in a quoted-field</p>
<p>换行符和逗号可以包含在一个引号字段中。</p>
<pre tabindex="0"><code>&#34;Multi-line
field&#34;,&#34;comma is ,&#34;
</code></pre><p>results in</p>
<p>结果是</p>
<pre tabindex="0"><code>{`Multi-line
field`, `comma is ,`}
</code></pre><h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=86" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ErrBareQuote</span>  = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;bare \&#34; in non-quoted-field&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ErrQuote</span>      = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;extraneous or missing \&#34; in quoted-field&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ErrFieldCount</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;wrong number of fields&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Deprecated: ErrTrailingComma is no longer used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 已废弃：ErrTrailingComma不再使用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrTrailingComma</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;extra delimiter at end of line&#34;</span>)
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>These are the errors that can be returned in ParseError.Err.</p>
<p>这些是可以在ParseError.Err中返回的错误。</p>
<h2 id="函数">函数</h2>
<p>This section is empty.</p>
<h2 id="类型">类型</h2>
<h3 id="type-parseerrorhttpscsopensourcegooglegogogo1201srcencodingcsvreadergol66">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=66" target="_blank" rel="noopener">ParseError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ParseError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StartLine</span> <span style="color:#e5c07b">int</span>   <span style="color:#7f848e">// Line where the record starts// 记录开始的那一行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Line</span>      <span style="color:#e5c07b">int</span>   <span style="color:#7f848e">// Line where the error occurred// 发生错误的那一行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Column</span>    <span style="color:#e5c07b">int</span>   <span style="color:#7f848e">// Column (1-based byte index) where the error occurred // 发生错误的那一列(基于1的字节索引)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Err</span>       <span style="color:#e5c07b">error</span> <span style="color:#7f848e">// The actual error // 实际的错误
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A ParseError is returned for parsing errors. Line numbers are 1-indexed and columns are 0-indexed.</p>
<p>对于解析错误会返回一个ParseError。行号是1-索引的，列是0-索引的。</p>
<h4 id="parseerror-errorhttpscsopensourcegooglegogogo1201srcencodingcsvreadergol73">(*ParseError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=73" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ParseError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="parseerror-unwraphttpscsopensourcegooglegogogo1201srcencodingcsvreadergol83----go113">(*ParseError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=83" target="_blank" rel="noopener">Unwrap</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ParseError</span>) <span style="color:#61afef;font-weight:bold">Unwrap</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-readerhttpscsopensourcegooglegogogo1201srcencodingcsvreadergol110">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=110" target="_blank" rel="noopener">Reader</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Reader</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Comma is the field delimiter.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// It is set to comma (&#39;,&#39;) by NewReader.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Comma must be a valid rune and must not be \r, \n,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// or the Unicode replacement character (0xFFFD).
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 逗号是字段分隔符。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它被NewReader设置为逗号(&#39;,&#39;)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 逗号必须是一个有效的符文，不能是 \r, \n,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 或Unicode替换字符(0xFFFD)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Comma</span> <span style="color:#e5c07b">rune</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Comment, if not 0, is the comment character. Lines beginning with the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Comment character without preceding whitespace are ignored.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// With leading whitespace the Comment character becomes part of the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// field, even if TrimLeadingSpace is true.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Comment must be a valid rune and must not be \r, \n,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// or the Unicode replacement character (0xFFFD).
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// It must also not be equal to Comma.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//注释，如果不是0，就是注释字符。以Comment字符开始的行，如果没有前面的空白，将被忽略。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果有前导空白，Comment字符将成为字段的一部分，即使TrimLeadingSpace为真。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Comment必须是一个有效的符文，不能是 \r, \n, 或Unicode替换字符(0xFFFD)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它也不能等于逗号。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Comment</span> <span style="color:#e5c07b">rune</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// FieldsPerRecord is the number of expected fields per record.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If FieldsPerRecord is positive, Read requires each record to
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// have the given number of fields. If FieldsPerRecord is 0, Read sets it to
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the number of fields in the first record, so that future records must
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// have the same field count. If FieldsPerRecord is negative, no check is
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// made and records may have a variable number of fields.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// FieldsPerRecord是每条记录的预期字段数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果FieldsPerRecord是正数，Read要求每条记录都有给定的字段数。如果FieldsPerRecord为0，Read将其设置为第一条记录的字段数，这样以后的记录必须有相同的字段数。如果FieldsPerRecord为负数，则不做检查，记录可能有可变的字段数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">FieldsPerRecord</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// If LazyQuotes is true, a quote may appear in an unquoted field and a
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// non-doubled quote may appear in a quoted field.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果LazyQuotes为真，一个引号可能出现在一个无引号的字段中，一个非双引号可能出现在一个有引号的字段中。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">LazyQuotes</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// If TrimLeadingSpace is true, leading white space in a field is ignored.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// This is done even if the field delimiter, Comma, is white space.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果TrimLeadingSpace为真，字段中的前导空白将被忽略。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 即使字段的分隔符Comma是空白的，也会这样做。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TrimLeadingSpace</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ReuseRecord controls whether calls to Read may return a slice sharing
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the backing array of the previous call&#39;s returned slice for performance.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// By default, each call to Read returns newly allocated memory owned by the caller.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// ReuseRecord控制对Read的调用是否可以返回共享前一次调用返回的片断的支持数组的片断，以提高性能。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 默认情况下，每次对Read的调用都会返回由调用者拥有的新分配的内存。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ReuseRecord</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Deprecated: TrailingComma is no longer used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 已废弃：不再使用TrailingComma。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TrailingComma</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Reader reads records from a CSV-encoded file.</p>
<p>Reader 从一个CSV编码的文件中读取记录。</p>
<p>As returned by NewReader, a Reader expects input conforming to <a href="https://rfc-editor.org/rfc/rfc4180.html" target="_blank" rel="noopener">RFC 4180</a>. The exported fields can be changed to customize the details before the first call to Read or ReadAll.</p>
<p>正如NewReader所返回的那样，Reader期望输入的内容符合RFC 4180的规定。在第一次调用Read或ReadAll之前，导出的字段可以被改变以定制细节。</p>
<p>The Reader converts all \r\n sequences in its input to plain \n, including in multiline field values, so that the returned data does not depend on which line-ending convention an input file uses.</p>
<p>Reader 将其输入中的所有\r\n序列转换为普通的\n，包括在多行字段值中，因此返回的数据不依赖于输入文件使用的行结束惯例。</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-newreaderhttpscsopensourcegooglegogogo1201srcencodingcsvreadergol180">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=180" target="_blank" rel="noopener">NewReader</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewReader</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewReader returns a new Reader that reads from r.</p>
<p>NewReader返回一个新的阅读器，从r中读取数据。</p>
<h4 id="reader-fieldposhttpscsopensourcegooglegogogo1201srcencodingcsvreadergol211----go117">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=211" target="_blank" rel="noopener">FieldPos</a>  &lt;- go1.17</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">FieldPos</span>(<span style="color:#e06c75">field</span> <span style="color:#e5c07b">int</span>) (<span style="color:#e06c75">line</span>, <span style="color:#e06c75">column</span> <span style="color:#e5c07b">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>FieldPos returns the line and column corresponding to the start of the field with the given index in the slice most recently returned by Read. Numbering of lines and columns starts at 1; columns are counted in bytes, not runes.</p>
<p>FieldPos返回对应于最近由Read返回的片断中具有给定索引的字段开始的行和列。行和列的编号从1开始；列的计数单位是字节，而不是符码。</p>
<p>If this is called with an out-of-bounds index, it panics.</p>
<p>如果在调用这个函数时，索引超出了范围，它就会惊慌失措。</p>
<h4 id="reader-inputoffsethttpscsopensourcegooglegogogo1201srcencodingcsvreadergol222----go119">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=222" target="_blank" rel="noopener">InputOffset</a>  &lt;- go1.19</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">InputOffset</span>() <span style="color:#e5c07b">int64</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>InputOffset returns the input stream byte offset of the current reader position. The offset gives the location of the end of the most recently read row and the beginning of the next row.</p>
<p>InputOffset返回当前阅读器位置的输入流字节偏移。这个偏移量给出了最近读取的行的结束和下一行的开始的位置。</p>
<h4 id="reader-readhttpscsopensourcegooglegogogo1201srcencodingcsvreadergol195">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=195" target="_blank" rel="noopener">Read</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">Read</span>() (<span style="color:#e06c75">record</span> []<span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Read reads one record (a slice of fields) from r. If the record has an unexpected number of fields, Read returns the record along with the error ErrFieldCount. Except for that case, Read always returns either a non-nil record or a non-nil error, but not both. If there is no data left to be read, Read returns nil, io.EOF. If ReuseRecord is true, the returned slice may be shared between multiple calls to Read.</p>
<p>如果记录有一个意外的字段数，Read会返回记录和错误ErrFieldCount。除了这种情况，Read总是返回一个非空的记录或一个非空的错误，但不会同时返回。如果没有数据可读，Read返回nil，即io.EOF。如果ReuseRecord为真，返回的片断可以在多次调用Read时共享。</p>
<h4 id="reader-readallhttpscsopensourcegooglegogogo1201srcencodingcsvreadergol236">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/reader.go;l=236" target="_blank" rel="noopener">ReadAll</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadAll</span>() (<span style="color:#e06c75">records</span> [][]<span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadAll reads all the remaining records from r. Each record is a slice of fields. A successful call returns err == nil, not err == io.EOF. Because ReadAll is defined to read until EOF, it does not treat end of file as an error to be reported.</p>
<p>ReadAll从r读取所有剩余的记录。一个成功的调用返回err == nil，而不是err == io.EOF。因为ReadAll被定义为读到EOF为止，它不把文件结束作为一个错误来报告。</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h3 id="type-writerhttpscsopensourcegooglegogogo1201srcencodingcsvwritergol30">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/writer.go;l=30" target="_blank" rel="noopener">Writer</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Writer</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Comma</span>   <span style="color:#e5c07b">rune</span> <span style="color:#7f848e">// Field delimiter (set to &#39;,&#39; by NewWriter) // 字段分隔符(NewWriter设置为&#39;,&#39; )。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">UseCRLF</span> <span style="color:#e5c07b">bool</span> <span style="color:#7f848e">// True to use \r\n as the line terminator // True，使用 \r\n 作为行结束符。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Writer writes records using CSV encoding.</p>
<p>Writer使用CSV编码来写记录。</p>
<p>As returned by NewWriter, a Writer writes records terminated by a newline and uses &lsquo;,&rsquo; as the field delimiter. The exported fields can be changed to customize the details before the first call to Write or WriteAll.</p>
<p>正如NewWriter所返回的那样，Writer写入的记录以换行方式结束，并使用&rsquo;,&lsquo;作为字段分隔符。在第一次调用Write或WriteAll之前，可以改变导出的字段以定制细节。</p>
<p>Comma is the field delimiter.</p>
<p>逗号是字段分隔符。</p>
<p>If UseCRLF is true, the Writer ends each output line with \r\n instead of \n.</p>
<p>如果UseCRLF为真，Writer会以\r\n而不是\n结束每个输出行。</p>
<p>The writes of individual records are buffered. After all data has been written, the client should call the Flush method to guarantee all data has been forwarded to the underlying io.Writer. Any errors that occurred should be checked by calling the Error method.</p>
<p>单个记录的写入是缓冲的。在所有数据被写入后，客户端应该调用Flush方法以保证所有数据都被转发到底层的io.Writer。任何发生的错误都应该通过调用Error方法来检查。</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-newwriterhttpscsopensourcegooglegogogo1201srcencodingcsvwritergol37">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/writer.go;l=37" target="_blank" rel="noopener">NewWriter</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewWriter</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Writer</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewWriter returns a new Writer that writes to w.</p>
<p>NewWriter返回一个新的写入w的Writer。</p>
<h4 id="writer-errorhttpscsopensourcegooglegogogo1201srcencodingcsvwritergol128----go11">(*Writer) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/writer.go;l=128" target="_blank" rel="noopener">Error</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">w</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Writer</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Error reports any error that has occurred during a previous Write or Flush.</p>
<p>Error报告在之前的写或刷新过程中发生的任何错误。</p>
<h4 id="writer-flushhttpscsopensourcegooglegogogo1201srcencodingcsvwritergol123">(*Writer) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/writer.go;l=123" target="_blank" rel="noopener">Flush</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">w</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Writer</span>) <span style="color:#61afef;font-weight:bold">Flush</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>Flush writes any buffered data to the underlying io.Writer. To check if an error occurred during the Flush, call Error.</p>
<p>Flush将任何缓冲的数据写入底层的io.Writer。要检查在Flush过程中是否有错误发生，请调用Error。</p>
<h4 id="writer-writehttpscsopensourcegooglegogogo1201srcencodingcsvwritergol48">(*Writer) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/writer.go;l=48" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">w</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Writer</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">record</span> []<span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Write writes a single CSV record to w along with any necessary quoting. A record is a slice of strings with each string being one field. Writes are buffered, so Flush must eventually be called to ensure that the record is written to the underlying io.Writer.</p>
<p>Write将一条CSV记录和任何必要的引号一起写到w中。一个记录是一个字符串的切片，每个字符串是一个字段。写入是缓冲的，所以最终必须调用Flush以确保记录被写入底层的io.Writer。</p>
<h4 id="writer-writeallhttpscsopensourcegooglegogogo1201srcencodingcsvwritergol135">(*Writer) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/csv/writer.go;l=135" target="_blank" rel="noopener">WriteAll</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">w</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Writer</span>) <span style="color:#61afef;font-weight:bold">WriteAll</span>(<span style="color:#e06c75">records</span> [][]<span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>WriteAll writes multiple CSV records to w using Write and then calls Flush, returning any error from the Flush.</p>
<p>WriteAll使用Write将多个CSV记录写入w，然后调用Flush，返回Flush的任何错误。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/csv&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">records</span> <span style="color:#56b6c2">:=</span> [][]<span style="color:#e5c07b">string</span>{
</span></span><span style="display:flex;"><span>		{<span style="color:#98c379">&#34;first_name&#34;</span>, <span style="color:#98c379">&#34;last_name&#34;</span>, <span style="color:#98c379">&#34;username&#34;</span>},
</span></span><span style="display:flex;"><span>		{<span style="color:#98c379">&#34;Rob&#34;</span>, <span style="color:#98c379">&#34;Pike&#34;</span>, <span style="color:#98c379">&#34;rob&#34;</span>},
</span></span><span style="display:flex;"><span>		{<span style="color:#98c379">&#34;Ken&#34;</span>, <span style="color:#98c379">&#34;Thompson&#34;</span>, <span style="color:#98c379">&#34;ken&#34;</span>},
</span></span><span style="display:flex;"><span>		{<span style="color:#98c379">&#34;Robert&#34;</span>, <span style="color:#98c379">&#34;Griesemer&#34;</span>, <span style="color:#98c379">&#34;gri&#34;</span>},
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">w</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">csv</span>.<span style="color:#61afef;font-weight:bold">NewWriter</span>(<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Stdout</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">WriteAll</span>(<span style="color:#e06c75">records</span>) <span style="color:#7f848e">// calls Flush internally
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">Error</span>(); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatalln</span>(<span style="color:#98c379">&#34;error writing csv:&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-64fae772a44b4c777a69d17eee1e8e45">7 - encoding</h1>
    
	<h1 id="encoding">encoding</h1>
<p><a href="https://pkg.go.dev/encoding@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding@go1.20.1</a></p>
<p>Package encoding defines interfaces shared by other packages that convert data to and from byte-level and textual representations. Packages that check for these interfaces include encoding/gob, encoding/json, and encoding/xml. As a result, implementing an interface once can make a type useful in multiple encodings. Standard types that implement these interfaces include time.Time and net.IP. The interfaces come in pairs that produce and consume encoded data.</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<p>This section is empty.</p>
<h2 id="类型">类型</h2>
<h3 id="type-binarymarshalerhttpscsopensourcegooglegogogo1201srcencodingencodinggol18">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/encoding.go;l=18" target="_blank" rel="noopener">BinaryMarshaler</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">BinaryMarshaler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">MarshalBinary</span>() (<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>BinaryMarshaler is the interface implemented by an object that can marshal itself into a binary form.</p>
<p>MarshalBinary encodes the receiver into a binary form and returns the result.</p>
<h3 id="type-binaryunmarshalerhttpscsopensourcegooglegogogo1201srcencodingencodinggol28">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/encoding.go;l=28" target="_blank" rel="noopener">BinaryUnmarshaler</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">BinaryUnmarshaler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">UnmarshalBinary</span>(<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>BinaryUnmarshaler is the interface implemented by an object that can unmarshal a binary representation of itself.</p>
<p>UnmarshalBinary must be able to decode the form generated by MarshalBinary. UnmarshalBinary must copy the data if it wishes to retain the data after returning.</p>
<h3 id="type-textmarshalerhttpscsopensourcegooglegogogo1201srcencodingencodinggol36">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/encoding.go;l=36" target="_blank" rel="noopener">TextMarshaler</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">TextMarshaler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">MarshalText</span>() (<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>TextMarshaler is the interface implemented by an object that can marshal itself into a textual form.</p>
<p>MarshalText encodes the receiver into UTF-8-encoded text and returns the result.</p>
<h3 id="type-textunmarshalerhttpscsopensourcegooglegogogo1201srcencodingencodinggol46">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/encoding.go;l=46" target="_blank" rel="noopener">TextUnmarshaler</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">TextUnmarshaler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">UnmarshalText</span>(<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>TextUnmarshaler is the interface implemented by an object that can unmarshal a textual representation of itself.</p>
<p>UnmarshalText must be able to decode the form generated by MarshalText. UnmarshalText must copy the text if it wishes to retain the text after returning.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-367c894a5d3adfff24458860d21946ec">8 - gob</h1>
    
	<h1 id="gob">gob</h1>
<p><a href="https://pkg.go.dev/encoding/gob@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/gob@go1.20.1</a></p>
<p>Package gob manages streams of gobs - binary values exchanged between an Encoder (transmitter) and a Decoder (receiver). A typical use is transporting arguments and results of remote procedure calls (RPCs) such as those provided by package &ldquo;net/rpc&rdquo;.</p>
<p>The implementation compiles a custom codec for each data type in the stream and is most efficient when a single Encoder is used to transmit a stream of values, amortizing the cost of compilation.</p>
<h4 id="basics">Basics</h4>
<p>A stream of gobs is self-describing. Each data item in the stream is preceded by a specification of its type, expressed in terms of a small set of predefined types. Pointers are not transmitted, but the things they point to are transmitted; that is, the values are flattened. Nil pointers are not permitted, as they have no value. Recursive types work fine, but recursive values (data with cycles) are problematic. This may change.</p>
<p>To use gobs, create an Encoder and present it with a series of data items as values or addresses that can be dereferenced to values. The Encoder makes sure all type information is sent before it is needed. At the receive side, a Decoder retrieves values from the encoded stream and unpacks them into local variables.</p>
<h3 id="类型">类型</h3>
<p>The source and destination values/types need not correspond exactly. For structs, fields (identified by name) that are in the source but absent from the receiving variable will be ignored. Fields that are in the receiving variable but missing from the transmitted type or value will be ignored in the destination. If a field with the same name is present in both, their types must be compatible. Both the receiver and transmitter will do all necessary indirection and dereferencing to convert between gobs and actual Go values. For instance, a gob type that is schematically,</p>
<pre tabindex="0"><code>struct { A, B int }
</code></pre><p>can be sent from or received into any of these Go types:</p>
<pre tabindex="0"><code>struct { A, B int }	// the same
*struct { A, B int }	// extra indirection of the struct
struct { *A, **B int }	// extra indirection of the fields
struct { A, B int64 }	// different concrete value type; see below
</code></pre><p>It may also be received into any of these:</p>
<pre tabindex="0"><code>struct { A, B int }	// the same
struct { B, A int }	// ordering doesn&#39;t matter; matching is by name
struct { A, B, C int }	// extra field (C) ignored
struct { B int }	// missing field (A) ignored; data will be dropped
struct { B, C int }	// missing field (A) ignored; extra field (C) ignored.
</code></pre><p>Attempting to receive into these types will draw a decode error:</p>
<pre tabindex="0"><code>struct { A int; B uint }	// change of signedness for B
struct { A int; B float }	// change of type for B
struct { }			// no field names in common
struct { C, D int }		// no field names in common
</code></pre><p>Integers are transmitted two ways: arbitrary precision signed integers or arbitrary precision unsigned integers. There is no int8, int16 etc. discrimination in the gob format; there are only signed and unsigned integers. As described below, the transmitter sends the value in a variable-length encoding; the receiver accepts the value and stores it in the destination variable. Floating-point numbers are always sent using IEEE-754 64-bit precision (see below).</p>
<p>Signed integers may be received into any signed integer variable: int, int16, etc.; unsigned integers may be received into any unsigned integer variable; and floating point values may be received into any floating point variable. However, the destination variable must be able to represent the value or the decode operation will fail.</p>
<p>Structs, arrays and slices are also supported. Structs encode and decode only exported fields. Strings and arrays of bytes are supported with a special, efficient representation (see below). When a slice is decoded, if the existing slice has capacity the slice will be extended in place; if not, a new array is allocated. Regardless, the length of the resulting slice reports the number of elements decoded.</p>
<p>In general, if allocation is required, the decoder will allocate memory. If not, it will update the destination variables with values read from the stream. It does not initialize them first, so if the destination is a compound value such as a map, struct, or slice, the decoded values will be merged elementwise into the existing variables.</p>
<p>Functions and channels will not be sent in a gob. Attempting to encode such a value at the top level will fail. A struct field of chan or func type is treated exactly like an unexported field and is ignored.</p>
<p>Gob can encode a value of any type implementing the GobEncoder or encoding.BinaryMarshaler interfaces by calling the corresponding method, in that order of preference.</p>
<p>Gob can decode a value of any type implementing the GobDecoder or encoding.BinaryUnmarshaler interfaces by calling the corresponding method, again in that order of preference.</p>
<h4 id="encoding-details">Encoding Details</h4>
<p>This section documents the encoding, details that are not important for most users. Details are presented bottom-up.</p>
<p>An unsigned integer is sent one of two ways. If it is less than 128, it is sent as a byte with that value. Otherwise it is sent as a minimal-length big-endian (high byte first) byte stream holding the value, preceded by one byte holding the byte count, negated. Thus 0 is transmitted as (00), 7 is transmitted as (07) and 256 is transmitted as (FE 01 00).</p>
<p>A boolean is encoded within an unsigned integer: 0 for false, 1 for true.</p>
<p>A signed integer, i, is encoded within an unsigned integer, u. Within u, bits 1 upward contain the value; bit 0 says whether they should be complemented upon receipt. The encode algorithm looks like this:</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">u</span> <span style="color:#e5c07b">uint</span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">if</span> <span style="color:#e06c75">i</span> &lt; <span style="color:#d19a66">0</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">u</span> = (^<span style="color:#e5c07b">uint</span>(<span style="color:#e06c75">i</span>) <span style="color:#56b6c2">&lt;&lt;</span> <span style="color:#d19a66">1</span>) | <span style="color:#d19a66">1</span> <span style="color:#7f848e">// complement i, bit 0 is 1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>} <span style="color:#c678dd">else</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">u</span> = (<span style="color:#e5c07b">uint</span>(<span style="color:#e06c75">i</span>) <span style="color:#56b6c2">&lt;&lt;</span> <span style="color:#d19a66">1</span>) <span style="color:#7f848e">// do not complement i, bit 0 is 0
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#61afef;font-weight:bold">encodeUnsigned</span>(<span style="color:#e06c75">u</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>The low bit is therefore analogous to a sign bit, but making it the complement bit instead guarantees that the largest negative integer is not a special case. For example, -129=^128=(^256&raquo;1) encodes as (FE 01 01).</p>
<p>Floating-point numbers are always sent as a representation of a float64 value. That value is converted to a uint64 using math.Float64bits. The uint64 is then byte-reversed and sent as a regular unsigned integer. The byte-reversal means the exponent and high-precision part of the mantissa go first. Since the low bits are often zero, this can save encoding bytes. For instance, 17.0 is encoded in only three bytes (FE 31 40).</p>
<p>Strings and slices of bytes are sent as an unsigned count followed by that many uninterpreted bytes of the value.</p>
<p>All other slices and arrays are sent as an unsigned count followed by that many elements using the standard gob encoding for their type, recursively.</p>
<p>Maps are sent as an unsigned count followed by that many key, element pairs. Empty but non-nil maps are sent, so if the receiver has not allocated one already, one will always be allocated on receipt unless the transmitted map is nil and not at the top level.</p>
<p>In slices and arrays, as well as maps, all elements, even zero-valued elements, are transmitted, even if all the elements are zero.</p>
<p>Structs are sent as a sequence of (field number, field value) pairs. The field value is sent using the standard gob encoding for its type, recursively. If a field has the zero value for its type (except for arrays; see above), it is omitted from the transmission. The field number is defined by the type of the encoded struct: the first field of the encoded type is field 0, the second is field 1, etc. When encoding a value, the field numbers are delta encoded for efficiency and the fields are always sent in order of increasing field number; the deltas are therefore unsigned. The initialization for the delta encoding sets the field number to -1, so an unsigned integer field 0 with value 7 is transmitted as unsigned delta = 1, unsigned value = 7 or (01 07). Finally, after all the fields have been sent a terminating mark denotes the end of the struct. That mark is a delta=0 value, which has representation (00).</p>
<p>Interface types are not checked for compatibility; all interface types are treated, for transmission, as members of a single &ldquo;interface&rdquo; type, analogous to int or []byte - in effect they&rsquo;re all treated as interface{}. Interface values are transmitted as a string identifying the concrete type being sent (a name that must be pre-defined by calling Register), followed by a byte count of the length of the following data (so the value can be skipped if it cannot be stored), followed by the usual encoding of concrete (dynamic) value stored in the interface value. (A nil interface value is identified by the empty string and transmits no value.) Upon receipt, the decoder verifies that the unpacked concrete item satisfies the interface of the receiving variable.</p>
<p>If a value is passed to Encode and the type is not a struct (or pointer to struct, etc.), for simplicity of processing it is represented as a struct of one field. The only visible effect of this is to encode a zero byte after the value, just as after the last field of an encoded struct, so that the decode algorithm knows when the top-level value is complete.</p>
<p>The representation of types is described below. When a type is defined on a given connection between an Encoder and Decoder, it is assigned a signed integer type id. When Encoder.Encode(v) is called, it makes sure there is an id assigned for the type of v and all its elements and then it sends the pair (typeid, encoded-v) where typeid is the type id of the encoded type of v and encoded-v is the gob encoding of the value v.</p>
<p>To define a type, the encoder chooses an unused, positive type id and sends the pair (-type id, encoded-type) where encoded-type is the gob encoding of a wireType description, constructed from these types:</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">wireType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ArrayT</span>           <span style="color:#56b6c2">*</span><span style="color:#e06c75">ArrayType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">SliceT</span>           <span style="color:#56b6c2">*</span><span style="color:#e06c75">SliceType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StructT</span>          <span style="color:#56b6c2">*</span><span style="color:#e06c75">StructType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MapT</span>             <span style="color:#56b6c2">*</span><span style="color:#e06c75">MapType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">GobEncoderT</span>      <span style="color:#56b6c2">*</span><span style="color:#e06c75">gobEncoderType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">BinaryMarshalerT</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">gobEncoderType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TextMarshalerT</span>   <span style="color:#56b6c2">*</span><span style="color:#e06c75">gobEncoderType</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">arrayType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">CommonType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Elem</span> <span style="color:#e06c75">typeId</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Len</span>  <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">CommonType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// the name of the struct type
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Id</span>  <span style="color:#e5c07b">int</span>    <span style="color:#7f848e">// the id of the type, repeated so it&#39;s inside the type
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">sliceType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">CommonType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Elem</span> <span style="color:#e06c75">typeId</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">structType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">CommonType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Field</span> []<span style="color:#56b6c2">*</span><span style="color:#e06c75">fieldType</span> <span style="color:#7f848e">// the fields of the struct.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">fieldType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// the name of the field.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Id</span>   <span style="color:#e5c07b">int</span>    <span style="color:#7f848e">// the type id of the field, which must be already defined
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">mapType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">CommonType</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Key</span>  <span style="color:#e06c75">typeId</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Elem</span> <span style="color:#e06c75">typeId</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">gobEncoderType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">CommonType</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>If there are nested type ids, the types for all inner type ids must be defined before the top-level type id is used to describe an encoded-v.</p>
<p>For simplicity in setup, the connection is defined to understand these types a priori, as well as the basic gob types int, uint, etc. Their ids are:</p>
<pre tabindex="0"><code>bool        1
int         2
uint        3
float       4
[]byte      5
string      6
complex     7
interface   8
// gap for reserved ids.
WireType    16
ArrayType   17
CommonType  18
SliceType   19
StructType  20
FieldType   21
// 22 is slice of fieldType.
MapType     23
</code></pre><p>Finally, each message created by a call to Encode is preceded by an encoded unsigned integer count of the number of bytes remaining in the message. After the initial type name, interface values are wrapped the same way; in effect, the interface value acts like a recursive invocation of Encode.</p>
<p>In summary, a gob stream looks like</p>
<pre tabindex="0"><code>(byteCount (-type id, encoding of a wireType)* (type id, encoding of a value))*
</code></pre><p>where * signifies zero or more repetitions and the type id of a value must be predefined or be defined before the value in the stream.</p>
<p>Compatibility: Any future changes to the package will endeavor to maintain compatibility with streams encoded using previous versions. That is, any released version of this package should be able to decode data written with any previously released version, subject to issues such as security fixes. See the Go compatibility document for background: <a href="https://golang.org/doc/go1compat" target="_blank" rel="noopener">https://golang.org/doc/go1compat</a></p>
<p>See &ldquo;Gobs of data&rdquo; for a design discussion of the gob wire format: <a href="https://blog.golang.org/gobs-of-data" target="_blank" rel="noopener">https://blog.golang.org/gobs-of-data</a></p>
<h4 id="security">Security</h4>
<p>This package is not designed to be hardened against adversarial inputs, and is outside the scope of <a href="https://go.dev/security/policy" target="_blank" rel="noopener">https://go.dev/security/policy</a>. In particular, the Decoder does only basic sanity checking on decoded input sizes, and its limits are not configurable. Care should be taken when decoding gob data from untrusted sources, which may consume significant resources.</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-registerhttpscsopensourcegooglegogogo1201srcencodinggobtypegol836">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/type.go;l=836" target="_blank" rel="noopener">Register</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Register</span>(<span style="color:#e06c75">value</span> <span style="color:#e06c75">any</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Register records a type, identified by a value for that type, under its internal type name. That name will identify the concrete type of a value sent or received as an interface variable. Only types that will be transferred as implementations of interface values need to be registered. Expecting to be used only during initialization, it panics if the mapping between types and names is not a bijection.</p>
<h4 id="func-registernamehttpscsopensourcegooglegogogo1201srcencodinggobtypegol807">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/type.go;l=807" target="_blank" rel="noopener">RegisterName</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">RegisterName</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">value</span> <span style="color:#e06c75">any</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>RegisterName is like Register but uses the provided name rather than the type&rsquo;s default.</p>
<h2 id="类型-1">类型</h2>
<h3 id="type-commontypehttpscsopensourcegooglegogogo1201srcencodinggobtypegol216">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/type.go;l=216" target="_blank" rel="noopener">CommonType</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">CommonType</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Id</span>   <span style="color:#e06c75">typeId</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>CommonType holds elements of all types. It is a historical artifact, kept for binary compatibility and exported only for the benefit of the package&rsquo;s encoding of type descriptors. It is not intended for direct use by clients.</p>
<h3 id="type-decoderhttpscsopensourcegooglegogogo1201srcencodinggobdecodergol28">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/decoder.go;l=28" target="_blank" rel="noopener">Decoder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Decoder</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Decoder manages the receipt of type and data information read from the remote side of a connection. It is safe for concurrent use by multiple goroutines.</p>
<p>The Decoder does only basic sanity checking on decoded input sizes, and its limits are not configurable. Take caution when decoding gob data from untrusted sources.</p>
<h4 id="func-newdecoderhttpscsopensourcegooglegogogo1201srcencodinggobdecodergol43">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/decoder.go;l=43" target="_blank" rel="noopener">NewDecoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewDecoder returns a new decoder that reads from the io.Reader. If r does not also implement io.ByteReader, it will be wrapped in a bufio.Reader.</p>
<h4 id="decoder-decodehttpscsopensourcegooglegogogo1201srcencodinggobdecodergol193">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/decoder.go;l=193" target="_blank" rel="noopener">Decode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">e</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Decode reads the next value from the input stream and stores it in the data represented by the empty interface value. If e is nil, the value will be discarded. Otherwise, the value underlying e must be a pointer to the correct type for the next data item received. If the input is at EOF, Decode returns io.EOF and does not modify e.</p>
<h4 id="decoder-decodevaluehttpscsopensourcegooglegogogo1201srcencodinggobdecodergol213">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/decoder.go;l=213" target="_blank" rel="noopener">DecodeValue</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">DecodeValue</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Value</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>DecodeValue reads the next value from the input stream. If v is the zero reflect.Value (v.Kind() == Invalid), DecodeValue discards the value. Otherwise, it stores the value into v. In that case, v must represent a non-nil pointer to data or be an assignable reflect.Value (v.CanSet()) If the input is at EOF, DecodeValue returns io.EOF and does not modify v.</p>
<h3 id="type-encoderhttpscsopensourcegooglegogogo1201srcencodinggobencodergol17">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/encoder.go;l=17" target="_blank" rel="noopener">Encoder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Encoder</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>An Encoder manages the transmission of type and data information to the other side of a connection. It is safe for concurrent use by multiple goroutines.</p>
<h4 id="func-newencoderhttpscsopensourcegooglegogogo1201srcencodinggobencodergol34">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/encoder.go;l=34" target="_blank" rel="noopener">NewEncoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoder</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewEncoder returns a new encoder that will transmit on the io.Writer.</p>
<h4 id="encoder-encodehttpscsopensourcegooglegogogo1201srcencodinggobencodergol175">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/encoder.go;l=175" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">Encode</span>(<span style="color:#e06c75">e</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Encode transmits the data item represented by the empty interface value, guaranteeing that all necessary type information has been transmitted first. Passing a nil pointer to Encoder will panic, as they cannot be transmitted by gob.</p>
<h4 id="encoder-encodevaluehttpscsopensourcegooglegogogo1201srcencodinggobencodergol218">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/encoder.go;l=218" target="_blank" rel="noopener">EncodeValue</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">EncodeValue</span>(<span style="color:#e06c75">value</span> <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Value</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodeValue transmits the data item represented by the reflection value, guaranteeing that all necessary type information has been transmitted first. Passing a nil pointer to EncodeValue will panic, as they cannot be transmitted by gob.</p>
<h3 id="type-gobdecoderhttpscsopensourcegooglegogogo1201srcencodinggobtypegol793">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/type.go;l=793" target="_blank" rel="noopener">GobDecoder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">GobDecoder</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// GobDecode overwrites the receiver, which must be a pointer,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// with the value represented by the byte slice, which was written
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// by GobEncode, usually for the same concrete type.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">GobDecode</span>([]<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>GobDecoder is the interface describing data that provides its own routine for decoding transmitted values sent by a GobEncoder.</p>
<h3 id="type-gobencoderhttpscsopensourcegooglegogogo1201srcencodinggobtypegol784">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/gob/type.go;l=784" target="_blank" rel="noopener">GobEncoder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">GobEncoder</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// GobEncode returns a byte slice representing the encoding of the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// receiver for transmission to a GobDecoder, usually of the same
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// concrete type.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">GobEncode</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>GobEncoder is the interface describing data that provides its own representation for encoding values for transmission to a GobDecoder. A type that implements GobEncoder and GobDecoder has complete control over the representation of its data and may therefore contain things such as private fields, channels, and functions, which are not usually transmissible in gob streams.</p>
<p>Note: Since gobs can be stored permanently, it is good design to guarantee the encoding used by a GobEncoder is stable as the software evolves. For instance, it might make sense for GobEncode to include a version number in the encoding.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8d1dc60a6a70b699a65e8023f9270644">9 - hex</h1>
    
	<h1 id="hex">hex</h1>
<p><a href="https://pkg.go.dev/encoding/hex@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/hex@go1.20.1</a></p>
<p>Package hex implements hexadecimal encoding and decoding.</p>
<p>包hex实现了十六进制的编码和解码。</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=57" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrLength</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;encoding/hex: odd length hex string&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ErrLength reports an attempt to decode an odd-length input using Decode or DecodeString. The stream-based Decoder returns io.ErrUnexpectedEOF instead of ErrLength.</p>
<p>ErrLength报告使用Decode或DecodeString解码一个奇长的输入的尝试。基于流的解码器返回io.ErrUnexpectedEOF而不是ErrLength。</p>
<h2 id="函数">函数</h2>
<h4 id="func-decodehttpscsopensourcegooglegogogo1201srcencodinghexhexgol77">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=77" target="_blank" rel="noopener">Decode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Decode decodes src into DecodedLen(len(src)) bytes, returning the actual number of bytes written to dst.</p>
<p>Decode将src解码为DecodedLen(len(src))字节，返回写给dst的实际字节数。</p>
<p>Decode expects that src contains only hexadecimal characters and that src has even length. If the input is malformed, Decode returns the number of bytes decoded before the error.</p>
<p>解码期望src只包含十六进制的字符，并且src的长度是偶数。如果输入是畸形的，Decode会返回错误发生前的解码字节数。</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-decodestringhttpscsopensourcegooglegogogo1201srcencodinghexhexgol118">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=118" target="_blank" rel="noopener">DecodeString</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DecodeString</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>DecodeString returns the bytes represented by the hexadecimal string s.</p>
<p>DecodeString返回十六进制字符串s所代表的字节数。</p>
<p>DecodeString expects that src contains only hexadecimal characters and that src has even length. If the input is malformed, DecodeString returns the bytes decoded before the error.</p>
<p>DecodeString期望src只包含十六进制的字符，并且src具有偶数长度。如果输入是畸形的，DecodeString将返回错误之前的解码字节。</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-decodedlenhttpscsopensourcegooglegogogo1201srcencodinghexhexgol68">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=68" target="_blank" rel="noopener">DecodedLen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DecodedLen</span>(<span style="color:#e06c75">x</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>DecodedLen returns the length of a decoding of x source bytes. Specifically, it returns x / 2.</p>
<p>DecodedLen返回x个源字节的解码长度。具体来说，它返回x/2。</p>
<h4 id="func-dumphttpscsopensourcegooglegogogo1201srcencodinghexhexgol128">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=128" target="_blank" rel="noopener">Dump</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Dump</span>(<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Dump returns a string that contains a hex dump of the given data. The format of the hex dump matches the output of <code>hexdump -C</code> on the command line.</p>
<p>Dump返回一个包含给定数据的十六进制转储的字符串。十六进制转储的格式与命令行中<code>hexdump -C</code>的输出相匹配。</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-dumperhttpscsopensourcegooglegogogo1201srcencodinghexhexgol224">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=224" target="_blank" rel="noopener">Dumper</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Dumper</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">WriteCloser</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Dumper returns a WriteCloser that writes a hex dump of all written data to w. The format of the dump matches the output of <code>hexdump -C</code> on the command line.</p>
<p>Dumper返回一个WriteCloser，将所有写入的数据的十六进制转储到w。</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-encodehttpscsopensourcegooglegogogo1201srcencodinghexhexgol44">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=44" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Encode</span>(<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Encode encodes src into EncodedLen(len(src)) bytes of dst. As a convenience, it returns the number of bytes written to dst, but this value is always EncodedLen(len(src)). Encode implements hexadecimal encoding.</p>
<p>Encode将src编码为dst的EncodedLen(len(src))字节。为了方便起见，它返回写入dst的字节数，但这个值总是EncodedLen(len(src))。Encode实现了十六进制的编码。</p>
<h5 id="example-4">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-encodetostringhttpscsopensourcegooglegogogo1201srcencodinghexhexgol106">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=106" target="_blank" rel="noopener">EncodeToString</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">EncodeToString</span>(<span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodeToString returns the hexadecimal encoding of src.</p>
<p>EncodeToString返回src的十六进制编码。</p>
<h5 id="example-5">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-encodedlenhttpscsopensourcegooglegogogo1201srcencodinghexhexgol38">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=38" target="_blank" rel="noopener">EncodedLen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">EncodedLen</span>(<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodedLen returns the length of an encoding of n source bytes. Specifically, it returns n * 2.</p>
<p>EncodedLen返回n个源字节的编码的长度。具体来说，它返回n * 2。</p>
<h4 id="func-newdecoderhttpscsopensourcegooglegogogo1201srcencodinghexhexgol184----go110">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=184" target="_blank" rel="noopener">NewDecoder</a>  &lt;- go1.10</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewDecoder returns an io.Reader that decodes hexadecimal characters from r. NewDecoder expects that r contain only an even number of hexadecimal characters.</p>
<p>NewDecoder返回一个io.Reader，对r中的十六进制字符进行解码。NewDecoder希望r中只包含偶数的十六进制字符。</p>
<h4 id="func-newencoderhttpscsopensourcegooglegogogo1201srcencodinghexhexgol155----go110">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=155" target="_blank" rel="noopener">NewEncoder</a>  &lt;- go1.10</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoder</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewEncoder returns an io.Writer that writes lowercase hexadecimal characters to w.</p>
<p>NewEncoder返回一个io.Writer，将小写的十六进制字符写入w中。</p>
<h2 id="类型">类型</h2>
<h3 id="type-invalidbyteerrorhttpscsopensourcegooglegogogo1201srcencodinghexhexgol60">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=60" target="_blank" rel="noopener">InvalidByteError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">InvalidByteError</span> <span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>InvalidByteError values describe errors resulting from an invalid byte in a hex string.</p>
<p>InvalidByteError值描述由十六进制字符串中的无效字节导致的错误。</p>
<h4 id="invalidbyteerror-errorhttpscsopensourcegooglegogogo1201srcencodinghexhexgol62">(InvalidByteError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/hex/hex.go;l=62" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">InvalidByteError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-668648da9eb78b6d41c245fcdfd4376f">10 - json</h1>
    
	<h1 id="json">json</h1>
<p><a href="https://pkg.go.dev/encoding/json@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/json@go1.20.1</a></p>
<p>​	json包实现了<a href="https://rfc-editor.org/rfc/rfc7159.html" target="_blank" rel="noopener">RFC 7159</a>中定义的JSON编解码。JSON和Go值之间的映射在Marshal和Unmarshal函数的文档中有描述。</p>
<p>​	有关此包的介绍，请参见<a href="https://golang.org/doc/articles/json_and_go.html" target="_blank" rel="noopener">JSON和Go</a>。</p>
<h5 id="example-custommarshaljson">Example (CustomMarshalJSON)</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">70
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Animal</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Unknown</span> <span style="color:#e06c75">Animal</span> = <span style="color:#e5c07b">iota</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Gopher</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Zebra</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Animal</span>) <span style="color:#61afef;font-weight:bold">UnmarshalJSON</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Unmarshal</span>(<span style="color:#e06c75">b</span>, <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">s</span>); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">return</span> <span style="color:#e06c75">err</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">switch</span> <span style="color:#e06c75">strings</span>.<span style="color:#61afef;font-weight:bold">ToLower</span>(<span style="color:#e06c75">s</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">default</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#56b6c2">*</span><span style="color:#e06c75">a</span> = <span style="color:#e06c75">Unknown</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">case</span> <span style="color:#98c379">&#34;gopher&#34;</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#56b6c2">*</span><span style="color:#e06c75">a</span> = <span style="color:#e06c75">Gopher</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">case</span> <span style="color:#98c379">&#34;zebra&#34;</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#56b6c2">*</span><span style="color:#e06c75">a</span> = <span style="color:#e06c75">Zebra</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e5c07b">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#e06c75">Animal</span>) <span style="color:#61afef;font-weight:bold">MarshalJSON</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">switch</span> <span style="color:#e06c75">a</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">default</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">s</span> = <span style="color:#98c379">&#34;unknown&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">case</span> <span style="color:#e06c75">Gopher</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">s</span> = <span style="color:#98c379">&#34;gopher&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">case</span> <span style="color:#e06c75">Zebra</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">s</span> = <span style="color:#98c379">&#34;zebra&#34;</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Marshal</span>(<span style="color:#e06c75">s</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">blob</span> <span style="color:#56b6c2">:=</span> <span style="color:#98c379">`[&#34;gopher&#34;,&#34;armadillo&#34;,&#34;zebra&#34;,&#34;unknown&#34;,&#34;gopher&#34;,&#34;bee&#34;,&#34;gopher&#34;,&#34;zebra&#34;]`</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">zoo</span> []<span style="color:#e06c75">Animal</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Unmarshal</span>([]<span style="color:#e5c07b">byte</span>(<span style="color:#e06c75">blob</span>), <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">zoo</span>); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">census</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>(<span style="color:#c678dd">map</span>[<span style="color:#e06c75">Animal</span>]<span style="color:#e5c07b">int</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">for</span> <span style="color:#e06c75">_</span>, <span style="color:#e06c75">animal</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">zoo</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">census</span>[<span style="color:#e06c75">animal</span>] <span style="color:#56b6c2">+=</span> <span style="color:#d19a66">1</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Zoo Census:\n* Gophers: %d\n* Zebras:  %d\n* Unknown: %d\n&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">census</span>[<span style="color:#e06c75">Gopher</span>], <span style="color:#e06c75">census</span>[<span style="color:#e06c75">Zebra</span>], <span style="color:#e06c75">census</span>[<span style="color:#e06c75">Unknown</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Zoo</span> <span style="color:#e06c75">Census</span>:
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">Gophers</span>: <span style="color:#d19a66">3</span>
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">Zebras</span>:  <span style="color:#d19a66">2</span>
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">Unknown</span>: <span style="color:#d19a66">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="exampletextmarshaljson">Example(TextMarshalJSON)</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Size</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Unrecognized</span> <span style="color:#e06c75">Size</span> = <span style="color:#e5c07b">iota</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Small</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Large</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">s</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Size</span>) <span style="color:#61afef;font-weight:bold">UnmarshalText</span>(<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">switch</span> <span style="color:#e06c75">strings</span>.<span style="color:#61afef;font-weight:bold">ToLower</span>(<span style="color:#e5c07b">string</span>(<span style="color:#e06c75">text</span>)) {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">default</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#56b6c2">*</span><span style="color:#e06c75">s</span> = <span style="color:#e06c75">Unrecognized</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">case</span> <span style="color:#98c379">&#34;small&#34;</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#56b6c2">*</span><span style="color:#e06c75">s</span> = <span style="color:#e06c75">Small</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">case</span> <span style="color:#98c379">&#34;large&#34;</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#56b6c2">*</span><span style="color:#e06c75">s</span> = <span style="color:#e06c75">Large</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e5c07b">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">s</span> <span style="color:#e06c75">Size</span>) <span style="color:#61afef;font-weight:bold">MarshalText</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">switch</span> <span style="color:#e06c75">s</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">default</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">name</span> = <span style="color:#98c379">&#34;unrecognized&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">case</span> <span style="color:#e06c75">Small</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">name</span> = <span style="color:#98c379">&#34;small&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">case</span> <span style="color:#e06c75">Large</span>:
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">name</span> = <span style="color:#98c379">&#34;large&#34;</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> []<span style="color:#e5c07b">byte</span>(<span style="color:#e06c75">name</span>), <span style="color:#e5c07b">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">blob</span> <span style="color:#56b6c2">:=</span> <span style="color:#98c379">`[&#34;small&#34;,&#34;regular&#34;,&#34;large&#34;,&#34;unrecognized&#34;,&#34;small&#34;,&#34;normal&#34;,&#34;small&#34;,&#34;large&#34;]`</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">inventory</span> []<span style="color:#e06c75">Size</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Unmarshal</span>([]<span style="color:#e5c07b">byte</span>(<span style="color:#e06c75">blob</span>), <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">inventory</span>); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">counts</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>(<span style="color:#c678dd">map</span>[<span style="color:#e06c75">Size</span>]<span style="color:#e5c07b">int</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">for</span> <span style="color:#e06c75">_</span>, <span style="color:#e06c75">size</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">inventory</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">counts</span>[<span style="color:#e06c75">size</span>] <span style="color:#56b6c2">+=</span> <span style="color:#d19a66">1</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Inventory Counts:\n* Small:        %d\n* Large:        %d\n* Unrecognized: %d\n&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">counts</span>[<span style="color:#e06c75">Small</span>], <span style="color:#e06c75">counts</span>[<span style="color:#e06c75">Large</span>], <span style="color:#e06c75">counts</span>[<span style="color:#e06c75">Unrecognized</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Inventory</span> <span style="color:#e06c75">Counts</span>:
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">Small</span>:        <span style="color:#d19a66">3</span>
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">Large</span>:        <span style="color:#d19a66">2</span>
</span></span><span style="display:flex;"><span><span style="color:#56b6c2">*</span> <span style="color:#e06c75">Unrecognized</span>: <span style="color:#d19a66">3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-compacthttpscsopensourcegooglegogogo1201srcencodingjsonindentgol13">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/indent.go;l=13" target="_blank" rel="noopener">Compact</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Compact</span>(<span style="color:#e06c75">dst</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bytes</span>.<span style="color:#e06c75">Buffer</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Compact函数将JSON编码的src附加到dst中，省略了不重要的空格字符。</p>
<h4 id="func-htmlescapehttpscsopensourcegooglegogogo1201srcencodingjsonencodegol192">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=192" target="_blank" rel="noopener">HTMLEscape</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">HTMLEscape</span>(<span style="color:#e06c75">dst</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bytes</span>.<span style="color:#e06c75">Buffer</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	HTMLEscape函数将JSON编码的src附加到dst中，将字符串文字内的&lt;、&gt;、&amp;、U+2028和U+2029字符更改为\u003c、\u003e、\u0026、\u2028、\u2029，以使JSON可以安全地嵌入HTML <code>&lt;script&gt;</code>标记中。由于历史原因，Web浏览器不支持在<code>&lt;script&gt;</code>标记中使用标准的HTML转义，因此必须使用替代的JSON编码。</p>
<h5 id="htmlescape-example">HTMLEscape Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;bytes&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">out</span> <span style="color:#e06c75">bytes</span>.<span style="color:#e06c75">Buffer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">HTMLEscape</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">out</span>, []<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">`{&#34;Name&#34;:&#34;&lt;b&gt;HTML content&lt;/b&gt;&#34;}`</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">out</span>.<span style="color:#61afef;font-weight:bold">WriteTo</span>(<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Stdout</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{<span style="color:#98c379">&#34;Name&#34;</span>:<span style="color:#98c379">&#34;\u003cb\u003eHTML content\u003c/b\u003e&#34;</span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-indenthttpscsopensourcegooglegogogo1201srcencodingjsonindentgol81">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/indent.go;l=81" target="_blank" rel="noopener">Indent</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Indent</span>(<span style="color:#e06c75">dst</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bytes</span>.<span style="color:#e06c75">Buffer</span>, <span style="color:#e06c75">src</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">prefix</span>, <span style="color:#e06c75">indent</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Indent函数将JSON编码的src的缩进形式附加到dst中。JSON对象或数组中的每个元素都在新的缩进行上开始，该行以prefix开头，后跟一个或多个indent的副本，具体取决于缩进嵌套。附加到dst的数据不以prefix或任何缩进开始，以使其更容易嵌入其他格式化的JSON数据中。虽然src开头的前导空格字符(空格、制表符、回车、换行符)会被删除，但src末尾的尾随空格字符会被保留并复制到dst中。例如，如果src没有尾随空格，则dst也没有；如果src以尾随换行符结束，则dst也是如此。</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;bytes&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">type</span> <span style="color:#e06c75">Road</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Name</span>   <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Number</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">roads</span> <span style="color:#56b6c2">:=</span> []<span style="color:#e06c75">Road</span>{
</span></span><span style="display:flex;"><span>		{<span style="color:#98c379">&#34;Diamond Fork&#34;</span>, <span style="color:#d19a66">29</span>},
</span></span><span style="display:flex;"><span>		{<span style="color:#98c379">&#34;Sheep Creek&#34;</span>, <span style="color:#d19a66">51</span>},
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">b</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Marshal</span>(<span style="color:#e06c75">roads</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">out</span> <span style="color:#e06c75">bytes</span>.<span style="color:#e06c75">Buffer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Indent</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">out</span>, <span style="color:#e06c75">b</span>, <span style="color:#98c379">&#34;=&#34;</span>, <span style="color:#98c379">&#34;\t&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">out</span>.<span style="color:#61afef;font-weight:bold">WriteTo</span>(<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Stdout</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>=	{
</span></span><span style="display:flex;"><span>=		<span style="color:#98c379">&#34;Name&#34;</span>: <span style="color:#98c379">&#34;Diamond Fork&#34;</span>,
</span></span><span style="display:flex;"><span>=		<span style="color:#98c379">&#34;Number&#34;</span>: <span style="color:#d19a66">29</span>
</span></span><span style="display:flex;"><span>=	},
</span></span><span style="display:flex;"><span>=	{
</span></span><span style="display:flex;"><span>=		<span style="color:#98c379">&#34;Name&#34;</span>: <span style="color:#98c379">&#34;Sheep Creek&#34;</span>,
</span></span><span style="display:flex;"><span>=		<span style="color:#98c379">&#34;Number&#34;</span>: <span style="color:#d19a66">51</span>
</span></span><span style="display:flex;"><span>=	}
</span></span><span style="display:flex;"><span>=]
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-marshalhttpscsopensourcegooglegogogo1201srcencodingjsonencodegol157">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=157" target="_blank" rel="noopener">Marshal</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Marshal</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Marshal函数返回v的JSON编码。</p>
<p>​	Marshal函数递归遍历值v。如果遇到的值实现了Marshaler接口并且不是nil指针，则Marshal调用其MarshalJSON方法以生成JSON。如果没有MarshalJSON方法但该值代替实现了encoding.TextMarshaler，则Marshal调用其MarshalText方法并将结果编码为JSON字符串。nil指针异常并不是严格必要的，但模仿了在UnmarshalJSON的行为中必要的类似异常。</p>
<p>​	否则，Marshal使用以下类型相关的默认编码：</p>
<p>​	布尔值被编码为JSON布尔值。</p>
<p>​	浮点数、整数和Number类型的值被编码为JSON数字。</p>
<p>​	字符串类型的值被编码为JSON字符串，被强制转换为有效的UTF-8编码，无效的字节会被替换为Unicode替换符。为了将JSON安全地嵌入到HTML的<script>标签中，使用HTMLEscape对字符串进行编码，将&quot;&lt;&quot;, &ldquo;&gt;&rdquo;, &ldquo;&amp;&rdquo;, U+2028, 和 U+2029转义为&quot;\u003c&quot;, &ldquo;\u003e&rdquo;, &ldquo;\u0026&rdquo;, &ldquo;\u2028&quot;和&rdquo;\u2029&quot;。使用Encoder时，可以通过调用SetEscapeHTML(false)来禁用此替换。</p>
<p>​	数组和切片类型的值被编码为JSON数组，但[]byte类型的值会被编码为base64编码的字符串，而nil切片类型的值会被编码为null。</p>
<p>​	结构体类型的值被编码为JSON对象。每个导出的结构体字段都成为对象的一个成员，使用字段名作为对象键，除非由于以下原因之一而省略该字段。</p>
<p>​	每个结构体字段的编码可以通过存储在该字段标记的&quot;json&quot;键下的格式字符串进行自定义。格式字符串给出字段名，可能后跟一个用逗号分隔的选项列表。如果不想覆盖默认的字段名，则字段名可以为空。</p>
<p>​	&ldquo;omitempty&quot;选项指定如果该字段具有空值(定义为false、0、nil指针、nil接口值以及任何空数组、切片、映射或字符串)，则应该从编码中省略该字段。</p>
<p>​	作为特殊情况，如果字段标记为&rdquo;-&quot;，则始终省略该字段。请注意，具有名称&quot;-&ldquo;的字段仍然可以使用标记&rdquo;-,&ldquo;生成。</p>
<p>​	以下是结构体字段标记及其含义的示例：</p>
<pre tabindex="0"><code>// Field 出现在JSON中作为键&#34;myName&#34;。
Field int `json:&#34;myName&#34;`

// Field 出现在JSON中作为键&#34;myName&#34;，
// 如果其值为空，将从对象中省略该字段。
Field int `json:&#34;myName,omitempty&#34;`

// Field 出现在JSON中作为键&#34;Field&#34;(默认值)，
// 但如果为空则跳过该字段。
// 请注意前导逗号。
Field int `json:&#34;,omitempty&#34;`

// 此包忽略 Field。
Field int `json:&#34;-&#34;`

// Field 出现在JSON中作为键&#34;-&#34;。
Field int `json:&#34;-,&#34;`
</code></pre><p>​	&ldquo;string&quot;选项表示字段存储在JSON编码的字符串中。它仅适用于字符串、浮点数、整数或布尔类型的字段。在与JavaScript程序通信时，有时会使用这种额外的编码级别：</p>
<pre tabindex="0"><code>Int64String int64 `json:&#34;,string&#34;`
</code></pre><p>​	如果键名是由Unicode字母、数字和ASCII标点(引号、反斜杠和逗号除外)组成的非空字符串，则将使用该键名。</p>
<p>​	匿名结构字段通常被解释为其内部导出字段在外部结构体中的字段，但受到下一段中描述的修饰性可见性规则的影响。具有在其JSON标签中给出的名称的匿名结构字段将被视为具有该名称，而不是匿名的。接口类型的匿名结构字段将与其类型相同，而不是匿名的。</p>
<p>​	当决定哪个字段进行编组或取消编组时，针对JSON修饰性可见性规则修正结构字段的Go可见性规则。如果同一级别存在多个字段，并且该级别是最不嵌套的(因此将是常规Go规则选择的嵌套级别)，则以下额外规则适用：</p>
<p>\1) Of those fields, if any are JSON-tagged, only tagged fields are considered, even if there are multiple untagged fields that would otherwise conflict.</p>
<p>1)对于这些字段，如果有任何字段具有JSON标记，则只考虑带有标记的字段，即使有多个未标记的字段也会冲突。</p>
<p>2)如果恰好有一个字段(根据第一条规则是否带有标记)，则选择该字段。</p>
<p>3)否则将忽略所有字段；不会发生错误。</p>
<p>对匿名结构字段的处理是Go 1.1的新内容。在Go 1.1之前，匿名结构字段被忽略。要在当前版本和早期版本中强制忽略匿名结构字段，请给该字段一个&rdquo;-&ldquo;的JSON标签。</p>
<p>​	在Go 1.1中，对匿名结构字段的处理是新的。在Go 1.1之前，匿名结构字段被忽略。要在当前版本和早期版本中强制忽略匿名结构字段，请给该字段一个JSON标记&rdquo;-&quot;。</p>
<p>​	Map值编码为JSON对象。映射的键类型必须是字符串、整数类型或实现encoding.TextMarshaler。映射键按以下规则排序并用作JSON对象键，但要受上述字符串值的UTF-8强制规定：</p>
<ul>
<li>
<p>任何字符串类型的键都直接使用。</p>
</li>
<li>
<p>encoding.TextMarshalers已被解组。</p>
</li>
<li>
<p>整数键被转换为字符串。</p>
</li>
</ul>
<p>​	指针值编码为指向的值。空指针编码为null JSON值。指针值编码为所指向的值。一个nil指针编码为空的JSON值。</p>
<p>​	接口值编码为接口中包含的值。空接口值编码为null JSON值。</p>
<p>​	通道、复数和函数值不能编码为 JSON。尝试对此类值进行编码将导致 Marshal 返回 UnsupportedTypeError。</p>
<p>​	JSON 不能表示循环数据结构，Marshal 也无法处理它们。将循环结构传递给 Marshal 将导致错误。</p>
<h5 id="marshal-example">Marshal Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">type</span> <span style="color:#e06c75">ColorGroup</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">ID</span>     <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Name</span>   <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Colors</span> []<span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">group</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">ColorGroup</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">ID</span>:     <span style="color:#d19a66">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Name</span>:   <span style="color:#98c379">&#34;Reds&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Colors</span>: []<span style="color:#e5c07b">string</span>{<span style="color:#98c379">&#34;Crimson&#34;</span>, <span style="color:#98c379">&#34;Red&#34;</span>, <span style="color:#98c379">&#34;Ruby&#34;</span>, <span style="color:#98c379">&#34;Maroon&#34;</span>},
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">b</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Marshal</span>(<span style="color:#e06c75">group</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#98c379">&#34;error:&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Stdout</span>.<span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">b</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{<span style="color:#98c379">&#34;ID&#34;</span>:<span style="color:#d19a66">1</span>,<span style="color:#98c379">&#34;Name&#34;</span>:<span style="color:#98c379">&#34;Reds&#34;</span>,<span style="color:#98c379">&#34;Colors&#34;</span>:[<span style="color:#98c379">&#34;Crimson&#34;</span>,<span style="color:#98c379">&#34;Red&#34;</span>,<span style="color:#98c379">&#34;Ruby&#34;</span>,<span style="color:#98c379">&#34;Maroon&#34;</span>]}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-marshalindenthttpscsopensourcegooglegogogo1201srcencodingjsonencodegol173">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=173" target="_blank" rel="noopener">MarshalIndent</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MarshalIndent</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">prefix</span>, <span style="color:#e06c75">indent</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MarshalIndent函数类似于 Marshal函数，但应用 Indent 以格式化输出。输出中的每个 JSON 元素都将在新行上开始，以前缀开头，后跟一个或多个 indent 副本，具体取决于缩进嵌套。</p>
<h5 id="marshalindent-example">MarshalIndent Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">data</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">int</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#98c379">&#34;a&#34;</span>: <span style="color:#d19a66">1</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#98c379">&#34;b&#34;</span>: <span style="color:#d19a66">2</span>,
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">b</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">MarshalIndent</span>(<span style="color:#e06c75">data</span>, <span style="color:#98c379">&#34;&lt;prefix&gt;&#34;</span>, <span style="color:#98c379">&#34;&lt;indent&gt;&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e5c07b">string</span>(<span style="color:#e06c75">b</span>))
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>&lt;<span style="color:#e06c75">prefix</span>&gt;&lt;<span style="color:#e06c75">indent</span>&gt;<span style="color:#98c379">&#34;a&#34;</span>: <span style="color:#d19a66">1</span>,
</span></span><span style="display:flex;"><span>&lt;<span style="color:#e06c75">prefix</span>&gt;&lt;<span style="color:#e06c75">indent</span>&gt;<span style="color:#98c379">&#34;b&#34;</span>: <span style="color:#d19a66">2</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#e06c75">prefix</span>&gt;}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-unmarshalhttpscsopensourcegooglegogogo1201srcencodingjsondecodegol97">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=97" target="_blank" rel="noopener">Unmarshal</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Unmarshal</span>(<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Unmarshal函数解析 JSON 编码的数据并将结果存储在 v 所指向的值中。如果 v 为 nil 或不是指针，则 Unmarshal 返回 InvalidUnmarshalError。</p>
<p>​	Unmarshal函数使用 Marshal函数所使用的编码的反向方式，根据以下附加规则分配映射、切片和指针：</p>
<p>​	要将 JSON 反序列化为指针，Unmarshal 首先处理 JSON 为 JSON 文字 null 的情况。在这种情况下，Unmarshal 将指针设置为 nil。否则，Unmarshal 将 JSON 反序列化为指针所指向的值。如果指针为 nil，则 Unmarshal 为其分配一个新值。</p>
<p>​	要将 JSON 反序列化为实现 Unmarshaler 接口的值，Unmarshal函数调用该值的 UnmarshalJSON 方法，包括输入为 JSON null 的情况。否则，如果该值实现 encoding.TextUnmarshaler 并且输入是 JSON 引号字符串，则 Unmarshal 会使用字符串的未引用形式调用该值的 UnmarshalText 方法。</p>
<p>​	要将 JSON 反序列化为结构体，Unmarshal 将传入的对象键与 Marshal 使用的键进行匹配(即结构字段名或其标记)，优先选择完全匹配，但也接受大小写不敏感的匹配。默认情况下，没有对应结构体字段的对象键将被忽略(有关另一种方式，请参见 Decoder.DisallowUnknownFields)。</p>
<p>​	要将 JSON 反序列化为接口值，Unmarshal 将以下其中之一存储在接口值中：</p>
<p>对于 JSON 布尔值，为 bool 类型；
对于 JSON 数字，为 float64 类型；
对于 JSON 字符串，为 string 类型；
对于 JSON 数组，为 []interface{} 类型；
对于 JSON 对象，为 map[string]interface{} 类型；
对于 JSON null，为 nil 类型。</p>
<p>​	要将 JSON 数组反序列化为切片，Unmarshal 将切片长度重置为零，然后将每个元素附加到切片中。作为一个特例，要将空 JSON 数组反序列化为切片，Unmarshal 将该切片替换为一个新的空切片。</p>
<p>​	将JSON数组解码到Go数组中，Unmarshal将JSON数组元素解码为对应的Go数组元素。如果Go数组小于JSON数组，则将多余的JSON数组元素丢弃。如果JSON数组小于Go数组，则将多余的Go数组元素设置为零值。</p>
<p>​	将JSON对象解码为映射时，Unmarshal首先创建一个映射以使用。如果映射为nil，则Unmarshal将分配一个新的映射。否则，Unmarshal将重用现有的映射，保留现有的条目。然后，Unmarshal将JSON对象中的键值对存储到映射中。映射的键类型必须是任何字符串类型、整数、实现json.Unmarshaler或实现encoding.TextUnmarshaler。</p>
<p>​	如果JSON编码的数据包含语法错误，则Unmarshal返回一个SyntaxError。</p>
<p>​	如果JSON值不适合给定的目标类型，或者JSON数字溢出了目标类型，则Unmarshal跳过该字段，并尽可能完成解组。如果没有遇到更严重的错误，Unmarshal将返回一个UnmarshalTypeError，描述最早出现的这种错误。在任何情况下，不能保证在问题字段后面的所有剩余字段都会解组到目标对象中。</p>
<p>​	JSON null值通过将Go值设置为nil来解组到接口、映射、指针或切片中。因为null通常在JSON中用于表示&quot;不存在&rdquo;，将JSON null解组成任何其他Go类型对该值没有影响，并且不会产生错误。</p>
<p>​	解组引用字符串时，无效的UTF-8或无效的UTF-16代理对不会被视为错误。相反，它们将被替换为Unicode替换字符U+FFFD。</p>
<h5 id="unmarshal-example">Unmarshal Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">jsonBlob</span> = []<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">`[
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Name&#34;: &#34;Platypus&#34;, &#34;Order&#34;: &#34;Monotremata&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Name&#34;: &#34;Quoll&#34;,    &#34;Order&#34;: &#34;Dasyuromorphia&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">]`</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">type</span> <span style="color:#e06c75">Animal</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Name</span>  <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Order</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">animals</span> []<span style="color:#e06c75">Animal</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Unmarshal</span>(<span style="color:#e06c75">jsonBlob</span>, <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">animals</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#98c379">&#34;error:&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;%+v&#34;</span>, <span style="color:#e06c75">animals</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[{<span style="color:#e06c75">Name</span>:<span style="color:#e06c75">Platypus</span> <span style="color:#e06c75">Order</span>:<span style="color:#e06c75">Monotremata</span>} {<span style="color:#e06c75">Name</span>:<span style="color:#e06c75">Quoll</span> <span style="color:#e06c75">Order</span>:<span style="color:#e06c75">Dasyuromorphia</span>}]
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-validhttpscsopensourcegooglegogogo1201srcencodingjsonscannergol22----go19">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/scanner.go;l=22" target="_blank" rel="noopener">Valid</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Valid</span>(<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Valid 函数判断数据 data 是否是有效的 JSON 编码。</p>
<h5 id="valid-example">Valid Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">goodJSON</span> <span style="color:#56b6c2">:=</span> <span style="color:#98c379">`{&#34;example&#34;: 1}`</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">badJSON</span> <span style="color:#56b6c2">:=</span> <span style="color:#98c379">`{&#34;example&#34;:2:]}}`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Valid</span>([]<span style="color:#e5c07b">byte</span>(<span style="color:#e06c75">goodJSON</span>)), <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Valid</span>([]<span style="color:#e5c07b">byte</span>(<span style="color:#e06c75">badJSON</span>)))
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span> <span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="类型">类型</h2>
<h3 id="type-decoderhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol14">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=14" target="_blank" rel="noopener">Decoder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Decoder</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Decoder 从输入流中读取和解码 JSON 值。</p>
<h5 id="example-1">Example</h5>
<p>​	这个例子使用了 Decoder 来解码一系列不同的 JSON 值流。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">const</span> <span style="color:#e06c75">jsonStream</span> = <span style="color:#98c379">`
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Name&#34;: &#34;Ed&#34;, &#34;Text&#34;: &#34;Knock knock.&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Name&#34;: &#34;Sam&#34;, &#34;Text&#34;: &#34;Who&#39;s there?&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Name&#34;: &#34;Ed&#34;, &#34;Text&#34;: &#34;Go fmt.&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Name&#34;: &#34;Sam&#34;, &#34;Text&#34;: &#34;Go fmt who?&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Name&#34;: &#34;Ed&#34;, &#34;Text&#34;: &#34;Go fmt yourself!&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">`</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">type</span> <span style="color:#e06c75">Message</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Name</span>, <span style="color:#e06c75">Text</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">strings</span>.<span style="color:#61afef;font-weight:bold">NewReader</span>(<span style="color:#e06c75">jsonStream</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">for</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">var</span> <span style="color:#e06c75">m</span> <span style="color:#e06c75">Message</span>
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">dec</span>.<span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">m</span>); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">==</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">EOF</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#c678dd">break</span>
</span></span><span style="display:flex;"><span>		} <span style="color:#c678dd">else</span> <span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;%s: %s\n&#34;</span>, <span style="color:#e06c75">m</span>.<span style="color:#e06c75">Name</span>, <span style="color:#e06c75">m</span>.<span style="color:#e06c75">Text</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-newdecoderhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol31">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=31" target="_blank" rel="noopener">NewDecoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NewDecoder函数返回一个从 r 读取数据的新的 Decoder。</p>
<p>​	Decoder 引入了自己的缓冲，可能会从 r 中读取超出请求的 JSON 值的数据。</p>
<h4 id="decoder-bufferedhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol83----go11">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=83" target="_blank" rel="noopener">Buffered</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">Buffered</span>() <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Buffered方法返回 Decoder 缓冲区中剩余的数据的 reader。该 reader 在下次调用 Decode 之前有效。</p>
<h4 id="decoder-decodehttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol49">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=49" target="_blank" rel="noopener">Decode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Decode方法从输入中读取下一个 JSON 编码的值并将其存储在 v 所指向的值中。</p>
<p>​	有关 JSON 转换为 Go 值的详细信息，请参见 Unmarshal 的文档。</p>
<h5 id="decode-example">Decode Example</h5>
<p>​	这个示例使用解码器(Decoder)来解码一个 JSON 对象流数组。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">const</span> <span style="color:#e06c75">jsonStream</span> = <span style="color:#98c379">`
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	[
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">		{&#34;Name&#34;: &#34;Ed&#34;, &#34;Text&#34;: &#34;Knock knock.&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">		{&#34;Name&#34;: &#34;Sam&#34;, &#34;Text&#34;: &#34;Who&#39;s there?&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">		{&#34;Name&#34;: &#34;Ed&#34;, &#34;Text&#34;: &#34;Go fmt.&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">		{&#34;Name&#34;: &#34;Sam&#34;, &#34;Text&#34;: &#34;Go fmt who?&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">		{&#34;Name&#34;: &#34;Ed&#34;, &#34;Text&#34;: &#34;Go fmt yourself!&#34;}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	]
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">`</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">type</span> <span style="color:#e06c75">Message</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Name</span>, <span style="color:#e06c75">Text</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">strings</span>.<span style="color:#61afef;font-weight:bold">NewReader</span>(<span style="color:#e06c75">jsonStream</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// read open bracket
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">t</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">dec</span>.<span style="color:#61afef;font-weight:bold">Token</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;%T: %v\n&#34;</span>, <span style="color:#e06c75">t</span>, <span style="color:#e06c75">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// while the array contains values
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#c678dd">for</span> <span style="color:#e06c75">dec</span>.<span style="color:#61afef;font-weight:bold">More</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">var</span> <span style="color:#e06c75">m</span> <span style="color:#e06c75">Message</span>
</span></span><span style="display:flex;"><span>		<span style="color:#7f848e">// decode an array value (Message)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">dec</span>.<span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">m</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;%v: %v\n&#34;</span>, <span style="color:#e06c75">m</span>.<span style="color:#e06c75">Name</span>, <span style="color:#e06c75">m</span>.<span style="color:#e06c75">Text</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// read closing bracket
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">t</span>, <span style="color:#e06c75">err</span> = <span style="color:#e06c75">dec</span>.<span style="color:#61afef;font-weight:bold">Token</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;%T: %v\n&#34;</span>, <span style="color:#e06c75">t</span>, <span style="color:#e06c75">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">json</span>.<span style="color:#e06c75">Delim</span>: [
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Ed</span>: <span style="color:#e06c75">Knock</span> <span style="color:#e06c75">knock</span>.
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Sam</span>: <span style="color:#e06c75">Who</span>&#39;<span style="color:#e06c75">s</span> <span style="color:#e06c75">there</span>?
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Ed</span>: <span style="color:#e06c75">Go</span> <span style="color:#e06c75">fmt</span>.
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Sam</span>: <span style="color:#e06c75">Go</span> <span style="color:#e06c75">fmt</span> <span style="color:#e06c75">who</span>?
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Ed</span>: <span style="color:#e06c75">Go</span> <span style="color:#e06c75">fmt</span> <span style="color:#e06c75">yourself</span>!
</span></span><span style="display:flex;"><span><span style="color:#e06c75">json</span>.<span style="color:#e06c75">Delim</span>: ]
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="decoder-disallowunknownfieldshttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol42----go110">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=42" target="_blank" rel="noopener">DisallowUnknownFields</a>  &lt;- go1.10</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">DisallowUnknownFields</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DisallowUnknownFields方法会导致在目标对象为结构体且输入包含在目标中不存在的、未被忽略的公开字段的对象键时，解码器返回一个错误。</p>
<h4 id="decoder-inputoffsethttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol513----go114">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=513" target="_blank" rel="noopener">InputOffset</a>  &lt;- go1.14</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">InputOffset</span>() <span style="color:#e5c07b">int64</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	InputOffset方法返回当前解码器位置的输入流字节偏移量。该偏移量给出了最近返回的标记的结束位置和下一个标记的开始位置。</p>
<h4 id="decoder-morehttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol486----go15">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=486" target="_blank" rel="noopener">More</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">More</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	More方法报告当前正在解析的数组或对象中是否还有另一个元素。</p>
<h4 id="decoder-tokenhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol371----go15">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=371" target="_blank" rel="noopener">Token</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">Token</span>() (<span style="color:#e06c75">Token</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Token方法返回输入流中的下一个JSON标记。在输入流的末尾，Token方法返回nil和io.EOF。</p>
<p>​	Token方法保证它返回的分隔符[ ] {}是正确嵌套和匹配的：如果Token方法在输入中遇到意外的分隔符，则它将返回一个错误。</p>
<p>​	输入流由基本的JSON值——布尔值、字符串、数字和null——以及类型为Delim的[ ] {}分隔符组成，用于标记数组和对象的开始和结束。逗号和冒号被省略。</p>
<h5 id="token-example">Token Example</h5>
<p>​	这个例子使用 Decoder 来解码一个由不同的 JSON 值组成的流。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">const</span> <span style="color:#e06c75">jsonStream</span> = <span style="color:#98c379">`
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Message&#34;: &#34;Hello&#34;, &#34;Array&#34;: [1, 2, 3], &#34;Null&#34;: null, &#34;Number&#34;: 1.234}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">`</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">strings</span>.<span style="color:#61afef;font-weight:bold">NewReader</span>(<span style="color:#e06c75">jsonStream</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">for</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">t</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">dec</span>.<span style="color:#61afef;font-weight:bold">Token</span>()
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">==</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">EOF</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#c678dd">break</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;%T: %v&#34;</span>, <span style="color:#e06c75">t</span>, <span style="color:#e06c75">t</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">dec</span>.<span style="color:#61afef;font-weight:bold">More</span>() {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34; (more)&#34;</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;\n&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">json</span>.<span style="color:#e06c75">Delim</span>: { (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">string</span>: <span style="color:#61afef;font-weight:bold">Message</span> (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">string</span>: <span style="color:#61afef;font-weight:bold">Hello</span> (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">string</span>: <span style="color:#61afef;font-weight:bold">Array</span> (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">json</span>.<span style="color:#e06c75">Delim</span>: [ (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">float64</span>: <span style="color:#d19a66">1</span> (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">float64</span>: <span style="color:#d19a66">2</span> (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">float64</span>: <span style="color:#d19a66">3</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">json</span>.<span style="color:#e06c75">Delim</span>: ] (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">string</span>: <span style="color:#61afef;font-weight:bold">Null</span> (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span>&lt;<span style="color:#e5c07b">nil</span>&gt;: &lt;<span style="color:#e5c07b">nil</span>&gt; (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">string</span>: <span style="color:#61afef;font-weight:bold">Number</span> (<span style="color:#e06c75">more</span>)
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">float64</span>: <span style="color:#d19a66">1.234</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">json</span>.<span style="color:#e06c75">Delim</span>: }
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="decoder-usenumberhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol37----go11">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=37" target="_blank" rel="noopener">UseNumber</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">dec</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">UseNumber</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UseNumber方法会导致解码器将数字解组为Number类型的接口{}，而不是解组为float64。</p>
<h3 id="type-delimhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol354----go15">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=354" target="_blank" rel="noopener">Delim</a>  &lt;- go1.5</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Delim</span> <span style="color:#e5c07b">rune</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Delim是JSON数组或对象分隔符，其中之一是[ ] { 或 }。</p>
<h4 id="delim-stringhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol356----go15">(Delim) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=356" target="_blank" rel="noopener">String</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#e06c75">Delim</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-encoderhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol181">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=181" target="_blank" rel="noopener">Encoder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Encoder</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Encoder将JSON值写入输出流。</p>
<h4 id="func-newencoderhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol192">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=192" target="_blank" rel="noopener">NewEncoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoder</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NewEncoder 函数返回一个新的编码器，它将写入到 w。</p>
<h4 id="encoder-encodehttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol201">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=201" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">Encode</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Encode方法将 v 的 JSON 编码写入流中，随后加上一个换行符。</p>
<p>​	有关将 Go 值转换为 JSON 的详细信息，请参见 Marshal 的文档。</p>
<h4 id="encoder-setescapehtmlhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol255----go17">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=255" target="_blank" rel="noopener">SetEscapeHTML</a>  &lt;- go1.7</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">SetEscapeHTML</span>(<span style="color:#e06c75">on</span> <span style="color:#e5c07b">bool</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetEscapeHTML方法指定是否在 JSON 引用字符串内部转义有问题的 HTML 字符。默认行为是将 <code>&amp;</code>、<code>&lt;</code> 和 <code>&gt;</code> 转义为 <code>\u0026</code>、<code>\u003c</code> 和 <code>\u003e</code>，以避免在 HTML 中嵌入 JSON 时出现某些安全问题。</p>
<p>​	在非 HTML 环境中，当转义干扰输出的可读性时，SetEscapeHTML(false) 将禁用此行为。</p>
<h4 id="encoder-setindenthttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol243----go17">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=243" target="_blank" rel="noopener">SetIndent</a>  &lt;- go1.7</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">SetIndent</span>(<span style="color:#e06c75">prefix</span>, <span style="color:#e06c75">indent</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetIndent方法指示编码器将每个后续编码值格式化为由 package-level 函数 Indent(dst、src、prefix、indent) 缩进的形式。调用 SetIndent(&quot;&quot;, &ldquo;&rdquo;) 禁用缩进。</p>
<h3 id="type-invalidunmarshalerrorhttpscsopensourcegooglegogogo1201srcencodingjsondecodegol156">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=156" target="_blank" rel="noopener">InvalidUnmarshalError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">InvalidUnmarshalError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Type</span> <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Type</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	InvalidUnmarshalError 描述传递给 Unmarshal 的无效参数。(传递给 Unmarshal 的参数必须是非 nil 指针。)</p>
<h4 id="invalidunmarshalerror-errorhttpscsopensourcegooglegogogo1201srcencodingjsondecodegol160">(*InvalidUnmarshalError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=160" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">InvalidUnmarshalError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-marshalerhttpscsopensourcegooglegogogo1201srcencodingjsonencodegol223">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=223" target="_blank" rel="noopener">Marshaler</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Marshaler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">MarshalJSON</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Marshaler 是一种类型的接口，这种类型可以将自身编组为有效的 JSON。</p>
<h3 id="type-marshalererrorhttpscsopensourcegooglegogogo1201srcencodingjsonencodegol263">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=263" target="_blank" rel="noopener">MarshalerError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">MarshalerError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Type</span> <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Type</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Err</span>  <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MarshalerError 表示调用 MarshalJSON 或 MarshalText 方法时的错误。</p>
<h4 id="marshalererror-errorhttpscsopensourcegooglegogogo1201srcencodingjsonencodegol269">(*MarshalerError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=269" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">MarshalerError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="marshalererror-unwraphttpscsopensourcegooglegogogo1201srcencodingjsonencodegol280----go113">(*MarshalerError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=280" target="_blank" rel="noopener">Unwrap</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">MarshalerError</span>) <span style="color:#61afef;font-weight:bold">Unwrap</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Unwrap方法返回基本的错误。</p>
<h3 id="type-numberhttpscsopensourcegooglegogogo1201srcencodingjsondecodegol189----go11">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=189" target="_blank" rel="noopener">Number</a>  &lt;- go1.1</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Number</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Number类型表示JSON数值字面。</p>
<h4 id="number-float64httpscsopensourcegooglegogogo1201srcencodingjsondecodegol195----go11">(Number) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=195" target="_blank" rel="noopener">Float64</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">n</span> <span style="color:#e06c75">Number</span>) <span style="color:#61afef;font-weight:bold">Float64</span>() (<span style="color:#e5c07b">float64</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Float64方法将数值转换为float64。</p>
<h4 id="number-int64httpscsopensourcegooglegogogo1201srcencodingjsondecodegol200----go11">(Number) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=200" target="_blank" rel="noopener">Int64</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">n</span> <span style="color:#e06c75">Number</span>) <span style="color:#61afef;font-weight:bold">Int64</span>() (<span style="color:#e5c07b">int64</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Int64方法将数值转换为int64。</p>
<h4 id="number-stringhttpscsopensourcegooglegogogo1201srcencodingjsondecodegol192----go11">(Number) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=192" target="_blank" rel="noopener">String</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">n</span> <span style="color:#e06c75">Number</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	String方法返回数值的文字表示形式。</p>
<h3 id="type-rawmessagehttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol262">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=262" target="_blank" rel="noopener">RawMessage</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">RawMessage</span> []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RawMessage是一个原始编码的JSON值。它实现了Marshaler和Unmarshaler接口，可以用于延迟JSON解码或预先计算JSON编码。</p>
<h5 id="examplemarshal">Example(Marshal)</h5>
<p>​	这个示例使用 RawMessage 来在编组时使用预计算的 JSON。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">h</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">RawMessage</span>(<span style="color:#98c379">`{&#34;precomputed&#34;: true}`</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">c</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Header</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">json</span>.<span style="color:#e06c75">RawMessage</span> <span style="color:#98c379">`json:&#34;header&#34;`</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Body</span>   <span style="color:#e5c07b">string</span>           <span style="color:#98c379">`json:&#34;body&#34;`</span>
</span></span><span style="display:flex;"><span>	}{<span style="color:#e06c75">Header</span>: <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">h</span>, <span style="color:#e06c75">Body</span>: <span style="color:#98c379">&#34;Hello Gophers!&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">b</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">MarshalIndent</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">c</span>, <span style="color:#98c379">&#34;&#34;</span>, <span style="color:#98c379">&#34;\t&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#98c379">&#34;error:&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">os</span>.<span style="color:#e06c75">Stdout</span>.<span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">b</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;header&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#98c379">&#34;precomputed&#34;</span>: <span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;body&#34;</span>: <span style="color:#98c379">&#34;Hello Gophers!&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="example-unmarshal">Example (Unmarshal)</h5>
<p>​	这个示例使用 RawMessage 来延迟解析 JSON 消息的一部分。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/json&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">type</span> <span style="color:#e06c75">Color</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Space</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Point</span> <span style="color:#e06c75">json</span>.<span style="color:#e06c75">RawMessage</span> <span style="color:#7f848e">// delay parsing until we know the color space
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">type</span> <span style="color:#e06c75">RGB</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">R</span> <span style="color:#e5c07b">uint8</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">G</span> <span style="color:#e5c07b">uint8</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">B</span> <span style="color:#e5c07b">uint8</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">type</span> <span style="color:#e06c75">YCbCr</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Y</span>  <span style="color:#e5c07b">uint8</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Cb</span> <span style="color:#e5c07b">int8</span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Cr</span> <span style="color:#e5c07b">int8</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">j</span> = []<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">`[
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Space&#34;: &#34;YCbCr&#34;, &#34;Point&#34;: {&#34;Y&#34;: 255, &#34;Cb&#34;: 0, &#34;Cr&#34;: -10}},
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">	{&#34;Space&#34;: &#34;RGB&#34;,   &#34;Point&#34;: {&#34;R&#34;: 98, &#34;G&#34;: 218, &#34;B&#34;: 255}}
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">]`</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">colors</span> []<span style="color:#e06c75">Color</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Unmarshal</span>(<span style="color:#e06c75">j</span>, <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">colors</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatalln</span>(<span style="color:#98c379">&#34;error:&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">for</span> <span style="color:#e06c75">_</span>, <span style="color:#e06c75">c</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">colors</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">var</span> <span style="color:#e06c75">dst</span> <span style="color:#e06c75">any</span>
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">switch</span> <span style="color:#e06c75">c</span>.<span style="color:#e06c75">Space</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">case</span> <span style="color:#98c379">&#34;RGB&#34;</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">dst</span> = <span style="color:#e5c07b">new</span>(<span style="color:#e06c75">RGB</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">case</span> <span style="color:#98c379">&#34;YCbCr&#34;</span>:
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">dst</span> = <span style="color:#e5c07b">new</span>(<span style="color:#e06c75">YCbCr</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">json</span>.<span style="color:#61afef;font-weight:bold">Unmarshal</span>(<span style="color:#e06c75">c</span>.<span style="color:#e06c75">Point</span>, <span style="color:#e06c75">dst</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatalln</span>(<span style="color:#98c379">&#34;error:&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">c</span>.<span style="color:#e06c75">Space</span>, <span style="color:#e06c75">dst</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">YCbCr</span> <span style="color:#56b6c2">&amp;</span>{<span style="color:#d19a66">255</span> <span style="color:#d19a66">0</span> <span style="color:#56b6c2">-</span><span style="color:#d19a66">10</span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">RGB</span> <span style="color:#56b6c2">&amp;</span>{<span style="color:#d19a66">98</span> <span style="color:#d19a66">218</span> <span style="color:#d19a66">255</span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="rawmessage-marshaljsonhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol265">(RawMessage) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=265" target="_blank" rel="noopener">MarshalJSON</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">m</span> <span style="color:#e06c75">RawMessage</span>) <span style="color:#61afef;font-weight:bold">MarshalJSON</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MarshalJSON方法返回m的JSON编码。</p>
<h4 id="rawmessage-unmarshaljsonhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol273">(*RawMessage) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=273" target="_blank" rel="noopener">UnmarshalJSON</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">m</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">RawMessage</span>) <span style="color:#61afef;font-weight:bold">UnmarshalJSON</span>(<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UnmarshalJSON方法将data的一个副本设置为<code>*m</code>。</p>
<h3 id="type-syntaxerrorhttpscsopensourcegooglegogogo1201srcencodingjsonscannergol47">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/scanner.go;l=47" target="_blank" rel="noopener">SyntaxError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">SyntaxError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Offset</span> <span style="color:#e5c07b">int64</span> <span style="color:#7f848e">// error occurred after reading Offset bytes // 读取Offset bytes后发生错误
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SyntaxError描述了一个JSON语法错误。如果JSON不能被解析，Unmarshal函数将返回SyntaxError。</p>
<h4 id="syntaxerror-errorhttpscsopensourcegooglegogogo1201srcencodingjsonscannergol52">(*SyntaxError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/scanner.go;l=52" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">SyntaxError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-tokenhttpscsopensourcegooglegogogo1201srcencodingjsonstreamgol292----go15">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/stream.go;l=292" target="_blank" rel="noopener">Token</a>  &lt;- go1.5</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Token</span> <span style="color:#e06c75">any</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Token保存以下类型之一的值：</p>
<pre tabindex="0"><code>Delim, for the four JSON delimiters [ ] { }
bool, for JSON booleans
float64, for JSON numbers
Number, for JSON numbers
string, for JSON string literals
nil, for JSON null
</code></pre><h3 id="type-unmarshaltypeerrorhttpscsopensourcegooglegogogo1201srcencodingjsondecodegol125">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=125" target="_blank" rel="noopener">UnmarshalTypeError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnmarshalTypeError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Value</span>  <span style="color:#e5c07b">string</span>       <span style="color:#7f848e">// JSON值的描述 - &#34;bool&#34;、&#34;array&#34;、&#34;number -5&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Type</span>   <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Type</span> <span style="color:#7f848e">// 无法赋值给Go值的类型
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Offset</span> <span style="color:#e5c07b">int64</span>        <span style="color:#7f848e">// 发生错误后读取的字节数
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Struct</span> <span style="color:#e5c07b">string</span>       <span style="color:#7f848e">// 包含该字段的结构体类型的名称
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Field</span>  <span style="color:#e5c07b">string</span>       <span style="color:#7f848e">// 从根节点到字段的完整路径
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UnmarshalTypeError描述了一个不适合特定Go类型值的JSON值。</p>
<h4 id="unmarshaltypeerror-errorhttpscsopensourcegooglegogogo1201srcencodingjsondecodegol133">(*UnmarshalTypeError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=133" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnmarshalTypeError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-unmarshalerhttpscsopensourcegooglegogogo1201srcencodingjsondecodegol119">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/decode.go;l=119" target="_blank" rel="noopener">Unmarshaler</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Unmarshaler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">UnmarshalJSON</span>([]<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Unmarshaler是由可以解码JSON描述的类型实现的接口。可以假定输入是JSON值的有效编码。如果想在返回后保留数据，UnmarshalJSON必须复制JSON数据。</p>
<p>​	按照惯例，为了近似于Unmarshal本身的行为，Unmarshalers将UnmarshalJSON([]byte(&ldquo;null&rdquo;))实现为无操作。</p>
<h3 id="type-unsupportedtypeerrorhttpscsopensourcegooglegogogo1201srcencodingjsonencodegol229">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=229" target="_blank" rel="noopener">UnsupportedTypeError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnsupportedTypeError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Type</span> <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Type</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	在尝试对不受支持的值类型进行编码时，Marshal返回UnsupportedTypeError。</p>
<h4 id="unsupportedtypeerror-errorhttpscsopensourcegooglegogogo1201srcencodingjsonencodegol233">(*UnsupportedTypeError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=233" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnsupportedTypeError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-unsupportedvalueerrorhttpscsopensourcegooglegogogo1201srcencodingjsonencodegol239">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=239" target="_blank" rel="noopener">UnsupportedValueError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnsupportedValueError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Value</span> <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Value</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Str</span>   <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	在尝试对不受支持的值进行编码时，Marshal返回UnsupportedValueError。</p>
<h4 id="unsupportedvalueerror-errorhttpscsopensourcegooglegogogo1201srcencodingjsonencodegol244">(*UnsupportedValueError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/json/encode.go;l=244" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnsupportedValueError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-05442ce5a2e939fc32f48ed8191f0ffc">11 - pem</h1>
    
	<h1 id="pem">pem</h1>
<p><a href="https://pkg.go.dev/encoding/pem@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/pem@go1.20.1</a></p>
<p>Package pem implements the PEM data encoding, which originated in Privacy Enhanced Mail. The most common use of PEM encoding today is in TLS keys and certificates. See <a href="https://rfc-editor.org/rfc/rfc1421.html" target="_blank" rel="noopener">RFC 1421</a>.</p>
<p>包pem实现了PEM数据编码，它起源于隐私增强邮件。目前PEM编码最常见的用途是在TLS密钥和证书中。参见RFC 1421。</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-encodehttpscsopensourcegooglegogogo1201srcencodingpempemgol240">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/pem/pem.go;l=240" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Encode</span>(<span style="color:#e06c75">out</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>, <span style="color:#e06c75">b</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Block</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Encode writes the PEM encoding of b to out.</p>
<p>Encode将b的PEM编码写到out。</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-encodetomemoryhttpscsopensourcegooglegogogo1201srcencodingpempemgol310">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/pem/pem.go;l=310" target="_blank" rel="noopener">EncodeToMemory</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">EncodeToMemory</span>(<span style="color:#e06c75">b</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Block</span>) []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodeToMemory returns the PEM encoding of b.</p>
<p>EncodeToMemory返回b的PEM编码。</p>
<p>If b has invalid headers and cannot be encoded, EncodeToMemory returns nil. If it is important to report details about this error case, use Encode instead.</p>
<p>如果b有无效的头文件并且不能被编码，EncodeToMemory返回nil。如果报告这种错误情况的细节很重要，请使用Encode代替。</p>
<h2 id="类型">类型</h2>
<h3 id="type-blockhttpscsopensourcegooglegogogo1201srcencodingpempemgol29">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/pem/pem.go;l=29" target="_blank" rel="noopener">Block</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Block</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Type</span>    <span style="color:#e5c07b">string</span>            <span style="color:#7f848e">// The type, taken from the preamble (i.e. &#34;RSA PRIVATE KEY&#34;).// 类型，取自序言(即 &#34;RSA PRIVATE KEY&#34;)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Headers</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span> <span style="color:#7f848e">// Optional headers.// 可选的头信息。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Bytes</span>   []<span style="color:#e5c07b">byte</span>            <span style="color:#7f848e">// The decoded bytes of the contents. Typically a DER encoded ASN.1 structure. // 解码后的内容字节数。通常是一个DER编码的ASN.1结构。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Block represents a PEM encoded structure.</p>
<p>一个Block代表一个PEM编码的结构。</p>
<p>The encoded form is:</p>
<p>编码后的形式是：</p>
<pre tabindex="0"><code>-----BEGIN Type-----
Headers
base64-encoded Bytes
-----END Type-----
</code></pre><p>where Headers is a possibly empty sequence of Key: Value lines.</p>
<p>其中Headers是一个可能是空的Key.Value的序列。值的行。</p>
<h4 id="func-decodehttpscsopensourcegooglegogogo1201srcencodingpempemgol89">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/pem/pem.go;l=89" target="_blank" rel="noopener">Decode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Block</span>, <span style="color:#e06c75">rest</span> []<span style="color:#e5c07b">byte</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Decode will find the next PEM formatted block (certificate, private key etc) in the input. It returns that block and the remainder of the input. If no PEM data is found, p is nil and the whole of the input is returned in rest.</p>
<p>Decode将在输入中找到下一个PEM格式的块(证书、私钥等)。它返回该块和输入的剩余部分。如果没有找到PEM数据，p是nil，整个输入将被返回到rest中。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;crypto/x509&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;encoding/pem&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">pubPEMData</span> = []<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">`
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">-----BEGIN PUBLIC KEY-----
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAlRuRnThUjU8/prwYxbty
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">WPT9pURI3lbsKMiB6Fn/VHOKE13p4D8xgOCADpdRagdT6n4etr9atzDKUSvpMtR3
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">CP5noNc97WiNCggBjVWhs7szEe8ugyqF23XwpHQ6uV1LKH50m92MbOWfCtjU9p/x
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">qhNpQQ1AZhqNy5Gevap5k8XzRmjSldNAFZMY7Yv3Gi+nyCwGwpVtBUwhuLzgNFK/
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">yDtw2WcWmUU7NuC8Q6MWvPebxVtCfVp/iQU6q60yyt6aGOBkhAX0LpKAEhKidixY
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">nP9PNVBvxgu3XZ4P36gZV6+ummKdBVnc3NqwBLu5+CcdRdusmHPHd5pHf4/38Z3/
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">6qU2a/fPvWzceVTEgZ47QjFMTCTmCwNt29cvi7zZeQzjtwQgn4ipN9NibRH/Ax/q
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">TbIzHfrJ1xa2RteWSdFjwtxi9C20HUkjXSeI4YlzQMH0fPX6KCE7aVePTOnB69I/
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">a9/q96DiXZajwlpq3wFctrs1oXqBp5DVrCIj8hU2wNgB7LtQ1mCtsYz//heai0K9
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">PhE4X6hiE0YmeAZjR0uHl8M/5aW9xCoJ72+12kKpWAa0SFRWLy6FejNYCYpkupVJ
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">yecLk/4L1W0l6jQQZnWErXZYe0PNFcmwGXy1Rep83kfBRNKRy5tvocalLlwXLdUk
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">AIU+2GKjyT3iMuzZxxFxPFMCAwEAAQ==
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">-----END PUBLIC KEY-----
</span></span></span><span style="display:flex;"><span><span style="color:#98c379">and some more`</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">block</span>, <span style="color:#e06c75">rest</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">pem</span>.<span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">pubPEMData</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">block</span> <span style="color:#56b6c2">==</span> <span style="color:#e5c07b">nil</span> <span style="color:#56b6c2">||</span> <span style="color:#e06c75">block</span>.<span style="color:#e06c75">Type</span> <span style="color:#56b6c2">!=</span> <span style="color:#98c379">&#34;PUBLIC KEY&#34;</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#98c379">&#34;failed to decode PEM block containing public key&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">pub</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">x509</span>.<span style="color:#61afef;font-weight:bold">ParsePKIXPublicKey</span>(<span style="color:#e06c75">block</span>.<span style="color:#e06c75">Bytes</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Got a %T, with remaining data: %q&#34;</span>, <span style="color:#e06c75">pub</span>, <span style="color:#e06c75">rest</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3a65594cd6186bb4421da5f59deec3c5">12 - xml</h1>
    
	<h1 id="xml">xml</h1>
<p><a href="https://pkg.go.dev/encoding/xml@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/encoding/xml@go1.20.1</a></p>
<p>Package xml implements a simple XML 1.0 parser that understands XML name spaces.</p>
<p>包xml实现了一个简单的XML 1.0解析器，它可以理解XML的名称空间。</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=19" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Header is a generic XML header suitable for use with the output of Marshal.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// This is not automatically added to any output of this package,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// it is provided as a convenience.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Header是一个通用的XML头，适合与Marshal的输出一起使用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它不会被自动添加到这个包的任何输出中。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它是作为一种方便提供的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Header</span> = <span style="color:#98c379">`&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;`</span> <span style="color:#56b6c2">+</span> <span style="color:#98c379">&#34;\n&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=1866" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">HTMLAutoClose</span> []<span style="color:#e5c07b">string</span> = <span style="color:#e06c75">htmlAutoClose</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>HTMLAutoClose is the set of HTML elements that should be considered to close automatically.</p>
<p>HTMLAutoClose是应考虑自动关闭的HTML元素的集合。</p>
<p>See the Decoder.Strict and Decoder.Entity fields&rsquo; documentation.</p>
<p>参见Decoder.Strict和Decoder.Entity字段的文档。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=1597" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">HTMLEntity</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span> = <span style="color:#e06c75">htmlEntity</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>HTMLEntity is an entity map containing translations for the standard HTML entity characters.</p>
<p>HTMLEntity是一个实体地图，包含标准HTML实体字符的翻译。</p>
<p>See the Decoder.Strict and Decoder.Entity fields&rsquo; documentation.</p>
<p>参见Decoder.Strict和Decoder.Entity字段的文档。</p>
<h2 id="函数">函数</h2>
<h4 id="func-escapehttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol1996">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=1996" target="_blank" rel="noopener">Escape</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Escape</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>, <span style="color:#e06c75">s</span> []<span style="color:#e5c07b">byte</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Escape is like EscapeText but omits the error return value. It is provided for backwards compatibility with Go 1.0. Code targeting Go 1.1 or later should use EscapeText.</p>
<p>Escape和EscapeText一样，但省略了错误的返回值。它是为了向后兼容Go 1.0而提供的。针对Go 1.1或更高版本的代码应使用EscapeText。</p>
<h4 id="func-escapetexthttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol1902----go11">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=1902" target="_blank" rel="noopener">EscapeText</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">EscapeText</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>, <span style="color:#e06c75">s</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EscapeText writes to w the properly escaped XML equivalent of the plain text data s.</p>
<p>EscapeText向w写出经过适当转义的纯文本数据s的XML等价物。</p>
<h4 id="func-marshalhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol80">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=80" target="_blank" rel="noopener">Marshal</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Marshal</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Marshal returns the XML encoding of v.</p>
<p>Marshal返回v的XML编码。</p>
<p>Marshal handles an array or slice by marshaling each of the elements. Marshal handles a pointer by marshaling the value it points at or, if the pointer is nil, by writing nothing. Marshal handles an interface value by marshaling the value it contains or, if the interface value is nil, by writing nothing. Marshal handles all other data by writing one or more XML elements containing the data.</p>
<p>Marshal通过处理每个元素来处理一个数组或片断。Marshal处理一个指针，对它所指向的值进行处理，如果指针为nil，则不写任何内容。Marshal处理一个接口值，对其包含的值进行处理，如果接口值为零，则不写任何内容。Marshal通过写一个或多个包含数据的XML元素来处理所有其他数据。</p>
<p>The name for the XML elements is taken from, in order of preference:</p>
<p>XML元素的名称按优先顺序取自：</p>
<ul>
<li>the tag on the XMLName field, if the data is a struct 如果数据是一个结构，XMLName字段上的标签</li>
<li>the value of the XMLName field of type Name 类型为 &ldquo;名称 &ldquo;的 XMLName 字段的值</li>
<li>the tag of the struct field used to obtain the data 用来获取数据的结构字段的标签</li>
<li>the name of the struct field used to obtain the data 用于获取数据的结构字段的名称</li>
<li>the name of the marshaled type 调解类型的名称</li>
</ul>
<p>The XML element for a struct contains marshaled elements for each of the exported fields of the struct, with these exceptions:</p>
<p>结构的XML元素包含结构的每个输出字段的marshaled元素，但有这些例外：</p>
<ul>
<li>the XMLName field, described above, is omitted. 省略了上面描述的XMLName字段。</li>
<li>a field with tag &ldquo;-&rdquo; is omitted. 标记为&rdquo;-&ldquo;的字段被省略。</li>
<li>a field with tag &ldquo;name,attr&rdquo; becomes an attribute with the given name in the XML element. 标签为 &ldquo;name,attr &ldquo;的字段成为 XML 元素中具有给定名称的属性。</li>
<li>a field with tag &ldquo;,attr&rdquo; becomes an attribute with the field name in the XML element. 一个带有标签&rdquo;,attr &ldquo;的字段在XML元素中成为一个带有字段名的属性。</li>
<li>a field with tag &ldquo;,chardata&rdquo; is written as character data, not as an XML element. 一个带有标签&rdquo;,chardata &ldquo;的字段被写成字符数据，而不是一个 XML 元素。</li>
<li>a field with tag &ldquo;,cdata&rdquo; is written as character data wrapped in one or more <![CDATA[ ... ]]> tags, not as an XML element. 带有标签&rdquo;,cdata &ldquo;的字段被写成字符数据，被一个或多个&lt;![CDATA[ &hellip;]&gt;标签包裹，而不是作为一个XML元素。</li>
<li>a field with tag &ldquo;,innerxml&rdquo; is written verbatim, not subject to the usual marshaling procedure. 带有标签&rdquo;,innerxml &ldquo;的字段被逐字写入，不受通常处理程序的约束。</li>
<li>a field with tag &ldquo;,comment&rdquo; is written as an XML comment, not subject to the usual marshaling procedure. It must not contain the &ldquo;&ndash;&rdquo; string within it. 带有标签&rdquo;,comment &ldquo;的字段被写成一个XML注释，不受通常处理程序的限制。它不能包含&rdquo;&ndash;&ldquo;字符串。</li>
<li>a field with a tag including the &ldquo;omitempty&rdquo; option is omitted if the field value is empty. The empty values are false, 0, any nil pointer or interface value, and any array, slice, map, or string of length zero. 如果字段的值是空的，带有 &ldquo;省略 &ldquo;选项的字段将被省略。空值是 false、0、任何 nil 指针或接口值，以及任何长度为 0 的数组、片断、地图或字符串。</li>
<li>an anonymous struct field is handled as if the fields of its value were part of the outer struct. 一个匿名的结构字段被处理为其值的字段是外部结构的一部分。</li>
<li>a field implementing Marshaler is written by calling its MarshalXML method. 实现Marshaler的字段通过调用其MarshalXML方法来编写。</li>
<li>a field implementing encoding.TextMarshaler is written by encoding the result of its MarshalText method as text. 实现encoding.TextMarshaler的字段通过将其MarshalText方法的结果编码为文本来写入。</li>
</ul>
<p>If a field uses a tag &ldquo;a&gt;b&gt;c&rdquo;, then the element c will be nested inside parent elements a and b. Fields that appear next to each other that name the same parent will be enclosed in one XML element.</p>
<p>如果一个字段使用标签 &ldquo;a&gt;b&gt;c&rdquo;，那么元素c将被嵌套在父元素a和b里面。出现在彼此旁边的命名相同父元素的字段将被包围在一个XML元素中。</p>
<p>If the XML name for a struct field is defined by both the field tag and the struct&rsquo;s XMLName field, the names must match.</p>
<p>如果结构字段的XML名称同时由字段标签和结构的XMLName字段定义，那么这些名称必须匹配。</p>
<p>See MarshalIndent for an example.</p>
<p>参见MarshalIndent的例子。</p>
<p>Marshal will return an error if asked to marshal a channel, function, or map.</p>
<p>如果要求Marshal对通道、函数或地图进行Marshal，将返回一个错误。</p>
<h4 id="func-marshalindenthttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol130">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=130" target="_blank" rel="noopener">MarshalIndent</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MarshalIndent</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">prefix</span>, <span style="color:#e06c75">indent</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalIndent works like Marshal, but each XML element begins on a new indented line that starts with prefix and is followed by one or more copies of indent according to the nesting depth.</p>
<p>MarshalIndent的工作原理与Marshal类似，但每个XML元素都在一个新的缩进行上开始，该行以prefix开始，后面根据嵌套深度有一个或多个缩进副本。</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-unmarshalhttpscsopensourcegooglegogogo1201srcencodingxmlreadgol133">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/read.go;l=133" target="_blank" rel="noopener">Unmarshal</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Unmarshal</span>(<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Unmarshal parses the XML-encoded data and stores the result in the value pointed to by v, which must be an arbitrary struct, slice, or string. Well-formed data that does not fit into v is discarded.</p>
<p>Unmarshal解析XML编码的数据，并将结果存储在v所指向的值中，v必须是一个任意的结构、片断或字符串。不适合v的格式良好的数据被丢弃。</p>
<p>Because Unmarshal uses the reflect package, it can only assign to exported (upper case) fields. Unmarshal uses a case-sensitive comparison to match XML element names to tag values and struct field names.</p>
<p>因为Unmarshal使用reflect包，所以它只能赋值给导出的(大写)字段。Unmarshal使用区分大小写的比较方法，将XML元素名称与标签值和结构字段名称相匹配。</p>
<p>Unmarshal maps an XML element to a struct using the following rules. In the rules, the tag of a field refers to the value associated with the key &lsquo;xml&rsquo; in the struct field&rsquo;s tag (see the example above).</p>
<p>Unmarshal使用以下规则将XML元素映射到结构中。在这些规则中，字段的标签指的是与结构字段标签中的键 &ldquo;xml &ldquo;相关的值(见上面的例子)。</p>
<ul>
<li>If the struct has a field of type []byte or string with tag &ldquo;,innerxml&rdquo;, Unmarshal accumulates the raw XML nested inside the element in that field. The rest of the rules still apply. 如果该结构有一个类型为[]字节或字符串的字段，其标签为&rdquo;,innerxml&rdquo;，那么Unmarshal将积累嵌套在该字段元素中的原始XML。其余的规则仍然适用。</li>
<li>If the struct has a field named XMLName of type Name, Unmarshal records the element name in that field. 如果该结构有一个类型为Name的XMLName字段，Unmarshal会在该字段中记录元素名称。</li>
<li>If the XMLName field has an associated tag of the form &ldquo;name&rdquo; or &ldquo;namespace-URL name&rdquo;, the XML element must have the given name (and, optionally, name space) or else Unmarshal returns an error. 如果XMLName字段有一个形式为 &ldquo;name &ldquo;或 &ldquo;namespace-URL name &ldquo;的相关标签，那么XML元素必须具有给定的名称(以及可选的名称空间)，否则Unmarshal会返回一个错误。</li>
<li>If the XML element has an attribute whose name matches a struct field name with an associated tag containing &ldquo;,attr&rdquo; or the explicit name in a struct field tag of the form &ldquo;name,attr&rdquo;, Unmarshal records the attribute value in that field. 如果XML元素有一个属性，其名称与包含&rdquo;,attr &ldquo;的关联标签的结构字段名称或形式为 &ldquo;name,attr &ldquo;的结构字段标签中的明确名称相匹配，Unmarshal在该字段中记录属性值。</li>
<li>If the XML element has an attribute not handled by the previous rule and the struct has a field with an associated tag containing &ldquo;,any,attr&rdquo;, Unmarshal records the attribute value in the first such field. 如果 XML 元素有一个未被前面规则处理的属性，并且该结构有一个包含&rdquo;,any,attr &ldquo;关联标签的字段，Unmarshal 会在第一个这样的字段中记录属性值。</li>
<li>If the XML element contains character data, that data is accumulated in the first struct field that has tag &ldquo;,chardata&rdquo;. The struct field may have type []byte or string. If there is no such field, the character data is discarded. 如果 XML 元素包含字符数据，该数据将被累积到第一个具有标签&rdquo;,chardata &ldquo;的结构字段中。该结构字段的类型可以是[]字节或字符串。如果没有这样的字段，字符数据将被丢弃。</li>
<li>If the XML element contains comments, they are accumulated in the first struct field that has tag &ldquo;,comment&rdquo;. The struct field may have type []byte or string. If there is no such field, the comments are discarded. 如果XML元素包含注释，它们将被累积到第一个具有&rdquo;,注释 &ldquo;标签的结构字段中。该结构字段的类型可以是[]字节或字符串。如果没有这样的字段，注释将被丢弃。</li>
<li>If the XML element contains a sub-element whose name matches the prefix of a tag formatted as &ldquo;a&rdquo; or &ldquo;a&gt;b&gt;c&rdquo;, unmarshal will descend into the XML structure looking for elements with the given names, and will map the innermost elements to that struct field. A tag starting with &ldquo;&gt;&rdquo; is equivalent to one starting with the field name followed by &ldquo;&gt;&rdquo;. 如果XML元素包含一个子元素，其名称与格式为 &ldquo;a &ldquo;或 &ldquo;a&gt;b&gt;c &ldquo;的标签前缀相匹配，unmarshal将在XML结构中寻找具有给定名称的元素，并将最内部的元素映射到该结构域。以&rdquo;&gt;&ldquo;开头的标签等同于以字段名后的&rdquo;&gt;&ldquo;开头的标签。</li>
<li>If the XML element contains a sub-element whose name matches a struct field&rsquo;s XMLName tag and the struct field has no explicit name tag as per the previous rule, unmarshal maps the sub-element to that struct field. 如果XML元素包含一个子元素，其名称与结构字段的XMLName标签相匹配，并且按照之前的规则，结构字段没有明确的名称标签，那么unmarshal将该子元素映射到该结构字段。</li>
<li>If the XML element contains a sub-element whose name matches a field without any mode flags (&quot;,attr&rdquo;, &ldquo;,chardata&rdquo;, etc), Unmarshal maps the sub-element to that struct field. 如果 XML 元素包含一个子元素，其名称与没有任何模式标志(&quot;,attr&rdquo;,&quot;,chardata&rdquo;,等等)的字段相匹配，Unmarshal 将该子元素映射到该结构字段。</li>
<li>If the XML element contains a sub-element that hasn&rsquo;t matched any of the above rules and the struct has a field with tag &ldquo;,any&rdquo;, unmarshal maps the sub-element to that struct field. 如果XML元素包含的子元素不符合上述任何规则，并且该结构有一个标签为&rdquo;,any &ldquo;的字段，那么Umarshal会将该子元素映射到该结构字段。</li>
<li>An anonymous struct field is handled as if the fields of its value were part of the outer struct. 对匿名结构字段的处理，就像其值的字段是外部结构的一部分一样。</li>
<li>A struct field with tag &ldquo;-&rdquo; is never unmarshaled into. 标签为&rdquo;-&ldquo;的结构字段永远不会被解密到。</li>
</ul>
<p>If Unmarshal encounters a field type that implements the Unmarshaler interface, Unmarshal calls its UnmarshalXML method to produce the value from the XML element. Otherwise, if the value implements encoding.TextUnmarshaler, Unmarshal calls that value&rsquo;s UnmarshalText method.</p>
<p>如果Unmarshal遇到了一个实现了Unmarshaler接口的字段类型，Unmarshal会调用它的UnmarshalXML方法来产生来自XML元素的值。否则，如果该值实现了encoding.TextUnmarshaler，Unmarshal会调用该值的UnmarshalText方法。</p>
<p>Unmarshal maps an XML element to a string or []byte by saving the concatenation of that element&rsquo;s character data in the string or []byte. The saved []byte is never nil.</p>
<p>Unmarshal将一个XML元素映射到一个字符串或[]字节中，将该元素的字符数据的连接保存在字符串或[]字节中。保存的[]字节永远不会是零。</p>
<p>Unmarshal maps an attribute value to a string or []byte by saving the value in the string or slice.</p>
<p>Unmarshal将一个属性值映射到一个字符串或[]字节中，将该值保存在字符串或片断中。</p>
<p>Unmarshal maps an attribute value to an Attr by saving the attribute, including its name, in the Attr.</p>
<p>Unmarshal 将一个属性值映射到一个 Attr 中，通过保存该属性，包括它的名字，在 Attr 中。</p>
<p>Unmarshal maps an XML element or attribute value to a slice by extending the length of the slice and mapping the element or attribute to the newly created value.</p>
<p>Unmarshal 将一个 XML 元素或属性值映射到一个片断，通过扩展片断的长度并将元素或属性映射到新创建的值。</p>
<p>Unmarshal maps an XML element or attribute value to a bool by setting it to the boolean value represented by the string. Whitespace is trimmed and ignored.</p>
<p>Unmarshal 将一个 XML 元素或属性值映射为一个 bool，方法是将其设置为字符串所代表的布尔值。白色空间被修剪并被忽略。</p>
<p>Unmarshal maps an XML element or attribute value to an integer or floating-point field by setting the field to the result of interpreting the string value in decimal. There is no check for overflow. Whitespace is trimmed and ignored.</p>
<p>Unmarshal将一个XML元素或属性值映射到一个整数或浮点字段，方法是将该字段设置为以十进制解释字符串值的结果。没有对溢出的检查。白色的空间被修剪并被忽略。</p>
<p>Unmarshal maps an XML element to a Name by recording the element name.</p>
<p>Unmarshal通过记录元素名称将一个XML元素映射到一个Name。</p>
<p>Unmarshal maps an XML element to a pointer by setting the pointer to a freshly allocated value and then mapping the element to that value.</p>
<p>Unmarshal通过设置指针到一个新分配的值，然后将元素映射到该值，从而将XML元素映射到一个指针。</p>
<p>A missing element or empty attribute value will be unmarshaled as a zero value. If the field is a slice, a zero value will be appended to the field. Otherwise, the field will be set to its zero value.</p>
<p>一个缺失的元素或空属性值将被解封为一个零值。如果字段是一个片断，一个零值将被附加到字段上。否则，字段将被设置为其零值。</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="类型">类型</h2>
<h3 id="type-attrhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol45">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=45" target="_blank" rel="noopener">Attr</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Attr</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span>  <span style="color:#e06c75">Name</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Value</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>An Attr represents an attribute in an XML element (Name=Value).</p>
<p>一个Attr代表一个XML元素中的属性(Name=Value)。</p>
<h3 id="type-chardatahttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol81">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=81" target="_blank" rel="noopener">CharData</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">CharData</span> []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>A CharData represents XML character data (raw text), in which XML escape sequences have been replaced by the characters they represent.</p>
<p>一个CharData代表XML字符数据(原始文本)，其中XML转义序列已经被它们所代表的字符所取代。</p>
<h4 id="chardata-copyhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol84">(CharData) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=84" target="_blank" rel="noopener">Copy</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#e06c75">CharData</span>) <span style="color:#61afef;font-weight:bold">Copy</span>() <span style="color:#e06c75">CharData</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Copy creates a new copy of CharData.</p>
<p>Copy 创建一个新的CharData的副本。</p>
<h3 id="type-commenthttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol88">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=88" target="_blank" rel="noopener">Comment</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Comment</span> []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Comment represents an XML comment of the form <!--comment-->. The bytes do not include the <!-- and --> comment markers.</p>
<p>一个Comment代表一个XML注释，其形式为&lt;！&ndash;comment&ndash;&gt;。字节不包括&lt;！&ndash;和&ndash;&gt;注释标记。</p>
<h4 id="comment-copyhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol91">(Comment) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=91" target="_blank" rel="noopener">Copy</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#e06c75">Comment</span>) <span style="color:#61afef;font-weight:bold">Copy</span>() <span style="color:#e06c75">Comment</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Copy creates a new copy of Comment.</p>
<p>Copy创建一个Comment的新副本。</p>
<h3 id="type-decoderhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol148">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=148" target="_blank" rel="noopener">Decoder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Decoder</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Strict defaults to true, enforcing the requirements
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// of the XML specification.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If set to false, the parser allows input containing common
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// mistakes:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	* If an element is missing an end tag, the parser invents
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	  end tags as necessary to keep the return values from Token
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	  properly balanced.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	* In attribute values and character data, unknown or malformed
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	  character entities (sequences beginning with &amp;) are left alone.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Strict默认为true，强制执行XML规范的要求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果设置为false，解析器允许包含常见错误的输入。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// * 如果一个元素缺少一个结束标签，解析器会根据需要发明结束标签，以保持Token的返回值的正确平衡。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// * 在属性值和字符数据中，未知的或畸形的字符实体(以&amp;开头的序列)将不被考虑。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Setting:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	d.Strict = false
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	d.AutoClose = xml.HTMLAutoClose
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	d.Entity = xml.HTMLEntity
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// creates a parser that can handle typical HTML.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Strict mode does not enforce the requirements of the XML name spaces TR.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// In particular it does not reject name space tags using undefined prefixes.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Such tags are recorded with the unknown prefix as the name space URL.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 创建一个可以处理典型HTML的解析器。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 严格模式不强制执行XML名称空间TR的要求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 尤其是它不拒绝使用未定义前缀的名称空间标签。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 这样的标签会以未知的前缀作为名称空间的URL来记录。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Strict</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// When Strict == false, AutoClose indicates a set of elements to
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// consider closed immediately after they are opened, regardless
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// of whether an end element is present.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 当Strict == false时，AutoClose表示一组元素，在它们被打开后立即考虑关闭，不管是否有结束元素存在。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">AutoClose</span> []<span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Entity can be used to map non-standard entity names to string replacements.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// The parser behaves as if these standard mappings are present in the map,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// regardless of the actual map content:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 实体可以用来将非标准的实体名称映射为字符串替换。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 解析器的行为就像地图中存在这些标准的映射一样。 不管实际的地图内容是什么：
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	&#34;lt&#34;: &#34;&lt;&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	&#34;gt&#34;: &#34;&gt;&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	&#34;amp&#34;: &#34;&amp;&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	&#34;apos&#34;: &#34;&#39;&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//	&#34;quot&#34;: `&#34;`,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Entity</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// CharsetReader, if non-nil, defines a function to generate
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// charset-conversion readers, converting from the provided
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// non-UTF-8 charset into UTF-8. If CharsetReader is nil or
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// returns an error, parsing stops with an error. One of the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// CharsetReader&#39;s result values must be non-nil.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// CharsetReader，如果不是nil，定义了一个函数来生成字符集转换阅读器，从提供的非UTF-8字符集转换为UTF-8。如果CharsetReader为零或返回错误，解析将以错误停止。CharsetReader的结果值之一必须是非零的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">CharsetReader</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">charset</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">input</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) (<span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DefaultSpace sets the default name space used for unadorned tags,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// as if the entire XML stream were wrapped in an element containing
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the attribute xmlns=&#34;DefaultSpace&#34;.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// DefaultSpace设置用于未装饰标签的默认名称空间，就像整个XML流被包裹在一个包含xmlns=&#34;DefaultSpace &#34;属性的元素中。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DefaultSpace</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Decoder represents an XML parser reading a particular input stream. The parser assumes that its input is encoded in UTF-8.</p>
<p>Decoder 代表一个读取特定输入流的XML解析器。该解析器假定其输入是以UTF-8编码的。</p>
<h4 id="func-newdecoderhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol221">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=221" target="_blank" rel="noopener">NewDecoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewDecoder</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewDecoder creates a new XML parser reading from r. If r does not implement io.ByteReader, NewDecoder will do its own buffering.</p>
<p>如果r没有实现io.ByteReader，NewDecoder会自己做缓冲。</p>
<h4 id="func-newtokendecoderhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol233----go110">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=233" target="_blank" rel="noopener">NewTokenDecoder</a>  &lt;- go1.10</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewTokenDecoder</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">TokenReader</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewTokenDecoder creates a new XML parser using an underlying token stream.</p>
<p>NewTokenDecoder使用底层令牌流创建一个新的XML解析器。</p>
<h4 id="decoder-decodehttpscsopensourcegooglegogogo1201srcencodingxmlreadgol139">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/read.go;l=139" target="_blank" rel="noopener">Decode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">Decode</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Decode works like Unmarshal, except it reads the decoder stream to find the start element.</p>
<p>Decode的工作原理与Unmarshal类似，只是它读取解码器流来寻找起始元素。</p>
<h4 id="decoder-decodeelementhttpscsopensourcegooglegogogo1201srcencodingxmlreadgol147">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/read.go;l=147" target="_blank" rel="noopener">DecodeElement</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">DecodeElement</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">start</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">StartElement</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>DecodeElement works like Unmarshal except that it takes a pointer to the start XML element to decode into v. It is useful when a client reads some raw XML tokens itself but also wants to defer to Unmarshal for some elements.</p>
<p>DecodeElement的工作原理与Unmarshal类似，只是它需要一个指向起始XML元素的指针来解码成v。当客户端自己读取一些原始的XML标记，但也希望对一些元素推迟到Unmarshal时，它是非常有用的。</p>
<h4 id="decoder-inputoffsethttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol927----go14">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=927" target="_blank" rel="noopener">InputOffset</a>  &lt;- go1.4</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">InputOffset</span>() <span style="color:#e5c07b">int64</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>InputOffset returns the input stream byte offset of the current decoder position. The offset gives the location of the end of the most recently returned token and the beginning of the next token.</p>
<p>InputOffset返回当前解码器位置的输入流字节偏移。这个偏移量给出了最近返回的令牌的结束位置和下一个令牌的开始位置。</p>
<h4 id="decoder-inputposhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol934----go119">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=934" target="_blank" rel="noopener">InputPos</a>  &lt;- go1.19</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">InputPos</span>() (<span style="color:#e06c75">line</span>, <span style="color:#e06c75">column</span> <span style="color:#e5c07b">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>InputPos returns the line of the current decoder position and the 1 based input position of the line. The position gives the location of the end of the most recently returned token.</p>
<p>InputPos返回当前解码器位置的行，以及该行的基于1的输入位置。该位置给出了最近返回的token的结束位置。</p>
<h4 id="decoder-rawtokenhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol537">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=537" target="_blank" rel="noopener">RawToken</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">RawToken</span>() (<span style="color:#e06c75">Token</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>RawToken is like Token but does not verify that start and end elements match and does not translate name space prefixes to their corresponding URLs.</p>
<p>RawToken和Token一样，但是不验证开始和结束元素是否匹配，也不把名称空间前缀翻译成相应的URL。</p>
<h4 id="decoder-skiphttpscsopensourcegooglegogogo1201srcencodingxmlreadgol758">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/read.go;l=758" target="_blank" rel="noopener">Skip</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">Skip</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Skip reads tokens until it has consumed the end element matching the most recent start element already consumed, skipping nested structures. It returns nil if it finds an end element matching the start element; otherwise it returns an error describing the problem.</p>
<p>跳过读取令牌，直到它消耗了与已经消耗的最近的开始元素相匹配的结束元素，跳过嵌套结构。如果它找到了与开始元素相匹配的结束元素，则返回nil；否则它将返回一个描述问题的错误。</p>
<h4 id="decoder-tokenhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol271">(*Decoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=271" target="_blank" rel="noopener">Token</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>) <span style="color:#61afef;font-weight:bold">Token</span>() (<span style="color:#e06c75">Token</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Token returns the next XML token in the input stream. At the end of the input stream, Token returns nil, io.EOF.</p>
<p>Token返回输入流中的下一个XML标记。在输入流结束时，Token返回nil, io.EOF。</p>
<p>Slices of bytes in the returned token data refer to the parser&rsquo;s internal buffer and remain valid only until the next call to Token. To acquire a copy of the bytes, call CopyToken or the token&rsquo;s Copy method.</p>
<p>返回的令牌数据中的字节片指的是解析器的内部缓冲区，并且只在下次调用Token之前保持有效。要获得字节的拷贝，可以调用CopyToken或令牌的Copy方法。</p>
<p>Token expands self-closing elements such as <code>&lt;br&gt;</code> into separate start and end elements returned by successive calls.</p>
<p>Token将自闭元素如<code>&lt;br&gt;</code>扩展成独立的开始和结束元素，由连续的调用返回。</p>
<p>Token guarantees that the StartElement and EndElement tokens it returns are properly nested and matched: if Token encounters an unexpected end element or EOF before all expected end elements, it will return an error.</p>
<p>Token 保证它返回的 StartElement 和 EndElement 令牌是正确嵌套和匹配的：如果 Token 遇到意外的结束元素或在所有预期结束元素之前遇到 EOF，它将返回一个错误。</p>
<p>Token implements XML name spaces as described by <a href="https://www.w3.org/TR/REC-xml-names/" target="_blank" rel="noopener">https://www.w3.org/TR/REC-xml-names/</a>. Each of the Name structures contained in the Token has the Space set to the URL identifying its name space when known. If Token encounters an unrecognized name space prefix, it uses the prefix as the Space rather than report an error.</p>
<p>Token 实现了 XML 名称空间，如 <a href="https://www.w3.org/TR/REC-xml-names/" target="_blank" rel="noopener">https://www.w3.org/TR/REC-xml-names/</a> 所述。每个包含在 Token 中的 Name 结构的 Space 都被设置为识别其名称空间的 URL(当已知时)。如果 Token 遇到未被识别的名称空间前缀，它将使用该前缀作为 Space，而不是报告一个错误。</p>
<h3 id="type-directivehttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol107">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=107" target="_blank" rel="noopener">Directive</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Directive</span> []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Directive represents an XML directive of the form &lt;!text&gt;. The bytes do not include the &lt;! and &gt; markers.</p>
<p>Directive代表一个XML指令，其形式为&lt;！text&gt;。字节不包括&lt;！和&gt;标记。</p>
<h4 id="directive-copyhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol110">(Directive) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=110" target="_blank" rel="noopener">Copy</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#e06c75">Directive</span>) <span style="color:#61afef;font-weight:bold">Copy</span>() <span style="color:#e06c75">Directive</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Copy creates a new copy of Directive.</p>
<p>Copy创建Directive的一个新副本。</p>
<h3 id="type-encoderhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol144">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=144" target="_blank" rel="noopener">Encoder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Encoder</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>An Encoder writes XML data to an output stream.</p>
<p>Encoder 将XML数据写入一个输出流。</p>
<h5 id="example-4">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-newencoderhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol149">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=149" target="_blank" rel="noopener">NewEncoder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewEncoder</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewEncoder returns a new encoder that writes to w.</p>
<p>NewEncoder返回一个向w写的新编码器。</p>
<h4 id="encoder-closehttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol314----go120">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=314" target="_blank" rel="noopener">Close</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Close the Encoder, indicating that no more data will be written. It flushes any buffered XML to the underlying writer and returns an error if the written XML is invalid (e.g. by containing unclosed elements).</p>
<p>关闭Encoder，表示不再写入数据。它将任何缓冲的XML冲到底层写入器，如果写入的XML无效(例如包含未封闭的元素)，则返回一个错误。</p>
<h4 id="encoder-encodehttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol169">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=169" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">Encode</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Encode writes the XML encoding of v to the stream.</p>
<p>Encode将v的XML编码写到流中。</p>
<p>See the documentation for Marshal for details about the conversion of Go values to XML.</p>
<p>关于Go值转换为XML的细节，请参见Marshal的文档。</p>
<p>Encode calls Flush before returning.</p>
<p>Encode在返回之前调用Flush。</p>
<h4 id="encoder-encodeelementhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol184----go12">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=184" target="_blank" rel="noopener">EncodeElement</a>  &lt;- go1.2</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">EncodeElement</span>(<span style="color:#e06c75">v</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">start</span> <span style="color:#e06c75">StartElement</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodeElement writes the XML encoding of v to the stream, using start as the outermost tag in the encoding.</p>
<p>EncodeElement将v的XML编码写到流中，使用start作为编码的最外层标签。</p>
<p>See the documentation for Marshal for details about the conversion of Go values to XML.</p>
<p>关于Go值转换为XML的细节，请参见Marshal的文档。</p>
<p>EncodeElement calls Flush before returning.</p>
<p>EncodeElement在返回前调用Flush。</p>
<h4 id="encoder-encodetokenhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol210----go12">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=210" target="_blank" rel="noopener">EncodeToken</a>  &lt;- go1.2</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">EncodeToken</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">Token</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EncodeToken writes the given XML token to the stream. It returns an error if StartElement and EndElement tokens are not properly matched.</p>
<p>EncodeToken将给定的XML令牌写到流中。如果StartElement和EndElement令牌没有正确匹配，它会返回一个错误。</p>
<p>EncodeToken does not call Flush, because usually it is part of a larger operation such as Encode or EncodeElement (or a custom Marshaler&rsquo;s MarshalXML invoked during those), and those will call Flush when finished. Callers that create an Encoder and then invoke EncodeToken directly, without using Encode or EncodeElement, need to call Flush when finished to ensure that the XML is written to the underlying writer.</p>
<p>EncodeToken不调用Flush，因为通常它是一个更大的操作的一部分，如Encode或EncodeElement(或在这些操作中调用的自定义MarshalXML)，这些操作完成后将调用Flush。创建Encoder然后直接调用EncodeToken的调用者，不使用Encode或EncodeElement，需要在完成后调用Flush以确保XML被写入底层写入器。</p>
<p>EncodeToken allows writing a ProcInst with Target set to &ldquo;xml&rdquo; only as the first token in the stream.</p>
<p>EncodeToken允许写一个ProcInst，目标设置为 &ldquo;xml&rdquo;，只作为流中的第一个标记。</p>
<h4 id="encoder-flushhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol307----go12">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=307" target="_blank" rel="noopener">Flush</a>  &lt;- go1.2</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">Flush</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Flush flushes any buffered XML to the underlying writer. See the EncodeToken documentation for details about when it is necessary.</p>
<p>Flush将任何缓冲的XML冲到底层写入器中。关于什么时候需要这样做，请参见EncodeToken文档。</p>
<h4 id="encoder-indenthttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol158----go11">(*Encoder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=158" target="_blank" rel="noopener">Indent</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">enc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>) <span style="color:#61afef;font-weight:bold">Indent</span>(<span style="color:#e06c75">prefix</span>, <span style="color:#e06c75">indent</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Indent sets the encoder to generate XML in which each element begins on a new indented line that starts with prefix and is followed by one or more copies of indent according to the nesting depth.</p>
<p>缩进设置编码器生成XML，其中每个元素在一个新的缩进行中开始，该行以prefix开始，后面根据嵌套深度有一个或多个缩进副本。</p>
<h3 id="type-endelementhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol74">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=74" target="_blank" rel="noopener">EndElement</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">EndElement</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span> <span style="color:#e06c75">Name</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>An EndElement represents an XML end element.</p>
<p>一个EndElement代表一个XML的结束元素。</p>
<h3 id="type-marshalerhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol108----go12">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=108" target="_blank" rel="noopener">Marshaler</a>  &lt;- go1.2</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Marshaler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">MarshalXML</span>(<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Encoder</span>, <span style="color:#e06c75">start</span> <span style="color:#e06c75">StartElement</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Marshaler is the interface implemented by objects that can marshal themselves into valid XML elements.</p>
<p>Marshaler是由能够将自己 Marshal成有效的XML元素的对象实现的接口。</p>
<p>MarshalXML encodes the receiver as zero or more XML elements. By convention, arrays or slices are typically encoded as a sequence of elements, one per entry. Using start as the element tag is not required, but doing so will enable Unmarshal to match the XML elements to the correct struct field. One common implementation strategy is to construct a separate value with a layout corresponding to the desired XML and then to encode it using e.EncodeElement. Another common strategy is to use repeated calls to e.EncodeToken to generate the XML output one token at a time. The sequence of encoded tokens must make up zero or more valid XML elements.</p>
<p>MarshalXML将接收器编码为零个或多个XML元素。根据惯例，数组或片断通常被编码为一个元素序列，每个条目一个。使用 start 作为元素标签并不是必须的，但这样做将使 Unmarshal 能够将 XML 元素与正确的结构字段相匹配。一种常见的实现策略是构建一个单独的值，其布局对应于所需的 XML，然后使用 e.EncodeElement 对其进行编码。另一种常见的策略是使用对e.EncodeToken的重复调用，一次生成一个标记的XML输出。编码令牌的序列必须由零个或多个有效的XML元素组成。</p>
<h3 id="type-marshalerattrhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol123----go12">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=123" target="_blank" rel="noopener">MarshalerAttr</a>  &lt;- go1.2</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">MarshalerAttr</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">MarshalXMLAttr</span>(<span style="color:#e06c75">name</span> <span style="color:#e06c75">Name</span>) (<span style="color:#e06c75">Attr</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalerAttr is the interface implemented by objects that can marshal themselves into valid XML attributes.</p>
<p>MarshalerAttr 是由可以将自己 Marshal 成有效的 XML 属性的对象实现的接口。</p>
<p>MarshalXMLAttr returns an XML attribute with the encoded value of the receiver. Using name as the attribute name is not required, but doing so will enable Unmarshal to match the attribute to the correct struct field. If MarshalXMLAttr returns the zero attribute Attr{}, no attribute will be generated in the output. MarshalXMLAttr is used only for struct fields with the &ldquo;attr&rdquo; option in the field tag.</p>
<p>MarshalXMLAttr返回一个带有接收器编码值的XML属性。使用 name 作为属性名不是必须的，但这样做可以使 Unmarshal 将属性与正确的结构字段相匹配。如果 MarshalXMLAttr 返回零属性 Attr{}，输出中不会产生任何属性。MarshalXMLAttr 仅用于字段标签中带有 &ldquo;attr &ldquo;选项的结构字段。</p>
<h3 id="type-namehttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol40">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=40" target="_blank" rel="noopener">Name</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Name</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Space</span>, <span style="color:#e06c75">Local</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Name represents an XML name (Local) annotated with a name space identifier (Space). In tokens returned by Decoder.Token, the Space identifier is given as a canonical URL, not the short prefix used in the document being parsed.</p>
<p>一个Name代表一个XML名称(Local)，用一个名称空间标识符(Space)来注释。在Decoder.Token返回的令牌中，Space标识符是作为一个规范的URL给出的，而不是被解析的文档中使用的短前缀。</p>
<h3 id="type-procinsthttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol94">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=94" target="_blank" rel="noopener">ProcInst</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ProcInst</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Target</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Inst</span>   []<span style="color:#e5c07b">byte</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A ProcInst represents an XML processing instruction of the form <?target inst?></p>
<p>一个ProcInst代表一个XML处理指令，其形式为<code>&lt;?target inst?&gt;</code>。</p>
<h4 id="procinst-copyhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol100">(ProcInst) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=100" target="_blank" rel="noopener">Copy</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">ProcInst</span>) <span style="color:#61afef;font-weight:bold">Copy</span>() <span style="color:#e06c75">ProcInst</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Copy creates a new copy of ProcInst.</p>
<p>Copy 创建ProcInst的新副本。</p>
<h3 id="type-startelementhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol55">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=55" target="_blank" rel="noopener">StartElement</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">StartElement</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span> <span style="color:#e06c75">Name</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Attr</span> []<span style="color:#e06c75">Attr</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A StartElement represents an XML start element.</p>
<p>StartElement代表一个XML起始元素。</p>
<h4 id="startelement-copyhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol61">(StartElement) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=61" target="_blank" rel="noopener">Copy</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">StartElement</span>) <span style="color:#61afef;font-weight:bold">Copy</span>() <span style="color:#e06c75">StartElement</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Copy creates a new copy of StartElement.</p>
<p>Copy 创建一个 StartElement 的新副本。</p>
<h4 id="startelement-endhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol69----go12">(StartElement) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=69" target="_blank" rel="noopener">End</a>  &lt;- go1.2</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">StartElement</span>) <span style="color:#61afef;font-weight:bold">End</span>() <span style="color:#e06c75">EndElement</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>End returns the corresponding XML end element.</p>
<p>End返回相应的XML结束元素。</p>
<h3 id="type-syntaxerrorhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol26">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=26" target="_blank" rel="noopener">SyntaxError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">SyntaxError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Msg</span>  <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Line</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A SyntaxError represents a syntax error in the XML input stream.</p>
<p>SyntaxError代表XML输入流中的一个语法错误。</p>
<h4 id="syntaxerror-errorhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol31">(*SyntaxError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=31" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">SyntaxError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-tagpatherrorhttpscsopensourcegooglegogogo1201srcencodingxmltypeinfogol337">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/typeinfo.go;l=337" target="_blank" rel="noopener">TagPathError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">TagPathError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Struct</span>       <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Type</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Field1</span>, <span style="color:#e06c75">Tag1</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Field2</span>, <span style="color:#e06c75">Tag2</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A TagPathError represents an error in the unmarshaling process caused by the use of field tags with conflicting paths.</p>
<p>TagPathError表示在解封过程中，由于使用了路径冲突的字段标签而导致的错误。</p>
<h4 id="tagpatherror-errorhttpscsopensourcegooglegogogo1201srcencodingxmltypeinfogol343">(*TagPathError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/typeinfo.go;l=343" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TagPathError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-tokenhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol52">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=52" target="_blank" rel="noopener">Token</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Token</span> <span style="color:#e06c75">any</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Token is an interface holding one of the token types: StartElement, EndElement, CharData, Comment, ProcInst, or Directive.</p>
<p>Token是一个接口，持有一个令牌类型。StartElement, EndElement, CharData, Comment, ProcInst, or Directive.</p>
<h4 id="func-copytokenhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol113">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=113" target="_blank" rel="noopener">CopyToken</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">CopyToken</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">Token</span>) <span style="color:#e06c75">Token</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>CopyToken returns a copy of a Token.</p>
<p>CopyToken返回一个令牌的副本。</p>
<h3 id="type-tokenreaderhttpscsopensourcegooglegogogo1201srcencodingxmlxmlgol142----go110">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/xml.go;l=142" target="_blank" rel="noopener">TokenReader</a>  &lt;- go1.10</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">TokenReader</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Token</span>() (<span style="color:#e06c75">Token</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A TokenReader is anything that can decode a stream of XML tokens, including a Decoder.</p>
<p>TokenReader是任何可以解码XML标记流的东西，包括解码器。</p>
<p>When Token encounters an error or end-of-file condition after successfully reading a token, it returns the token. It may return the (non-nil) error from the same call or return the error (and a nil token) from a subsequent call. An instance of this general case is that a TokenReader returning a non-nil token at the end of the token stream may return either io.EOF or a nil error. The next Read should return nil, io.EOF.</p>
<p>当Token在成功读取一个令牌后遇到错误或文件结束的情况时，它会返回该令牌。它可以从同一个调用中返回(非零)错误，或者从后续调用中返回错误(和一个零的令牌)。这个一般情况的一个例子是，TokenReader在令牌流的末端返回一个非空的令牌，可能会返回io.EOF或者一个nil错误。下一个Read应该返回nil, io.EOF。</p>
<p>Implementations of Token are discouraged from returning a nil token with a nil error. Callers should treat a return of nil, nil as indicating that nothing happened; in particular it does not indicate EOF.</p>
<p>不鼓励Token的实现在返回nil令牌时出现nil错误。调用者应该把返回的nil, nil看作是没有发生任何事情；特别是它并不表示EOF。</p>
<h3 id="type-unmarshalerrorhttpscsopensourcegooglegogogo1201srcencodingxmlreadgol160">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/read.go;l=160" target="_blank" rel="noopener">UnmarshalError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnmarshalError</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>An UnmarshalError represents an error in the unmarshaling process.</p>
<p>一个UnmarshalError表示在解密过程中的一个错误。</p>
<h4 id="unmarshalerror-errorhttpscsopensourcegooglegogogo1201srcencodingxmlreadgol162">(UnmarshalError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/read.go;l=162" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">UnmarshalError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-unmarshalerhttpscsopensourcegooglegogogo1201srcencodingxmlreadgol179----go12">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/read.go;l=179" target="_blank" rel="noopener">Unmarshaler</a>  &lt;- go1.2</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Unmarshaler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">UnmarshalXML</span>(<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Decoder</span>, <span style="color:#e06c75">start</span> <span style="color:#e06c75">StartElement</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Unmarshaler is the interface implemented by objects that can unmarshal an XML element description of themselves.</p>
<p>Unmarshaler是由能够解读自己的XML元素描述的对象实现的接口。</p>
<p>UnmarshalXML decodes a single XML element beginning with the given start element. If it returns an error, the outer call to Unmarshal stops and returns that error. UnmarshalXML must consume exactly one XML element. One common implementation strategy is to unmarshal into a separate value with a layout matching the expected XML using d.DecodeElement, and then to copy the data from that value into the receiver. Another common strategy is to use d.Token to process the XML object one token at a time. UnmarshalXML may not use d.RawToken.</p>
<p>UnmarshalXML对从给定的start元素开始的单个XML元素进行解码。如果它返回一个错误，对Unmarshal的外部调用就会停止并返回该错误。UnmarshalXML必须正好消耗一个XML元素。一个常见的实现策略是使用d.DecodeElement将解压缩到一个单独的值，其布局与预期的XML相匹配，然后将该值中的数据复制到接收器中。另一个常见的策略是使用d.Token来一次处理XML对象的一个token。UnmarshalXML可能不会使用d.RawToken。</p>
<h3 id="type-unmarshalerattrhttpscsopensourcegooglegogogo1201srcencodingxmlreadgol191----go12">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/read.go;l=191" target="_blank" rel="noopener">UnmarshalerAttr</a>  &lt;- go1.2</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnmarshalerAttr</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">UnmarshalXMLAttr</span>(<span style="color:#e06c75">attr</span> <span style="color:#e06c75">Attr</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnmarshalerAttr is the interface implemented by objects that can unmarshal an XML attribute description of themselves.</p>
<p>UnmarshalerAttr是由能够解读自身的XML属性描述的对象实现的接口。</p>
<p>UnmarshalXMLAttr decodes a single XML attribute. If it returns an error, the outer call to Unmarshal stops and returns that error. UnmarshalXMLAttr is used only for struct fields with the &ldquo;attr&rdquo; option in the field tag.</p>
<p>UnmarshalXMLAttr 解码一个单一的 XML 属性。如果它返回一个错误，外部对 Unmarshal 的调用就会停止并返回该错误。UnmarshalXMLAttr 仅用于字段标签中带有 &ldquo;attr &ldquo;选项的结构字段。</p>
<h3 id="type-unsupportedtypeerrorhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol1105">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=1105" target="_blank" rel="noopener">UnsupportedTypeError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnsupportedTypeError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Type</span> <span style="color:#e06c75">reflect</span>.<span style="color:#e06c75">Type</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnsupportedTypeError is returned when Marshal encounters a type that cannot be converted into XML.</p>
<p>当Marshal遇到不能转换为XML的类型时，UnsupportedTypeError被返回。</p>
<h4 id="unsupportedtypeerror-errorhttpscsopensourcegooglegogogo1201srcencodingxmlmarshalgol1109">(*UnsupportedTypeError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/encoding/xml/marshal.go;l=1109" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnsupportedTypeError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="notes">Notes</h2>
<h2 id="bugs">Bugs</h2>
<ul>
<li>Mapping between XML elements and data structures is inherently flawed: an XML element is an order-dependent collection of anonymous values, while a data structure is an order-independent collection of named values. See package json for a textual representation more suitable to data structures.</li>
<li>XML元素和数据结构之间的映射是有内在缺陷的：XML元素是一个匿名值的顺序依赖性集合，而数据结构是一个命名值的顺序无关的集合。请参阅包json，以获得更适合数据结构的文本表示法。</li>
</ul>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/google/docsy" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing list" aria-label="Developer mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 The Docsy Authors </small>
        <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener"></a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
  <script src="/js/main.min.9069af235eb4d4956fc4dc29e5ca46caef0cdcae593856be4e33c99075bc5ea2.js" integrity="sha256-kGmvI1601JVvxNwp5cpGyu8M3K5ZOFa&#43;TjPJkHW8XqI=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>
<script src='/js/deal-zero-width-space.js'></script>
  </body>
</html>
