<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="cn" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.111.3">
<link rel="canonical" type="text/html" href="http://ngd.cn/docs/stdLib/net/">
<link rel="alternate" type="application/rss&#43;xml" href="http://ngd.cn/docs/stdLib/net/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>net | go文档集</title>
<meta name="description" content="The most popular HTML, CSS, and JS library in the world.">
<meta property="og:title" content="net" />
<meta property="og:description" content="The most popular HTML, CSS, and JS library in the world." />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://ngd.cn/docs/stdLib/net/" />
<meta itemprop="name" content="net">
<meta itemprop="description" content="The most popular HTML, CSS, and JS library in the world."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="net"/>
<meta name="twitter:description" content="The most popular HTML, CSS, and JS library in the world."/>




<link rel="preload" href="/scss/main.min.bb1f3a37154c4661ae02d3cb1a733edd8005db70f626370ca004c689a63ab7d4.css" as="style">
<link href="/scss/main.min.bb1f3a37154c4661ae02d3cb1a733edd8005db70f626370ca004c689a63ab7d4.css" rel="stylesheet" integrity="">

<link href="/css/extra.css" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-00000000-0"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-00000000-0');
}
</script>
  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">go文档集</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link active" href="/docs/"><span class="active">文档</span></a>
      </li>
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    <div class="td-search">
  <div class="td-search__icon"></div>
  <input type="search" class="td-search__input form-control td-search-input" placeholder="" aria-label="" autocomplete="off">
</div>

  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>

<a href="#" onclick="print();return false;"></a>.
</p><p>
<a href="/docs/stdLib/net/"></a>.
</p>
</div>



<h1 class="title">net</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-f17856b556d2cdfc78b382546e047454">fcgi</a></li>


    
  
    
    
	
<li>2: <a href="#pg-1c8fcb8c58f964974a2bdb70e3d26213">http</a></li>


    
  
    
    
	
<li>3: <a href="#pg-51756e3c3481b073ee88ad516492ac64">http/cli</a></li>


    
  
    
    
	
<li>4: <a href="#pg-8251cd655919a135870f5d9d1bc26f0f">http/cookiejar</a></li>


    
  
    
    
	
<li>5: <a href="#pg-ff3b89b0e32176513f17079a008cd2a7">http/httptest</a></li>


    
  
    
    
	
<li>6: <a href="#pg-85e929046159f149cade5dc6981ded34">http/httptrace</a></li>


    
  
    
    
	
<li>7: <a href="#pg-e21a012c8df35a586d24ee7fb57d10df">http/httputil</a></li>


    
  
    
    
	
<li>8: <a href="#pg-ed7054cf3ff60bff09fccf9e5b63e7d1">mail</a></li>


    
  
    
    
	
<li>9: <a href="#pg-0df71a78ef573e007ed0c9aa8c751f1f">net</a></li>


    
  
    
    
	
<li>10: <a href="#pg-5bc0b8f86dff7d0bdfdf0ca4aa3e623e">netip</a></li>


    
  
    
    
	
<li>11: <a href="#pg-bae78cf600ee4c2981bdc336ff98ce41">pprof</a></li>


    
  
    
    
	
<li>12: <a href="#pg-9bea481715b4c6f677f772d95bc1830b">rpc</a></li>


    
  
    
    
	
<li>13: <a href="#pg-e52459f96373b1ae37a94d681e912d3b">rpc/jsonrpc</a></li>


    
  
    
    
	
<li>14: <a href="#pg-38d868b5afe19f6268f2ca6f425bcdf7">smtp</a></li>


    
  
    
    
	
<li>15: <a href="#pg-db75a0c60bbb76e542a805cfa15196c4">textproto</a></li>


    
  
    
    
	
<li>16: <a href="#pg-2a20afd5223256f7356597b86d8178b3">url</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-f17856b556d2cdfc78b382546e047454">1 - fcgi</h1>
    
	<h1 id="fcgi">fcgi</h1>
<p><a href="https://pkg.go.dev/net/http/fcgi@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/http/fcgi@go1.20.1</a></p>
<p>Package fcgi implements the FastCGI protocol.</p>
<p>See <a href="https://fast-cgi.github.io/" target="_blank" rel="noopener">https://fast-cgi.github.io/</a> for an unofficial mirror of the original documentation.</p>
<p>Currently only the responder role is supported.</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fcgi/child.go;l=191" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrConnClosed</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;fcgi: connection to web server closed&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ErrConnClosed is returned by Read when a handler attempts to read the body of a request after the connection to the web server has been closed.</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fcgi/child.go;l=187" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrRequestAborted</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;fcgi: request aborted by web server&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ErrRequestAborted is returned by Read when a handler attempts to read the body of a request that has been aborted by the web server.</p>
<h2 id="函数">函数</h2>
<h4 id="func-processenvhttpscsopensourcegooglegogogo1201srcnethttpfcgichildgol366----go19">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fcgi/child.go;l=366" target="_blank" rel="noopener">ProcessEnv</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ProcessEnv</span>(<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ProcessEnv returns FastCGI environment variables associated with the request r for which no effort was made to be included in the request itself - the data is hidden in the request&rsquo;s context. As an example, if REMOTE_USER is set for a request, it will not be found anywhere in r, but it will be included in ProcessEnv&rsquo;s response (via r&rsquo;s context).</p>
<h4 id="func-servehttpscsopensourcegooglegogogo1201srcnethttpfcgichildgol339">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fcgi/child.go;l=339" target="_blank" rel="noopener">Serve</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Serve</span>(<span style="color:#e06c75">l</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>, <span style="color:#e06c75">handler</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Handler</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Serve accepts incoming FastCGI connections on the listener l, creating a new goroutine for each. The goroutine reads requests and then calls handler to reply to them. If l is nil, Serve accepts connections from os.Stdin. If handler is nil, http.DefaultServeMux is used.</p>
<h2 id="类型">类型</h2>
<p>This section is empty.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1c8fcb8c58f964974a2bdb70e3d26213">2 - http</h1>
    
	<h1 id="http">http</h1>
<p><a href="https://pkg.go.dev/net/http@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/http@go1.20.1</a></p>
<p>​	http包提供了 HTTP 客户端和服务端的实现。</p>
<p>​	Get、Head、Post 和 PostForm 方法可用于发起 HTTP(或 HTTPS)请求：</p>
<pre tabindex="0"><code>resp, err := http.Get(&#34;http://example.com/&#34;)
...
resp, err := http.Post(&#34;http://example.com/upload&#34;, &#34;image/jpeg&#34;, &amp;buf)
...
resp, err := http.PostForm(&#34;http://example.com/form&#34;,
	url.Values{&#34;key&#34;: {&#34;Value&#34;}, &#34;id&#34;: {&#34;123&#34;}})
</code></pre><p>​	在使用完响应后，客户端必须关闭响应主体：</p>
<pre tabindex="0"><code>resp, err := http.Get(&#34;http://example.com/&#34;)
if err != nil {
	// 处理错误
}
defer resp.Body.Close()
body, err := io.ReadAll(resp.Body)
// ...
</code></pre><p>​	为了控制 HTTP 客户端的标头、重定向策略和其他设置，可以创建一个 Client：</p>
<pre tabindex="0"><code>client := &amp;http.Client{
	CheckRedirect: redirectPolicyFunc,
}

resp, err := client.Get(&#34;http://example.com&#34;)
// ...

req, err := http.NewRequest(&#34;GET&#34;, &#34;http://example.com&#34;, nil)
// ...
req.Header.Add(&#34;If-None-Match&#34;, `W/&#34;wyzzy&#34;`)
resp, err := client.Do(req)
// ...
</code></pre><p>​	为了控制代理、TLS 配置、保持连接、压缩和其他设置，可以创建一个 Transport：</p>
<pre tabindex="0"><code>tr := &amp;http.Transport{
	MaxIdleConns:       10,
	IdleConnTimeout:    30 * time.Second,
	DisableCompression: true,
}
client := &amp;http.Client{Transport: tr}
resp, err := client.Get(&#34;https://example.com&#34;)
</code></pre><p>​	Clients 和 Transports 可以被多个 goroutine 并发使用，并且为了效率应该只创建一次并重复使用。</p>
<p>​	ListenAndServe 方法可启动一个使用给定地址和处理程序的 HTTP 服务器。处理程序通常为 nil，这意味着使用 DefaultServeMux。Handle 和 HandleFunc 方法可将处理程序添加到 DefaultServeMux：</p>
<pre tabindex="0"><code>http.Handle(&#34;/foo&#34;, fooHandler)

http.HandleFunc(&#34;/bar&#34;, func(w http.ResponseWriter, r *http.Request) {
	fmt.Fprintf(w, &#34;Hello, %q&#34;, html.EscapeString(r.URL.Path))
})

log.Fatal(http.ListenAndServe(&#34;:8080&#34;, nil))
</code></pre><p>​	通过创建自定义服务器可以获得更多对服务器行为的控制：</p>
<pre tabindex="0"><code>s := &amp;http.Server{
	Addr:           &#34;:8080&#34;,
	Handler:        myHandler,
	ReadTimeout:    10 * time.Second,
	WriteTimeout:   10 * time.Second,
	MaxHeaderBytes: 1 &lt;&lt; 20,
}
log.Fatal(s.ListenAndServe())
</code></pre><p>​	从 Go 1.6 开始，当使用 HTTPS 时，http 包对 HTTP/2 协议具有透明支持。必须禁用 HTTP/2 的程序可以通过将 Transport.TLSNextProto(用于客户端)或 Server.TLSNextProto(用于服务器)设置为non-nil的空映射来实现。或者，目前支持以下 GODEBUG 环境变量：</p>
<pre tabindex="0"><code>GODEBUG=http2client=0  # disable HTTP/2 client support
GODEBUG=http2server=0  # disable HTTP/2 server support
GODEBUG=http2debug=1   # enable verbose HTTP/2 debug logs
GODEBUG=http2debug=2   # ... even more verbose, with frame dumps
</code></pre><p>​	GODEBUG 变量不受 Go 的 API 兼容性承诺的保护。在禁用 HTTP/2 支持之前，请报告任何问题：https://golang.org/s/http2bug</p>
<p>​	http 包的 Transport 和 Server 都会自动为简单配置启用 HTTP/2 支持。为了启用更复杂的配置的 HTTP/2，使用更低级别的 HTTP/2 功能或使用 Go 的 http2 包的更新版本，请直接导入 &ldquo;golang.org/x/net/http2&rdquo; 并使用其 ConfigureTransport 和/或 ConfigureServer 函数。手动配置 HTTP/2 通过 golang.org/x/net/http2 包优先于 net/http 包内置的 HTTP/2 支持。</p>
<h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/method.go;l=10" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MethodGet</span>     = <span style="color:#98c379">&#34;GET&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MethodHead</span>    = <span style="color:#98c379">&#34;HEAD&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MethodPost</span>    = <span style="color:#98c379">&#34;POST&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MethodPut</span>     = <span style="color:#98c379">&#34;PUT&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MethodPatch</span>   = <span style="color:#98c379">&#34;PATCH&#34;</span> <span style="color:#7f848e">// RFC 5789
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MethodDelete</span>  = <span style="color:#98c379">&#34;DELETE&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MethodConnect</span> = <span style="color:#98c379">&#34;CONNECT&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MethodOptions</span> = <span style="color:#98c379">&#34;OPTIONS&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MethodTrace</span>   = <span style="color:#98c379">&#34;TRACE&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	常见的HTTP方法。</p>
<p>​	除非另有说明，这些方法定义在<a href="https://rfc-editor.org/rfc/rfc7231.html#section-4.3" target="_blank" rel="noopener">RFC 7231第4.3节</a>中。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/status.go;l=9" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">69
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StatusContinue</span>           = <span style="color:#d19a66">100</span> <span style="color:#7f848e">// RFC 9110, 15.2.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusSwitchingProtocols</span> = <span style="color:#d19a66">101</span> <span style="color:#7f848e">// RFC 9110, 15.2.2
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusProcessing</span>         = <span style="color:#d19a66">102</span> <span style="color:#7f848e">// RFC 2518, 10.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusEarlyHints</span>         = <span style="color:#d19a66">103</span> <span style="color:#7f848e">// RFC 8297
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StatusOK</span>                   = <span style="color:#d19a66">200</span> <span style="color:#7f848e">// RFC 9110, 15.3.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusCreated</span>              = <span style="color:#d19a66">201</span> <span style="color:#7f848e">// RFC 9110, 15.3.2
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusAccepted</span>             = <span style="color:#d19a66">202</span> <span style="color:#7f848e">// RFC 9110, 15.3.3
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusNonAuthoritativeInfo</span> = <span style="color:#d19a66">203</span> <span style="color:#7f848e">// RFC 9110, 15.3.4
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusNoContent</span>            = <span style="color:#d19a66">204</span> <span style="color:#7f848e">// RFC 9110, 15.3.5
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusResetContent</span>         = <span style="color:#d19a66">205</span> <span style="color:#7f848e">// RFC 9110, 15.3.6
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusPartialContent</span>       = <span style="color:#d19a66">206</span> <span style="color:#7f848e">// RFC 9110, 15.3.7
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusMultiStatus</span>          = <span style="color:#d19a66">207</span> <span style="color:#7f848e">// RFC 4918, 11.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusAlreadyReported</span>      = <span style="color:#d19a66">208</span> <span style="color:#7f848e">// RFC 5842, 7.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusIMUsed</span>               = <span style="color:#d19a66">226</span> <span style="color:#7f848e">// RFC 3229, 10.4.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StatusMultipleChoices</span>  = <span style="color:#d19a66">300</span> <span style="color:#7f848e">// RFC 9110, 15.4.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusMovedPermanently</span> = <span style="color:#d19a66">301</span> <span style="color:#7f848e">// RFC 9110, 15.4.2
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusFound</span>            = <span style="color:#d19a66">302</span> <span style="color:#7f848e">// RFC 9110, 15.4.3
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusSeeOther</span>         = <span style="color:#d19a66">303</span> <span style="color:#7f848e">// RFC 9110, 15.4.4
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusNotModified</span>      = <span style="color:#d19a66">304</span> <span style="color:#7f848e">// RFC 9110, 15.4.5
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusUseProxy</span>         = <span style="color:#d19a66">305</span> <span style="color:#7f848e">// RFC 9110, 15.4.6
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StatusTemporaryRedirect</span> = <span style="color:#d19a66">307</span> <span style="color:#7f848e">// RFC 9110, 15.4.8
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusPermanentRedirect</span> = <span style="color:#d19a66">308</span> <span style="color:#7f848e">// RFC 9110, 15.4.9
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StatusBadRequest</span>                   = <span style="color:#d19a66">400</span> <span style="color:#7f848e">// RFC 9110, 15.5.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusUnauthorized</span>                 = <span style="color:#d19a66">401</span> <span style="color:#7f848e">// RFC 9110, 15.5.2
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusPaymentRequired</span>              = <span style="color:#d19a66">402</span> <span style="color:#7f848e">// RFC 9110, 15.5.3
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusForbidden</span>                    = <span style="color:#d19a66">403</span> <span style="color:#7f848e">// RFC 9110, 15.5.4
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusNotFound</span>                     = <span style="color:#d19a66">404</span> <span style="color:#7f848e">// RFC 9110, 15.5.5
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusMethodNotAllowed</span>             = <span style="color:#d19a66">405</span> <span style="color:#7f848e">// RFC 9110, 15.5.6
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusNotAcceptable</span>                = <span style="color:#d19a66">406</span> <span style="color:#7f848e">// RFC 9110, 15.5.7
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusProxyAuthRequired</span>            = <span style="color:#d19a66">407</span> <span style="color:#7f848e">// RFC 9110, 15.5.8
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusRequestTimeout</span>               = <span style="color:#d19a66">408</span> <span style="color:#7f848e">// RFC 9110, 15.5.9
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusConflict</span>                     = <span style="color:#d19a66">409</span> <span style="color:#7f848e">// RFC 9110, 15.5.10
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusGone</span>                         = <span style="color:#d19a66">410</span> <span style="color:#7f848e">// RFC 9110, 15.5.11
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusLengthRequired</span>               = <span style="color:#d19a66">411</span> <span style="color:#7f848e">// RFC 9110, 15.5.12
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusPreconditionFailed</span>           = <span style="color:#d19a66">412</span> <span style="color:#7f848e">// RFC 9110, 15.5.13
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusRequestEntityTooLarge</span>        = <span style="color:#d19a66">413</span> <span style="color:#7f848e">// RFC 9110, 15.5.14
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusRequestURITooLong</span>            = <span style="color:#d19a66">414</span> <span style="color:#7f848e">// RFC 9110, 15.5.15
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusUnsupportedMediaType</span>         = <span style="color:#d19a66">415</span> <span style="color:#7f848e">// RFC 9110, 15.5.16
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusRequestedRangeNotSatisfiable</span> = <span style="color:#d19a66">416</span> <span style="color:#7f848e">// RFC 9110, 15.5.17
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusExpectationFailed</span>            = <span style="color:#d19a66">417</span> <span style="color:#7f848e">// RFC 9110, 15.5.18
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusTeapot</span>                       = <span style="color:#d19a66">418</span> <span style="color:#7f848e">// RFC 9110, 15.5.19 (Unused)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusMisdirectedRequest</span>           = <span style="color:#d19a66">421</span> <span style="color:#7f848e">// RFC 9110, 15.5.20
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusUnprocessableEntity</span>          = <span style="color:#d19a66">422</span> <span style="color:#7f848e">// RFC 9110, 15.5.21
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusLocked</span>                       = <span style="color:#d19a66">423</span> <span style="color:#7f848e">// RFC 4918, 11.3
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusFailedDependency</span>             = <span style="color:#d19a66">424</span> <span style="color:#7f848e">// RFC 4918, 11.4
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusTooEarly</span>                     = <span style="color:#d19a66">425</span> <span style="color:#7f848e">// RFC 8470, 5.2.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusUpgradeRequired</span>              = <span style="color:#d19a66">426</span> <span style="color:#7f848e">// RFC 9110, 15.5.22
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusPreconditionRequired</span>         = <span style="color:#d19a66">428</span> <span style="color:#7f848e">// RFC 6585, 3
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusTooManyRequests</span>              = <span style="color:#d19a66">429</span> <span style="color:#7f848e">// RFC 6585, 4
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusRequestHeaderFieldsTooLarge</span>  = <span style="color:#d19a66">431</span> <span style="color:#7f848e">// RFC 6585, 5
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusUnavailableForLegalReasons</span>   = <span style="color:#d19a66">451</span> <span style="color:#7f848e">// RFC 7725, 3
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">StatusInternalServerError</span>           = <span style="color:#d19a66">500</span> <span style="color:#7f848e">// RFC 9110, 15.6.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusNotImplemented</span>                = <span style="color:#d19a66">501</span> <span style="color:#7f848e">// RFC 9110, 15.6.2
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusBadGateway</span>                    = <span style="color:#d19a66">502</span> <span style="color:#7f848e">// RFC 9110, 15.6.3
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusServiceUnavailable</span>            = <span style="color:#d19a66">503</span> <span style="color:#7f848e">// RFC 9110, 15.6.4
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusGatewayTimeout</span>                = <span style="color:#d19a66">504</span> <span style="color:#7f848e">// RFC 9110, 15.6.5
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusHTTPVersionNotSupported</span>       = <span style="color:#d19a66">505</span> <span style="color:#7f848e">// RFC 9110, 15.6.6
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusVariantAlsoNegotiates</span>         = <span style="color:#d19a66">506</span> <span style="color:#7f848e">// RFC 2295, 8.1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusInsufficientStorage</span>           = <span style="color:#d19a66">507</span> <span style="color:#7f848e">// RFC 4918, 11.5
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusLoopDetected</span>                  = <span style="color:#d19a66">508</span> <span style="color:#7f848e">// RFC 5842, 7.2
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusNotExtended</span>                   = <span style="color:#d19a66">510</span> <span style="color:#7f848e">// RFC 2774, 7
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusNetworkAuthenticationRequired</span> = <span style="color:#d19a66">511</span> <span style="color:#7f848e">// RFC 6585, 6
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	HTTP状态代码在IANA注册。请参见：<a href="https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml" target="_blank" rel="noopener">https://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml</a></p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=857" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> <span style="color:#e06c75">DefaultMaxHeaderBytes</span> = <span style="color:#d19a66">1</span> <span style="color:#56b6c2">&lt;&lt;</span> <span style="color:#d19a66">20</span> <span style="color:#7f848e">// 1 MB
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>​	DefaultMaxHeaderBytes是HTTP请求中标头的最大允许大小。这可以通过设置Server.MaxHeaderBytes来覆盖。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transport.go;l=58" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> <span style="color:#e06c75">DefaultMaxIdleConnsPerHost</span> = <span style="color:#d19a66">2</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DefaultMaxIdleConnsPerHost是Transport的MaxIdleConnsPerHost的默认值。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=934" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> <span style="color:#e06c75">TimeFormat</span> = <span style="color:#98c379">&#34;Mon, 02 Jan 2006 15:04:05 GMT&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	TimeFormat是生成HTTP标头中时间时要使用的时间格式。它类似于time.RFC1123，但将GMT硬编码为时区。要格式化的时间必须在UTC中，Format才能生成正确的格式。</p>
<p>For parsing this time format, see ParseTime.</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=513" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> <span style="color:#e06c75">TrailerPrefix</span> = <span style="color:#98c379">&#34;Trailer:&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	TrailerPrefix是ResponseWriter.Header映射键的魔术前缀，如果存在，则表示该映射条目实际上是响应trailer，而不是响应标头。 ServeHTTP调用完成后，将删除前缀并将值发送到trailers中。</p>
<p>​	该机制仅用于不在编写标头之前未知的trailers。如果trailers的集合是固定的或在编写标头之前已知，则首选常规的Go trailers机制：</p>
<pre tabindex="0"><code>https://pkg.go.dev/net/http#ResponseWriter
https://pkg.go.dev/net/http#example-ResponseWriter-Trailers
</code></pre><h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=51" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ErrNotSupported 表示不支持某一特性。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它由 ResponseController 方法返回，表示处理程序不支持该方法，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 并且由 Pusher 实现的 Push 方法返回，表示不支持 HTTP/2 推送功能。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrNotSupported</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">ProtocolError</span>{<span style="color:#98c379">&#34;feature not supported&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 已弃用：ErrUnexpectedTrailer 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 不再由 net/http 包中的任何内容返回。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 调用者不应将错误与此变量进行比较。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrUnexpectedTrailer</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">ProtocolError</span>{<span style="color:#98c379">&#34;trailer header without chunked transfer encoding&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 当请求的 Content-Type 不包含 &#34;boundary&#34; 参数时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Request.MultipartReader 将返回 ErrMissingBoundary。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrMissingBoundary</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">ProtocolError</span>{<span style="color:#98c379">&#34;no multipart boundary param in Content-Type&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 当请求的 Content-Type 不是 multipart/form-data 时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Request.MultipartReader 将返回 ErrNotMultipart。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrNotMultipart</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">ProtocolError</span>{<span style="color:#98c379">&#34;request Content-Type isn&#39;t multipart/form-data&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 已弃用：ErrHeaderTooLong 不再由 net/http 包中的任何内容返回。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 调用者不应将错误与此变量进行比较。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrHeaderTooLong</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">ProtocolError</span>{<span style="color:#98c379">&#34;header too long&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 已弃用：ErrShortBody 不再由 net/http 包中的任何内容返回。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 调用者不应将错误与此变量进行比较。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrShortBody</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">ProtocolError</span>{<span style="color:#98c379">&#34;entity body too short&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 已弃用：ErrMissingContentLength 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 不再由 net/http 包中的任何内容返回。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 调用者不应将错误与此变量进行比较。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrMissingContentLength</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">ProtocolError</span>{<span style="color:#98c379">&#34;missing ContentLength in HEAD response&#34;</span>}
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=37" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ErrBodyNotAllowed 在 ResponseWriter.Write 调用时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 当 HTTP 方法或响应状态码不允许 body 时返回。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrBodyNotAllowed</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: request method or response status code does not allow body&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ErrHijacked 在 ResponseWriter.Write 调用时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 当使用 Hijacker 接口劫持了底层连接时返回。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在劫持的连接上进行零字节写操作会返回 ErrHijacked，没有其他副作用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrHijacked</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: connection has been hijacked&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ErrContentLength 在 ResponseWriter.Write 调用时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 当处理程序设置了一个声明大小的 Content-Length 响应头
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并尝试写入比声明的更多字节时返回。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ErrContentLength</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: wrote more than the declared Content-Length&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Deprecated: ErrWriteAfterFlush 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 不再由 net/http 包中的任何内容返回。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 调用方不应将错误与此变量进行比较。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrWriteAfterFlush</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;unused&#34;</span>)
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	HTTP 服务器使用的错误。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=238" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ServerContextKey 是一个 context key。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 它可在 HTTP 处理程序中使用 Context.Value 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 来访问启动处理程序的服务器。相关的值的类型为 *Server。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ServerContextKey</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">contextKey</span>{<span style="color:#98c379">&#34;http-server&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// LocalAddrContextKey 是一个 context key。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 它可在 HTTP 处理程序中使用 Context.Value 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 来访问连接到达的本地地址。相关的值的类型为 net.Addr。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">LocalAddrContextKey</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">contextKey</span>{<span style="color:#98c379">&#34;local-addr&#34;</span>}
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=110" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">DefaultClient</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">Client</span>{}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DefaultClient 是默认的 Client，并被 Get、Head 和 Post 使用。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2322" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">DefaultServeMux</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">defaultServeMux</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DefaultServeMux 是 Serve 使用的默认 ServeMux。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=1826" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrAbortHandler</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;net/http: abort Handler&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ErrAbortHandler 是一个特殊的 panic 值，用于中止处理程序。虽然任何从 ServeHTTP 中发生的 panic 都会中止向客户端的响应，但是使用 ErrAbortHandler 发生 panic 还会阻止将堆栈跟踪记录到服务器的错误日志中。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transfer.go;l=823" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrBodyReadAfterClose</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: invalid Read on closed Body&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	当请求或响应主体关闭后继续读取主体时，返回 ErrBodyReadAfterClose。这通常发生在 HTTP 处理程序在其 ResponseWriter 上调用 WriteHeader 或 Write 后读取主体时。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3356" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrHandlerTimeout</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: Handler timeout&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	在处理超时的处理程序的 ResponseWriter Write 调用上返回 ErrHandlerTimeout。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transfer.go;l=29" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrLineTooLong</span> = <span style="color:#e06c75">internal</span>.<span style="color:#e06c75">ErrLineTooLong</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	当使用格式错误的分块编码读取请求或响应主体时返回 ErrLineTooLong。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=39" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrMissingFile</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: no such file&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	当请求中提供的文件字段名称不存在或不是文件字段时，由 FormFile 返回 ErrMissingFile。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=415" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrNoCookie</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: named cookie not present&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	当找不到 cookie 时，Request 的 Cookie 方法会返回 ErrNoCookie。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/response.go;l=131" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrNoLocation</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: no Location header in response&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	当响应中没有 Location 头时，Response 的 Location 方法会返回 ErrNoLocation。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3017" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrServerClosed</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;http: Server closed&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ErrServerClosed在Server的Serve、ServeTLS、ListenAndServe和ListenAndServeTLS方法调用Shutdown或Close后返回。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transport.go;l=741" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrSkipAltProtocol</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;net/http: skip alternate protocol&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ErrSkipAltProtocol是Transport.RegisterProtocol定义的标志性错误值。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=489" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrUseLastResponse</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;net/http: use last response&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	如果Client.CheckRedirect钩子返回ErrUseLastResponse，则可以控制如何处理重定向。 如果返回此值，则不会发送下一个请求，并使用其正文未关闭的最近响应返回。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/http.go;l=104" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">NoBody</span> = <span style="color:#e06c75">noBody</span>{}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NoBody是一个没有字节的io.ReadCloser。Read始终返回EOF，Close始终返回nil。 它可以在传出的客户端请求中使用，以显式地表示请求没有字节。 但是，另一种方法是将Request.Body设置为nil。</p>
<h2 id="函数">函数</h2>
<h4 id="func-canonicalheaderkeyhttpscsopensourcegooglegogogo1201srcnethttpheadergol240">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=240" target="_blank" rel="noopener">CanonicalHeaderKey</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">CanonicalHeaderKey</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CanonicalHeaderKey返回标头键s的规范格式。规范化将第一个字母和任何连字符后面的字母转换为大写字母；其余字母转换为小写字母。例如，&ldquo;accept-encoding&quot;的规范键是&quot;Accept-Encoding&rdquo;。如果s包含空格或无效的标头字段字节，则返回不带修改的s。</p>
<h4 id="func-detectcontenttypehttpscsopensourcegooglegogogo1201srcnethttpsniffgol21">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/sniff.go;l=21" target="_blank" rel="noopener">DetectContentType</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DetectContentType</span>(<span style="color:#e06c75">data</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DetectContentType实现在https://mimesniff.spec.whatwg.org/上描述的算法，以确定给定数据的Content-Type。它最多考虑前512个字节的数据。DetectContentType始终返回有效的MIME类型：如果无法确定更具体的类型，则返回&quot;application/octet-stream&quot;。</p>
<h4 id="func-errorhttpscsopensourcegooglegogogo1201srcnethttpservergol2131">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2131" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Error</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e5c07b">error</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">code</span> <span style="color:#e5c07b">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Error使用指定的错误消息和HTTP代码回复请求。它不会以其他方式结束请求；调用者应确保不会对w进行进一步的写入。错误消息应为纯文本。</p>
<h4 id="func-handlehttpscsopensourcegooglegogogo1201srcnethttpservergol2559">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2559" target="_blank" rel="noopener">Handle</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#e06c75">pattern</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">handler</span> <span style="color:#e06c75">Handler</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Handle 在 DefaultServeMux 中为给定的 pattern 注册 handler。ServeMux 的文档解释了如何匹配 pattern。</p>
<h5 id="handle-example">Handle Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;sync&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">countHandler</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">mu</span> <span style="color:#e06c75">sync</span>.<span style="color:#e06c75">Mutex</span> <span style="color:#7f848e">// guards n
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">n</span>  <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">countHandler</span>) <span style="color:#61afef;font-weight:bold">ServeHTTP</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">h</span>.<span style="color:#e06c75">mu</span>.<span style="color:#61afef;font-weight:bold">Lock</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">defer</span> <span style="color:#e06c75">h</span>.<span style="color:#e06c75">mu</span>.<span style="color:#61afef;font-weight:bold">Unlock</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">h</span>.<span style="color:#e06c75">n</span><span style="color:#56b6c2">++</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Fprintf</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;count is %d\n&#34;</span>, <span style="color:#e06c75">h</span>.<span style="color:#e06c75">n</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#98c379">&#34;/count&#34;</span>, <span style="color:#e5c07b">new</span>(<span style="color:#e06c75">countHandler</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">ListenAndServe</span>(<span style="color:#98c379">&#34;:8080&#34;</span>, <span style="color:#e5c07b">nil</span>))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-handlefunchttpscsopensourcegooglegogogo1201srcnethttpservergol2564">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2564" target="_blank" rel="noopener">HandleFunc</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#e06c75">pattern</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">handler</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>))
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	HandleFunc 在 DefaultServeMux 中为给定的 pattern 注册 handler function。ServeMux 的文档解释了如何匹配 pattern。</p>
<h5 id="handlefunc-example">HandleFunc Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">h1</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">_</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">WriteString</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;Hello from a HandleFunc #1!\n&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">h2</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">_</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">WriteString</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;Hello from a HandleFunc #2!\n&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#98c379">&#34;/&#34;</span>, <span style="color:#e06c75">h1</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#98c379">&#34;/endpoint&#34;</span>, <span style="color:#e06c75">h2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">ListenAndServe</span>(<span style="color:#98c379">&#34;:8080&#34;</span>, <span style="color:#e5c07b">nil</span>))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-listenandservehttpscsopensourcegooglegogogo1201srcnethttpservergol3240">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3240" target="_blank" rel="noopener">ListenAndServe</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenAndServe</span>(<span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">handler</span> <span style="color:#e06c75">Handler</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenAndServe 监听 TCP 网络地址 addr，并在传入连接上调用 Serve 以处理请求。已接受的连接已配置为启用 TCP keep-alives。</p>
<p>​	通常 handler 是 nil，在这种情况下会使用 DefaultServeMux。</p>
<p>​	ListenAndServe 总是返回非 nil 错误。</p>
<h5 id="listenandserve-example">ListenAndServe Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Hello world, the web server
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">helloHandler</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">WriteString</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;Hello, world!\n&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#98c379">&#34;/hello&#34;</span>, <span style="color:#e06c75">helloHandler</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">ListenAndServe</span>(<span style="color:#98c379">&#34;:8080&#34;</span>, <span style="color:#e5c07b">nil</span>))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-listenandservetlshttpscsopensourcegooglegogogo1201srcnethttpservergol3250">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3250" target="_blank" rel="noopener">ListenAndServeTLS</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenAndServeTLS</span>(<span style="color:#e06c75">addr</span>, <span style="color:#e06c75">certFile</span>, <span style="color:#e06c75">keyFile</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">handler</span> <span style="color:#e06c75">Handler</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenAndServeTLS 的行为与 ListenAndServe 相同，除了它预期 HTTPS 连接。另外，必须提供包含服务器证书和匹配私钥的文件。如果证书由证书颁发机构签署，则 certFile 应该是服务器证书、任何中间文件以及 CA 的证书的连接。</p>
<h5 id="listenandservetls-example">ListenAndServeTLS Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#98c379">&#34;/&#34;</span>, <span style="color:#c678dd">func</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">WriteString</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;Hello, TLS!\n&#34;</span>)
</span></span><span style="display:flex;"><span>	})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// One can use generate_cert.go in crypto/tls to generate cert.pem and key.pem.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;About to listen on 8443. Go to https://127.0.0.1:8443/&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">ListenAndServeTLS</span>(<span style="color:#98c379">&#34;:8443&#34;</span>, <span style="color:#98c379">&#34;cert.pem&#34;</span>, <span style="color:#98c379">&#34;key.pem&#34;</span>, <span style="color:#e5c07b">nil</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-maxbytesreaderhttpscsopensourcegooglegogogo1201srcnethttprequestgol1141">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1141" target="_blank" rel="noopener">MaxBytesReader</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MaxBytesReader</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadCloser</span>, <span style="color:#e06c75">n</span> <span style="color:#e5c07b">int64</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadCloser</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MaxBytesReader 类似于 io.LimitReader，但旨在限制传入请求主体的大小。与 io.LimitReader 不同，MaxBytesReader 的结果是一个 ReadCloser，在超出限制的情况下返回类型为 *MaxBytesError 的非 nil 错误，并在调用其 Close 方法时关闭底层读取器。</p>
<p>​	MaxBytesReader 防止客户端意外或恶意发送大型请求并浪费服务器资源。如果可能，它会告诉 ResponseWriter 在达到限制后关闭连接。</p>
<h4 id="func-notfoundhttpscsopensourcegooglegogogo1201srcnethttpservergol2139">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2139" target="_blank" rel="noopener">NotFound</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NotFound</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NotFound 函数返回一个 HTTP 404 错误响应。</p>
<h4 id="func-parsehttpversionhttpscsopensourcegooglegogogo1201srcnethttprequestgol794">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=794" target="_blank" rel="noopener">ParseHTTPVersion</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseHTTPVersion</span>(<span style="color:#e06c75">vers</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">major</span>, <span style="color:#e06c75">minor</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">ok</span> <span style="color:#e5c07b">bool</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ParseHTTPVersion 函数按照 <a href="https://rfc-editor.org/rfc/rfc7230.html#section-2.6" target="_blank" rel="noopener">RFC 7230 第 2.6 节</a>解析 HTTP 版本字符串。例如 &ldquo;HTTP/1.0&rdquo; 会返回 (1, 0, true)。请注意，不带次要版本号的字符串，例如 &ldquo;HTTP/2&rdquo;，是无效的。</p>
<h4 id="func-parsetimehttpscsopensourcegooglegogogo1201srcnethttpheadergol129----go11">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=129" target="_blank" rel="noopener">ParseTime</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseTime</span>(<span style="color:#e06c75">text</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ParseTime 函数解析时间头(如 Date 头)，尝试 HTTP/1.1 所允许的三种格式：TimeFormat、time.RFC850 和 time.ANSIC。</p>
<h4 id="func-proxyfromenvironmenthttpscsopensourcegooglegogogo1201srcnethttptransportgol447">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transport.go;l=447" target="_blank" rel="noopener">ProxyFromEnvironment</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ProxyFromEnvironment</span>(<span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ProxyFromEnvironment 函数返回给定请求使用的代理 URL，该 URL 由环境变量 HTTP_PROXY、HTTPS_PROXY 和 NO_PROXY(或它们的小写形式)指示。请求使用与其方案匹配的环境变量中的代理，除非被 NO_PROXY 排除。</p>
<p>​	环境变量的值可以是完整的 URL，也可以是 &ldquo;host[:port]&rdquo; 形式，在这种情况下会假定为 &ldquo;http&rdquo; 方案。支持 &ldquo;http&rdquo;、&ldquo;https&rdquo; 和 &ldquo;socks5&rdquo; 方案。如果值是其他形式，则返回错误。</p>
<p>​	如果环境中没有定义代理，或者请求不应使用代理，则返回 nil URL 和 nil 错误。</p>
<p>​	作为特例，如果 req.URL.Host 是 &ldquo;localhost&rdquo;(带或不带端口号)，则会返回 nil URL 和 nil 错误。</p>
<h4 id="func-proxyurlhttpscsopensourcegooglegogogo1201srcnethttptransportgol453">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transport.go;l=453" target="_blank" rel="noopener">ProxyURL</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ProxyURL</span>(<span style="color:#e06c75">fixedURL</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>) <span style="color:#c678dd">func</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ProxyURL 函数返回一个代理函数(供 Transport 使用)，该函数始终返回相同的 URL。</p>
<h4 id="func-redirecthttpscsopensourcegooglegogogo1201srcnethttpservergol2182">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2182" target="_blank" rel="noopener">Redirect</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Redirect</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">code</span> <span style="color:#e5c07b">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Redirect 函数将请求重定向到 url，url 可以是相对于请求路径的路径。</p>
<p>​	提供的 code 应该在 3xx 范围内，通常为 StatusMovedPermanently、StatusFound 或 StatusSeeOther。</p>
<p>​	如果尚未设置 Content-Type 标头，则 Redirect 函数会将其设置为 &ldquo;text/html; charset=utf-8&rdquo; 并写入小的 HTML 主体。设置 Content-Type 标头为任何值(包括 nil)都会禁用该行为。</p>
<h4 id="func-servehttpscsopensourcegooglegogogo1201srcnethttpservergol2579">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2579" target="_blank" rel="noopener">Serve</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Serve</span>(<span style="color:#e06c75">l</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>, <span style="color:#e06c75">handler</span> <span style="color:#e06c75">Handler</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Serve 函数在监听器 l 上接受传入的 HTTP 连接，为每个连接创建一个新的服务协程。服务协程读取请求，然后调用 handler 进行响应。</p>
<p>​	handler 通常为 nil，此时会使用 DefaultServeMux。</p>
<p>​	只有当 Listener 返回 <code>*tls.Conn</code> 连接且它们在 TLS Config.NextProtos 中配置为 &ldquo;h2&rdquo; 时，才启用 HTTP/2 支持。</p>
<p>​	Serve 函数始终返回非 nil 错误。</p>
<h4 id="func-servecontenthttpscsopensourcegooglegogogo1201srcnethttpfsgol194">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fs.go;l=194" target="_blank" rel="noopener">ServeContent</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ServeContent</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">modtime</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>, <span style="color:#e06c75">content</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadSeeker</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ServeContent 使用 io.ReadSeeker 中提供的内容回复请求。ServeContent 相对于 io.Copy 的主要好处在于正确处理范围请求、设置 MIME 类型以及处理 If-Match、If-Unmodified-Since、If-None-Match、If-Modified-Since 和 If-Range 请求。</p>
<p>​	如果响应的 Content-Type 头未设置，ServeContent 首先尝试从 name 的文件扩展名推断类型，如果失败，则返回到读取内容的第一个块并将其传递给 DetectContentType。否则，不使用 name；特别地，它可以为空，并且永远不会在响应中发送。</p>
<p>​	如果 modtime 不是零时间或 Unix 纪元，则 ServeContent 在响应中包括一个 Last-Modified 头。如果请求包括一个 If-Modified-Since 头，则 ServeContent 使用 modtime 来决定是否需要发送内容。</p>
<p>​	内容的 Seek 方法必须工作：ServeContent 使用 seek 到内容的末尾以确定其大小。</p>
<p>​	如果调用方按 <a href="https://rfc-editor.org/rfc/rfc7232.html#section-2.3" target="_blank" rel="noopener">RFC 7232，第 2.3 节</a>格式化了 w 的 ETag 头，则 ServeContent 使用它来处理使用 If-Match、If-None-Match 或 If-Range 的请求。</p>
<p>​	请注意，<code>*os.File</code> 实现了 io.ReadSeeker 接口。</p>
<h4 id="func-servefilehttpscsopensourcegooglegogogo1201srcnethttpfsgol730">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fs.go;l=730" target="_blank" rel="noopener">ServeFile</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ServeFile</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ServeFile 用指定的文件或目录的内容回复请求。</p>
<p>​	如果提供的文件或目录名是相对路径，则相对于当前目录进行解释，可能升到父目录。如果提供的名称由用户输入构造，则在调用 ServeFile 之前应进行清理。</p>
<p>​	作为一项预防措施，ServeFile 将拒绝 r.URL.Path 包含 &ldquo;..&rdquo; 路径元素的请求；这可保护免受可能会不安全地对 r.URL.Path 使用 filepath.Join 而未对其进行清理的调用者的侵害，并使用 filepath.Join 结果作为名称参数。</p>
<p>​	作为另一个特殊情况，ServeFile 将任何以 &ldquo;/index.html&rdquo; 结尾的 r.URL.Path 的请求重定向到相同的路径，不包括最后的 &ldquo;index.html&rdquo;。为避免此类重定向，请修改路径或使用 ServeContent。</p>
<p>​	除了这两个特殊情况外，ServeFile 不使用 r.URL.Path 来选择要提供的文件或目录；只使用名称参数中提供的文件或目录。</p>
<h4 id="func-servetlshttpscsopensourcegooglegogogo1201srcnethttpservergol2596----go19">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2596" target="_blank" rel="noopener">ServeTLS</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ServeTLS</span>(<span style="color:#e06c75">l</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>, <span style="color:#e06c75">handler</span> <span style="color:#e06c75">Handler</span>, <span style="color:#e06c75">certFile</span>, <span style="color:#e06c75">keyFile</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ServeTLS 函数在监听器 l 上接受传入的 HTTPS 连接，为每个连接创建一个新的服务协程。服务协程读取请求，然后调用处理程序来回复请求。</p>
<p>​	处理程序通常为 nil，此时将使用 DefaultServeMux。</p>
<p>​	另外，必须提供包含服务器证书和匹配的私钥的文件。如果证书由证书颁发机构签名，则 certFile 应该是服务器证书、任何中间证书和 CA 证书的连接。</p>
<p>​	ServeTLS 函数总是返回非 nil 的错误。</p>
<h4 id="func-setcookiehttpscsopensourcegooglegogogo1201srcnethttpcookiegol169">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookie.go;l=169" target="_blank" rel="noopener">SetCookie</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">SetCookie</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">cookie</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetCookie 函数将 Set-Cookie 头添加到提供的 ResponseWriter 的头中。提供的 cookie 必须有一个有效的名称。无效的 cookie 可能会被静默丢弃。</p>
<h4 id="func-statustexthttpscsopensourcegooglegogogo1201srcnethttpstatusgol81">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/status.go;l=81" target="_blank" rel="noopener">StatusText</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">StatusText</span>(<span style="color:#e06c75">code</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	StatusText 函数返回 HTTP 状态码的文本。如果状态码未知，则返回空字符串。</p>
<h2 id="类型">类型</h2>
<h3 id="type-clienthttpscsopensourcegooglegogogo1201srcnethttpclientgol58">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=58" target="_blank" rel="noopener">Client</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Client</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Transport 指定单个 HTTP 请求的执行机制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为 nil，则使用 DefaultTransport。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Transport</span> <span style="color:#e06c75">RoundTripper</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// CheckRedirect 指定处理重定向的策略。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果 CheckRedirect 不为 nil，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则客户端在跟随 HTTP 重定向之前调用它。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 参数 req 和 via 分别是即将到来的请求和已经发出的请求，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 最旧的请求在最前面。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果 CheckRedirect 返回一个错误，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则 Get 方法返回之前的 Response(其 Body 已关闭)和 	
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// CheckRedirect 的错误(封装在 url.Error 中)，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 而不是发出请求 req。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 作为特殊情况，如果 CheckRedirect 返回 ErrUseLastResponse，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则返回最近的 Response，并保持其 Body 未关闭，同时返回空错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果 CheckRedirect 为 nil，则客户端使用其默认策略，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 即在连续 10 次请求后停止。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">CheckRedirect</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e06c75">via</span> []<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Jar 指定 cookie 存储。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Jar 用于在每个出站请求中插入相关的 cookies，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并使用每个入站 Response 的 cookie 值进行更新。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Jar 用于处理客户端跟随的每个重定向。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果 Jar 为 nil，则仅在请求上显式设置了 cookie 时才发送它们。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Jar</span> <span style="color:#e06c75">CookieJar</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Timeout 指定此客户端发出的请求的时间限制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 超时包括连接时间、任何重定向和读取响应正文。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 定时器在 Get、Head、Post 或 Do 返回之后仍在运行，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并将中断读取 Response.Body。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Timeout 为零表示没有超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如同请求的 Context 结束一样，客户端会取消底层传输的请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 为了兼容性，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 Transport 中找到了废弃的 CancelRequest 方法，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则客户端也会使用它。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 新的 RoundTripper 实现应使用请求的 Context 进行取消，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 而不是实现 CancelRequest。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Timeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	一个 Client 是一个 HTTP 客户端。它的零值(DefaultClient)是一个可用的客户端，它使用 DefaultTransport。</p>
<p>​	Client 的 Transport 通常具有内部状态(缓存的 TCP 连接)，因此应该重复使用 Client，而不是按需创建。Client 可以被多个 goroutine 并发使用。</p>
<p>​	Client 比 RoundTripper(如 Transport)更高级，还处理诸如 cookie 和重定向之类的 HTTP 细节。</p>
<p>​	在遵循重定向时，Client 将转发在初始请求上设置的所有标头，但除了以下情况：</p>
<ul>
<li>
<p>将敏感标头(例如&quot;Authorization&quot;、&ldquo;WWW-Authenticate&quot;和&quot;Cookie&rdquo;)转发到不受信任的目标时。在重定向到与初始域不是子域匹配或精确匹配的域时，将忽略这些标头。例如，从&quot;foo.com&quot;重定向到&quot;foo.com&quot;或&quot;sub.foo.com&quot;将转发敏感标头，但是重定向到&quot;bar.com&quot;将不会。</p>
</li>
<li>
<p>使用非空 cookie Jar 转发&quot;Cookie&quot;标头时。由于每个重定向可能会更改 cookie jar 的状态，重定向可能会更改在初始请求中设置的 cookie。在转发&quot;Cookie&quot;标头时，任何已更改的 cookie 都将被省略，预期 Jar 将使用更新后的值插入这些已更改的 cookie(假设原点匹配)。如果 Jar 为 nil，则初始 cookie 会不加更改地转发。</p>
</li>
</ul>
<h4 id="client-closeidleconnectionshttpscsopensourcegooglegogogo1201srcnethttpclientgol935----go112">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=935" target="_blank" rel="noopener">CloseIdleConnections</a>  &lt;- go1.12</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">CloseIdleConnections</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CloseIdleConnections 关闭 Transport 上任何连接，这些连接先前从先前的请求连接，但现在处于&quot;keep-alive&quot;状态。它不会中断当前正在使用的任何连接。</p>
<p>​	如果 Client 的 Transport 没有 CloseIdleConnections 方法，则此方法不执行任何操作。</p>
<h4 id="client-dohttpscsopensourcegooglegogogo1201srcnethttpclientgol581">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=581" target="_blank" rel="noopener">Do</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Do</span>(<span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Do 发送 HTTP 请求并返回 HTTP 响应，遵循客户端配置的策略(例如重定向、cookie、身份验证)。</p>
<p>​	如果由客户端策略(例如 CheckRedirect)或无法进行 HTTP 通信(例如网络连接问题)导致错误，则返回错误。非 2xx 状态代码不会导致错误。</p>
<p>​	如果返回的错误是 nil，那么 Response 将包含一个非 nil 的 Body，用户应该在读取完后关闭它。如果 Body 没有读取到 EOF 并且关闭，Client 的底层 RoundTripper(通常是 Transport)可能无法重用持久的 TCP 连接，用于后续的 &ldquo;keep-alive&rdquo; 请求。</p>
<p>​	如果请求的 Body 非 nil，则在底层的 Transport 上即使发生错误，也会关闭它。</p>
<p>​	在出现错误时，可以忽略任何 Response。当 CheckRedirect 失败时，非 nil 的 Response 和非 nil 的 error 仅会出现一次。即使出现这种情况，返回的 Response.Body 也已经关闭。</p>
<p>​	通常会使用 Get、Post 或 PostForm 而不是 Do。</p>
<p>​	如果服务器回复重定向，则客户端首先使用 CheckRedirect 函数来确定是否应该跟随重定向。如果被允许，则 301、302 或 303 重定向会导致后续请求使用 HTTP 方法 GET(或 HEAD，如果原始请求是 HEAD)，而不使用 Body。307 或 308 重定向会保留原始的 HTTP 方法和 Body，前提是定义了 Request.GetBody 函数。NewRequest 函数会自动为常见的标准库 Body 类型设置 GetBody。</p>
<p>​	任何返回的错误都将是 <code>*url.Error</code> 类型。url.Error 值的 Timeout 方法将在请求超时时报告 true。</p>
<h4 id="client-gethttpscsopensourcegooglegogogo1201srcnethttpclientgol475">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=475" target="_blank" rel="noopener">Get</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Get</span>(<span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Get 向指定的 URL 发送一个 GET 请求。如果响应是以下重定向代码之一，则 Get 在调用 Client 的 CheckRedirect 函数后跟随重定向：</p>
<pre tabindex="0"><code>301 (Moved Permanently)(永久移动)
302 (Found)(找到)
303 (See Other)(参见其他)
307 (Temporary Redirect)(临时重定向)
308 (Permanent Redirect)(永久重定向)
</code></pre><p>​	如果 Client 的 CheckRedirect 函数失败或存在 HTTP 协议错误，则返回错误。非 2xx 响应不会导致错误。任何返回的错误都将是 <code>*url.Error</code> 类型。url.Error 值的 Timeout 方法将在请求超时时报告 true。</p>
<p>​	当 err 为 nil 时，resp 总是包含一个非 nil 的 resp.Body。在读取完它后，调用者应该关闭 resp.Body。</p>
<p>​	要使用自定义标头发出请求，请使用 NewRequest 和 Client.Do。</p>
<p>​	要使用指定的 context.Context 发出请求，请使用 NewRequestWithContext 和 Client.Do。</p>
<h4 id="client-headhttpscsopensourcegooglegogogo1201srcnethttpclientgol920">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=920" target="_blank" rel="noopener">Head</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Head</span>(<span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Head 向指定的 URL 发出一个 HEAD 请求。如果响应是以下重定向代码之一，则在调用 Client 的 CheckRedirect 函数后，Head 跟随重定向：</p>
<pre tabindex="0"><code>301 (Moved Permanently)(永久移动)
302 (Found)(找到)
303 (See Other)(参见其他)
307 (Temporary Redirect)(临时重定向)
308 (Permanent Redirect)(永久重定向)
</code></pre><p>​	使用NewRequestWithContext和Client.Do可以指定context.Context进行请求。</p>
<h4 id="client-posthttpscsopensourcegooglegogogo1201srcnethttpclientgol843">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=843" target="_blank" rel="noopener">Post</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Post</span>(<span style="color:#e06c75">url</span>, <span style="color:#e06c75">contentType</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">body</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) (<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Post向指定的URL发出POST请求。</p>
<p>​	调用者在完成读取后应关闭resp.Body。</p>
<p>​	如果提供的body是io.Closer，则在请求后关闭它。</p>
<p>​	要设置自定义标头，请使用NewRequest和Client.Do。</p>
<p>​	要使用指定的context.Context进行请求，请使用NewRequestWithContext和Client.Do。</p>
<p>​	有关如何处理重定向的详细信息，请参阅Client.Do方法文档。</p>
<h4 id="client-postformhttpscsopensourcegooglegogogo1201srcnethttpclientgol886">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=886" target="_blank" rel="noopener">PostForm</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">PostForm</span>(<span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">data</span> <span style="color:#e06c75">url</span>.<span style="color:#e06c75">Values</span>) (<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	PostForm将数据的键和值作为请求正文进行URL编码，并向指定的URL发出POST请求。</p>
<p>​	Content-Type标头设置为application/x-www-form-urlencoded。要设置其他标头，请使用NewRequest和Client.Do。</p>
<p>​	当err为nil时，resp始终包含非nil resp.Body。完成读取后，调用者应关闭resp.Body。</p>
<p>​	有关如何处理重定向的详细信息，请参阅Client.Do方法文档。</p>
<p>​	要使用指定的context.Context进行请求，请使用NewRequestWithContext和Client.Do。</p>
<h3 id="type-connstatehttpscsopensourcegooglegogogo1201srcnethttpservergol2859----go13">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2859" target="_blank" rel="noopener">ConnState</a>  &lt;- go1.3</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ConnState</span> <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ConnState表示与服务器的客户端连接状态。它由可选的Server.ConnState钩子使用。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// StateNew 表示一个新的连接，该连接预计会立即发送请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 连接从此状态开始，然后转换为 StateActive 或 StateClosed。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StateNew</span> <span style="color:#e06c75">ConnState</span> = <span style="color:#e5c07b">iota</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// StateActive 表示已读取一个或多个请求字节的连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于 StateActive 的 Server.ConnState 钩子
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 会在请求进入处理程序之前触发，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 然后在请求被处理之前不再触发。请求处理完成后，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 状态转换为 StateClosed、StateHijacked 或 StateIdle。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于 HTTP/2，StateActive 在从零到一个活动请求的转换时触发，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并且仅在所有活动请求完成后再次转换。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 这意味着 ConnState 不能用于执行每个请求的工作；
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// ConnState 只记录连接的整体状态。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StateActive</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// StateIdle 表示已完成请求处理并处于保持活动状态的连接，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 等待新的请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 连接从 StateIdle 转换为 StateActive 或 StateClosed。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StateIdle</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// StateHijacked 表示被劫持的连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 这是一个终止状态。它不会转换为 StateClosed。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StateHijacked</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// StateClosed 表示已关闭的连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 这是一个终止状态。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 被劫持的连接不会转换为 StateClosed。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StateClosed</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="connstate-stringhttpscsopensourcegooglegogogo1201srcnethttpservergol2905----go13">(ConnState) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2905" target="_blank" rel="noopener">String</a>  &lt;- go1.3</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#e06c75">ConnState</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-cookiehttpscsopensourcegooglegogogo1201srcnethttpcookiegol23">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookie.go;l=23" target="_blank" rel="noopener">Cookie</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Cookie</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span>  <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Value</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Path</span>       <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// 可选
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Domain</span>     <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// 可选
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Expires</span>    <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span> <span style="color:#7f848e">// 可选
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">RawExpires</span> <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// 仅用于读取cookie
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// MaxAge=0 表示没有指定&#34;Max-Age&#34;属性。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// MaxAge&lt;0 表示立即删除 cookie，相当于&#34;Max-Age: 0&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// MaxAge&gt;0 表示指定了以秒为单位的&#34;Max-Age&#34;属性
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MaxAge</span>   <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Secure</span>   <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">HttpOnly</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">SameSite</span> <span style="color:#e06c75">SameSite</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Raw</span>      <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Unparsed</span> []<span style="color:#e5c07b">string</span> <span style="color:#7f848e">// 未解析的属性-值对的原始文本
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Cookie 表示 HTTP cookie，其在 HTTP 响应的 Set-Cookie 标头或 HTTP 请求的 Cookie 标头中发送。</p>
<p>​	详见<a href="https://tools.ietf.org/html/rfc6265" target="_blank" rel="noopener">https://tools.ietf.org/html/rfc6265</a>。</p>
<h4 id="cookie-stringhttpscsopensourcegooglegogogo1201srcnethttpcookiegol179">(*Cookie) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookie.go;l=179" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	String 返回 cookie 的序列化字符串，以用于 Cookie 标头(如果仅设置了 Name 和 Value)或 Set-Cookie 响应标头(如果设置了其他字段)。如果 c 为 nil 或 c.Name 无效，则返回空字符串。</p>
<h4 id="cookie-validhttpscsopensourcegooglegogogo1201srcnethttpcookiegol243----go118">(*Cookie) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookie.go;l=243" target="_blank" rel="noopener">Valid</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>) <span style="color:#61afef;font-weight:bold">Valid</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Valid 函数用于判断 cookie 是否有效。</p>
<h3 id="type-cookiejarhttpscsopensourcegooglegogogo1201srcnethttpjargol17">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/jar.go;l=17" target="_blank" rel="noopener">CookieJar</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">CookieJar</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// SetCookies 处理收到的回复中的 cookie。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 根据 jar 的策略和实现，它可能会选择保存 cookie。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">SetCookies</span>(<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>, <span style="color:#e06c75">cookies</span> []<span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Cookies 返回指定 URL 的请求中应发送的 cookie。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 实现必须遵守 RFC 6265 等标准 cookie 使用限制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Cookies</span>(<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>) []<span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CookieJar 管理 HTTP 请求中的 cookie 的存储和使用。</p>
<p>​	CookieJar 的实现必须支持多 goroutine 并发使用。</p>
<p>​	net/http/cookiejar 包提供了 CookieJar 的实现。</p>
<h3 id="type-dirhttpscsopensourcegooglegogogo1201srcnethttpfsgol44">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fs.go;l=44" target="_blank" rel="noopener">Dir</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Dir</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Dir 类型使用本地文件系统来实现 FileSystem 接口，且仅限于特定的目录树。</p>
<p>​	尽管 FileSystem.Open 方法接收以 / 分隔的路径，但 Dir 的 string 值是本地文件系统上的文件名，而不是 URL，因此它由 filepath.Separator 分隔，不一定是 <code>/</code>。</p>
<p>​	请注意，Dir 可能会暴露敏感文件和目录。Dir 将遵循指向目录树之外的符号链接，如果从用户可以创建任意符号链接的目录提供服务，这可能会特别危险。Dir 还将允许访问以句点开头的文件和目录，这可能会暴露像 .git 这样的敏感目录或像 <code>.htpasswd</code> 这样的敏感文件。要排除以句点开头的文件，请从服务器删除这些文件/目录，或者创建自定义 FileSystem 实现。</p>
<p>​	一个空的 Dir 被视为 &ldquo;<code>.</code>&quot;。</p>
<h4 id="dir-openhttpscsopensourcegooglegogogo1201srcnethttpfsgol72">(Dir) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fs.go;l=72" target="_blank" rel="noopener">Open</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#e06c75">Dir</span>) <span style="color:#61afef;font-weight:bold">Open</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">File</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Open 实现 FileSystem 接口，使用 os.Open 打开文件进行读取，根据目录 d 来确定其路径。</p>
<h3 id="type-filehttpscsopensourcegooglegogogo1201srcnethttpfsgol104">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fs.go;l=104" target="_blank" rel="noopener">File</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">File</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">io</span>.<span style="color:#e06c75">Closer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">io</span>.<span style="color:#e06c75">Seeker</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Readdir</span>(<span style="color:#e06c75">count</span> <span style="color:#e5c07b">int</span>) ([]<span style="color:#e06c75">fs</span>.<span style="color:#e06c75">FileInfo</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Stat</span>() (<span style="color:#e06c75">fs</span>.<span style="color:#e06c75">FileInfo</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	该接口的 Open 方法返回一个 File，可由 FileServer 实现进行服务。</p>
<p>​	该接口的方法应与 <code>*os.File</code> 上的方法表现相同。</p>
<h3 id="type-filesystemhttpscsopensourcegooglegogogo1201srcnethttpfsgol96">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fs.go;l=96" target="_blank" rel="noopener">FileSystem</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">FileSystem</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Open</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">File</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	FileSystem 实现对命名文件集合的访问。文件路径中的元素使用斜杠(&rsquo;/&rsquo;，U+002F)字符分隔，而不管主机操作系统惯例如何。请参见 FileServer 函数，将 FileSystem 转换为处理程序。</p>
<p>​	该接口早于 fs.FS 接口，可以使用 fs.FS 代替：FS 适配器函数将 fs.FS 转换为 FileSystem。</p>
<h4 id="func-fshttpscsopensourcegooglegogogo1201srcnethttpfsgol837----go116">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fs.go;l=837" target="_blank" rel="noopener">FS</a>  &lt;- go1.16</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">FS</span>(<span style="color:#e06c75">fsys</span> <span style="color:#e06c75">fs</span>.<span style="color:#e06c75">FS</span>) <span style="color:#e06c75">FileSystem</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	FS 将 fsys 转换为 FileSystem 实现，供 FileServer 和 NewFileTransport 使用。由 fsys 提供的文件必须实现 io.Seeker。</p>
<h3 id="type-flusherhttpscsopensourcegooglegogogo1201srcnethttpservergol173">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=173" target="_blank" rel="noopener">Flusher</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Flusher</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Flush sends any buffered data to the client.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Flush</span>()
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Flusher 接口由 ResponseWriter 实现，允许 HTTP 处理程序将缓冲的数据刷新到客户端。</p>
<p>​	默认的 HTTP/1.x 和 HTTP/2 ResponseWriter 实现支持 Flusher，但 ResponseWriter 包装器可能不支持。处理程序应始终在运行时测试此功能。</p>
<p>​	请注意，即使对于支持 Flush 的 ResponseWriter，如果客户端通过 HTTP 代理连接，则缓冲的数据可能要等到响应完成后才能到达客户端。</p>
<h3 id="type-handlerhttpscsopensourcegooglegogogo1201srcnethttpservergol86">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=86" target="_blank" rel="noopener">Handler</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Handler</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">ServeHTTP</span>(<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Handler 响应 HTTP 请求。</p>
<p>​	ServeHTTP 应将响应标头和数据写入 ResponseWriter，然后返回。返回信号表示请求已完成；在完成 ServeHTTP 调用之后或与之同时使用 ResponseWriter 或从 Request.Body 中读取是无效的。</p>
<p>​	根据HTTP客户端软件、HTTP协议版本以及客户端和Go服务器之间的任何中介，可能无法在写入ResponseWriter之后从Request.Body中读取。谨慎的处理程序应该先读取Request.Body，然后再回复。</p>
<p>​	除了读取body外，处理程序不应修改提供的Request。</p>
<p>​	如果ServeHTTP恐慌，服务器(ServeHTTP的调用者)假定恐慌的影响仅限于活动请求。它会恢复panic，将堆栈跟踪记录到服务器错误日志，并关闭网络连接或发送HTTP/2 RST_STREAM，具体取决于HTTP协议。为了中止处理程序，以便客户端看到中断的响应但服务器不记录错误，请使用值为ErrAbortHandler的panic。</p>
<h4 id="func-allowquerysemicolonshttpscsopensourcegooglegogogo1201srcnethttpservergol2950----go117">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2950" target="_blank" rel="noopener">AllowQuerySemicolons</a>  &lt;- go1.17</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">AllowQuerySemicolons</span>(<span style="color:#e06c75">h</span> <span style="color:#e06c75">Handler</span>) <span style="color:#e06c75">Handler</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	AllowQuerySemicolons返回一个处理程序，它通过将URL查询中的任何未转义分号转换为&rdquo;&amp;&ldquo;并调用处理程序h来为请求提供服务。</p>
<p>​	这恢复了分割查询参数的分号和&rdquo;&amp;&ldquo;的Go 1.17之前的行为。(请参阅golang.org/issue/25192)。请注意，此行为与许多代理的行为不匹配，不匹配可能导致安全问题。</p>
<p>​	在调用Request.ParseForm之前，应调用AllowQuerySemicolons。</p>
<h4 id="func-fileserverhttpscsopensourcegooglegogogo1201srcnethttpfsgol856">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/fs.go;l=856" target="_blank" rel="noopener">FileServer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">FileServer</span>(<span style="color:#e06c75">root</span> <span style="color:#e06c75">FileSystem</span>) <span style="color:#e06c75">Handler</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	FileServer返回一个处理程序，它使用以root为根的文件系统的内容为HTTP请求提供服务。</p>
<p>​	作为一个特殊情况，返回的文件服务器将以&rdquo;/index.html&quot;结尾的任何请求重定向到相同的路径，而不包括最后的&quot;index.html&quot;。</p>
<p>​	要使用操作系统的文件系统实现，请使用http.Dir：</p>
<pre tabindex="0"><code>http.Handle(&#34;/&#34;, http.FileServer(http.Dir(&#34;/tmp&#34;)))
</code></pre><p>​	要使用fs.FS实现，请使用http.FS将其转换：</p>
<pre tabindex="0"><code>http.Handle(&#34;/&#34;, http.FileServer(http.FS(fsys)))
</code></pre><h5 id="fileserver-example">FileServer Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Simple static webserver:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">ListenAndServe</span>(<span style="color:#98c379">&#34;:8080&#34;</span>, <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">FileServer</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Dir</span>(<span style="color:#98c379">&#34;/usr/share/doc&#34;</span>))))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="fileserver-example-dotfilehiding">FileServer Example (DotFileHiding)</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io/fs&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;strings&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// containsDotFile reports whether name contains a path element starting with a period.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// The name is assumed to be a delimited by forward slashes, as guaranteed
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// by the http.FileSystem interface.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">containsDotFile</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">bool</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">parts</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">strings</span>.<span style="color:#61afef;font-weight:bold">Split</span>(<span style="color:#e06c75">name</span>, <span style="color:#98c379">&#34;/&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">for</span> <span style="color:#e06c75">_</span>, <span style="color:#e06c75">part</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">parts</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">strings</span>.<span style="color:#61afef;font-weight:bold">HasPrefix</span>(<span style="color:#e06c75">part</span>, <span style="color:#98c379">&#34;.&#34;</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#c678dd">return</span> <span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// dotFileHidingFile is the http.File use in dotFileHidingFileSystem.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// It is used to wrap the Readdir method of http.File so that we can
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// remove files and directories that start with a period from its output.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">dotFileHidingFile</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#e06c75">File</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// Readdir is a wrapper around the Readdir method of the embedded File
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// that filters out all files that start with a period in their name.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">f</span> <span style="color:#e06c75">dotFileHidingFile</span>) <span style="color:#61afef;font-weight:bold">Readdir</span>(<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>) (<span style="color:#e06c75">fis</span> []<span style="color:#e06c75">fs</span>.<span style="color:#e06c75">FileInfo</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">files</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">f</span>.<span style="color:#e06c75">File</span>.<span style="color:#61afef;font-weight:bold">Readdir</span>(<span style="color:#e06c75">n</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">for</span> <span style="color:#e06c75">_</span>, <span style="color:#e06c75">file</span> <span style="color:#56b6c2">:=</span> <span style="color:#c678dd">range</span> <span style="color:#e06c75">files</span> { <span style="color:#7f848e">// Filters out the dot files
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#c678dd">if</span> !<span style="color:#e06c75">strings</span>.<span style="color:#61afef;font-weight:bold">HasPrefix</span>(<span style="color:#e06c75">file</span>.<span style="color:#61afef;font-weight:bold">Name</span>(), <span style="color:#98c379">&#34;.&#34;</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">fis</span> = <span style="color:#e5c07b">append</span>(<span style="color:#e06c75">fis</span>, <span style="color:#e06c75">file</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// dotFileHidingFileSystem is an http.FileSystem that hides
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// hidden &#34;dot files&#34; from being served.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">type</span> <span style="color:#e06c75">dotFileHidingFileSystem</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#e06c75">FileSystem</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#7f848e">// Open is a wrapper around the Open method of the embedded FileSystem
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// that serves a 403 permission error when name has a file or directory
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// with whose name starts with a period in its path.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">fsys</span> <span style="color:#e06c75">dotFileHidingFileSystem</span>) <span style="color:#61afef;font-weight:bold">Open</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">http</span>.<span style="color:#e06c75">File</span>, <span style="color:#e5c07b">error</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#61afef;font-weight:bold">containsDotFile</span>(<span style="color:#e06c75">name</span>) { <span style="color:#7f848e">// If dot file, return 403 response
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#c678dd">return</span> <span style="color:#e5c07b">nil</span>, <span style="color:#e06c75">fs</span>.<span style="color:#e06c75">ErrPermission</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">file</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">fsys</span>.<span style="color:#e06c75">FileSystem</span>.<span style="color:#61afef;font-weight:bold">Open</span>(<span style="color:#e06c75">name</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">return</span> <span style="color:#e5c07b">nil</span>, <span style="color:#e06c75">err</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e06c75">dotFileHidingFile</span>{<span style="color:#e06c75">file</span>}, <span style="color:#e06c75">err</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fsys</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">dotFileHidingFileSystem</span>{<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Dir</span>(<span style="color:#98c379">&#34;.&#34;</span>)}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#98c379">&#34;/&#34;</span>, <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">FileServer</span>(<span style="color:#e06c75">fsys</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">ListenAndServe</span>(<span style="color:#98c379">&#34;:8080&#34;</span>, <span style="color:#e5c07b">nil</span>))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="fileserver-example-stripprefix">FileServer Example (StripPrefix)</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// To serve a directory on disk (/tmp) under an alternate URL
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// path (/tmpfiles/), use StripPrefix to modify the request
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// URL&#39;s path before the FileServer sees it:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#98c379">&#34;/tmpfiles/&#34;</span>, <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">StripPrefix</span>(<span style="color:#98c379">&#34;/tmpfiles/&#34;</span>, <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">FileServer</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Dir</span>(<span style="color:#98c379">&#34;/tmp&#34;</span>))))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-maxbyteshandlerhttpscsopensourcegooglegogogo1201srcnethttpservergol3638----go118">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3638" target="_blank" rel="noopener">MaxBytesHandler</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MaxBytesHandler</span>(<span style="color:#e06c75">h</span> <span style="color:#e06c75">Handler</span>, <span style="color:#e06c75">n</span> <span style="color:#e5c07b">int64</span>) <span style="color:#e06c75">Handler</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MaxBytesHandler返回一个处理程序，该处理程序使用其ResponseWriter和Request.Body包装了一个MaxBytesReader。</p>
<h4 id="func-notfoundhandlerhttpscsopensourcegooglegogogo1201srcnethttpservergol2143">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2143" target="_blank" rel="noopener">NotFoundHandler</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NotFoundHandler</span>() <span style="color:#e06c75">Handler</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NotFoundHandler返回一个简单的请求处理程序，它回复每个请求的&quot;404页面未找到&quot;回复。</p>
<h5 id="notfoundhandler-example">NotFoundHandler Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">newPeopleHandler</span>() <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Handler</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">HandlerFunc</span>(<span style="color:#c678dd">func</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Fprintln</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;This is the people handler.&#34;</span>)
</span></span><span style="display:flex;"><span>	})
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">mux</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">NewServeMux</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Create sample handler to returns 404
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">mux</span>.<span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#98c379">&#34;/resources&#34;</span>, <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">NotFoundHandler</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Create sample handler that returns 200
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">mux</span>.<span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#98c379">&#34;/resources/people/&#34;</span>, <span style="color:#61afef;font-weight:bold">newPeopleHandler</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">ListenAndServe</span>(<span style="color:#98c379">&#34;:8080&#34;</span>, <span style="color:#e06c75">mux</span>))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-redirecthandlerhttpscsopensourcegooglegogogo1201srcnethttpservergol2267">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2267" target="_blank" rel="noopener">RedirectHandler</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">RedirectHandler</span>(<span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">code</span> <span style="color:#e5c07b">int</span>) <span style="color:#e06c75">Handler</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RedirectHandler 函数返回一个请求处理程序，该程序会使用给定的状态码将收到的每个请求重定向到给定的URL。</p>
<p>​	提供的状态码应该在 3xx 范围内，通常为 StatusMovedPermanently、StatusFound 或 StatusSeeOther。</p>
<h4 id="func-stripprefixhttpscsopensourcegooglegogogo1201srcnethttpservergol2151">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2151" target="_blank" rel="noopener">StripPrefix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">StripPrefix</span>(<span style="color:#e06c75">prefix</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">h</span> <span style="color:#e06c75">Handler</span>) <span style="color:#e06c75">Handler</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	StripPrefix 函数返回一个处理程序，它通过从请求 URL 的路径(如果设置，则为 RawPath)中删除给定前缀并调用处理程序 h 来服务 HTTP 请求。如果路径不以前缀开头，则 StripPrefix 会用 HTTP 404 未找到错误回复。前缀必须精确匹配：如果请求中的前缀包含转义字符，则回复也是 HTTP 404 未找到错误。</p>
<h5 id="stripprefix-example">StripPrefix Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// To serve a directory on disk (/tmp) under an alternate URL
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// path (/tmpfiles/), use StripPrefix to modify the request
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// URL&#39;s path before the FileServer sees it:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#98c379">&#34;/tmpfiles/&#34;</span>, <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">StripPrefix</span>(<span style="color:#98c379">&#34;/tmpfiles/&#34;</span>, <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">FileServer</span>(<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Dir</span>(<span style="color:#98c379">&#34;/tmp&#34;</span>))))
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-timeouthandlerhttpscsopensourcegooglegogogo1201srcnethttpservergol3346">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3346" target="_blank" rel="noopener">TimeoutHandler</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">TimeoutHandler</span>(<span style="color:#e06c75">h</span> <span style="color:#e06c75">Handler</span>, <span style="color:#e06c75">dt</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>, <span style="color:#e06c75">msg</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">Handler</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	TimeoutHandler 函数返回一个运行限时的处理程序。</p>
<p>​	新的处理程序调用 h.ServeHTTP 来处理每个请求，但如果一个调用的运行时间超过其时间限制，则处理程序会使用一个 HTTP 503 Service Unavailable 错误并在其主体中给出给定的消息进行回复。 (如果 msg 为空，则将发送适当的默认消息。)在此类超时之后，h 对其 ResponseWriter 的写入将返回 ErrHandlerTimeout。</p>
<p>​	TimeoutHandler 支持 Pusher 接口，但不支持 Hijacker 或 Flusher 接口。</p>
<h3 id="type-handlerfunchttpscsopensourcegooglegogogo1201srcnethttpservergol2118">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2118" target="_blank" rel="noopener">HandlerFunc</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">HandlerFunc</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	HandlerFunc 类型是一个适配器，允许使用普通函数作为 HTTP 处理程序。如果 f 是具有适当签名的函数，则 HandlerFunc(f) 是调用 f 的处理程序。</p>
<h4 id="handlerfunc-servehttphttpscsopensourcegooglegogogo1201srcnethttpservergol2121">(HandlerFunc) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2121" target="_blank" rel="noopener">ServeHTTP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">f</span> <span style="color:#e06c75">HandlerFunc</span>) <span style="color:#61afef;font-weight:bold">ServeHTTP</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ServeHTTP 调用 f(w, r)。</p>
<h3 id="type-headerhttpscsopensourcegooglegogogo1201srcnethttpheadergol24">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=24" target="_blank" rel="noopener">Header</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Header</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>][]<span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Header 表示 HTTP 头中的键值对。</p>
<p>​	键应该是规范化形式，即由 CanonicalHeaderKey函数返回的形式。</p>
<h4 id="header-addhttpscsopensourcegooglegogogo1201srcnethttpheadergol30">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=30" target="_blank" rel="noopener">Add</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Add</span>(<span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Add方法向 Header 中添加一个键值对，它会将值附加到与键相关联的任何现有值的末尾。键的大小写不敏感，因此会通过 CanonicalHeaderKey 进行规范化。</p>
<h4 id="header-clonehttpscsopensourcegooglegogogo1201srcnethttpheadergol94----go113">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=94" target="_blank" rel="noopener">Clone</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Clone</span>() <span style="color:#e06c75">Header</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Clone方法返回 h 的一个副本，如果 h 为 nil，则返回 nil。</p>
<h4 id="header-delhttpscsopensourcegooglegogogo1201srcnethttpheadergol80">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=80" target="_blank" rel="noopener">Del</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Del</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Del方法删除与 key 关联的值。键的大小写不敏感，因此会通过 CanonicalHeaderKey函数进行规范化。</p>
<h4 id="header-gethttpscsopensourcegooglegogogo1201srcnethttpheadergol49">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=49" target="_blank" rel="noopener">Get</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Get</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Get方法获取与给定键关联的第一个值。如果没有与该键关联的值，则 Get 返回 &ldquo;&quot;。键的大小写不敏感，因此使用 textproto.CanonicalMIMEHeaderKey 来规范化提供的键。Get 假定所有键都以规范形式存储。要使用非规范键，请直接访问映射。</p>
<h4 id="header-sethttpscsopensourcegooglegogogo1201srcnethttpheadergol39">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=39" target="_blank" rel="noopener">Set</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Set方法将与 key 关联的 header 条目设置为单个元素值。它将替换与 key 关联的任何现有值。键的大小写不敏感，因此会通过 textproto.CanonicalMIMEHeaderKey 进行规范化。要使用非规范键，请直接分配到映射中。</p>
<h4 id="header-valueshttpscsopensourcegooglegogogo1201srcnethttpheadergol58----go114">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=58" target="_blank" rel="noopener">Values</a>  &lt;- go1.14</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Values</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) []<span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Values方法返回与给定键关联的所有值。键的大小写不敏感，因此使用 textproto.CanonicalMIMEHeaderKey 来规范化提供的键。要使用非规范键，请直接访问映射。返回的切片不是副本。</p>
<h4 id="header-writehttpscsopensourcegooglegogogo1201srcnethttpheadergol85">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=85" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Write 方法以 wire format 写入 Header。</p>
<h4 id="header-writesubsethttpscsopensourcegooglegogogo1201srcnethttpheadergol192">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/header.go;l=192" target="_blank" rel="noopener">WriteSubset</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">WriteSubset</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>, <span style="color:#e06c75">exclude</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">bool</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteSubset 方法以 wire format 写入 Header。如果 exclude 不为 nil，则不会写入其中 exclude[key] == true 的键。写入之前不会对键进行规范化。</p>
<h3 id="type-hijackerhttpscsopensourcegooglegogogo1201srcnethttpservergol185">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=185" target="_blank" rel="noopener">Hijacker</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Hijacker</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Hijack允许调用方接管连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 调用Hijack后，HTTP服务器库将不会再对连接进行任何操作。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 管理和关闭连接将成为调用方的责任。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 返回的net.Conn可能已经设置了读取或写入期限，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 具体取决于服务器的配置。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 调用方有责任根据需要设置或清除这些期限。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 返回的bufio.Reader可能包含来自客户端的未处理缓冲数据。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在调用Hijack后，原始Request.Body不能再使用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 原始请求的上下文保持有效，直到请求的ServeHTTP方法返回为止。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Hijack</span>() (<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">ReadWriter</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Hijacker接口由允许HTTP处理程序接管连接的ResponseWriters实现。</p>
<p>​	默认的HTTP/1.x连接的ResponseWriter支持Hijacker，但是HTTP/2连接有意不支持它。 ResponseWriter包装器也可能不支持Hijacker。处理程序应始终在运行时测试此能力。</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#98c379">&#34;/hijack&#34;</span>, <span style="color:#c678dd">func</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">hj</span>, <span style="color:#e06c75">ok</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">w</span>.(<span style="color:#e06c75">http</span>.<span style="color:#e06c75">Hijacker</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> !<span style="color:#e06c75">ok</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Error</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;webserver doesn&#39;t support hijacking&#34;</span>, <span style="color:#e06c75">http</span>.<span style="color:#e06c75">StatusInternalServerError</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#c678dd">return</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">conn</span>, <span style="color:#e06c75">bufrw</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">hj</span>.<span style="color:#61afef;font-weight:bold">Hijack</span>()
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Error</span>(<span style="color:#e06c75">w</span>, <span style="color:#e06c75">err</span>.<span style="color:#61afef;font-weight:bold">Error</span>(), <span style="color:#e06c75">http</span>.<span style="color:#e06c75">StatusInternalServerError</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#c678dd">return</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#7f848e">// Don&#39;t forget to close the connection:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#c678dd">defer</span> <span style="color:#e06c75">conn</span>.<span style="color:#61afef;font-weight:bold">Close</span>()
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">bufrw</span>.<span style="color:#61afef;font-weight:bold">WriteString</span>(<span style="color:#98c379">&#34;Now we&#39;re speaking raw TCP. Say hi: &#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">bufrw</span>.<span style="color:#61afef;font-weight:bold">Flush</span>()
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">s</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">bufrw</span>.<span style="color:#61afef;font-weight:bold">ReadString</span>(<span style="color:#98c379">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;error reading string: %v&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#c678dd">return</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Fprintf</span>(<span style="color:#e06c75">bufrw</span>, <span style="color:#98c379">&#34;You said: %q\nBye.\n&#34;</span>, <span style="color:#e06c75">s</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">bufrw</span>.<span style="color:#61afef;font-weight:bold">Flush</span>()
</span></span><span style="display:flex;"><span>	})
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-maxbyteserrorhttpscsopensourcegooglegogogo1201srcnethttprequestgol1149----go119">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1149" target="_blank" rel="noopener">MaxBytesError</a>  &lt;- go1.19</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">MaxBytesError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Limit</span> <span style="color:#e5c07b">int64</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MaxBytesReader读取的字节数超过其读取限制时返回MaxBytesError。</p>
<h4 id="maxbyteserror-errorhttpscsopensourcegooglegogogo1201srcnethttprequestgol1153----go119">(*MaxBytesError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1153" target="_blank" rel="noopener">Error</a>  &lt;- go1.19</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">MaxBytesError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-pushoptionshttpscsopensourcegooglegogogo1201srcnethttphttpgol119----go18">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/http.go;l=119" target="_blank" rel="noopener">PushOptions</a>  &lt;- go1.8</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">PushOptions</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Method指定承诺请求的HTTP方法。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果设置，则必须是&#34;GET&#34;或&#34;HEAD&#34;。空表示&#34;GET&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Method</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Header指定额外的承诺请求标头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 这不能包括HTTP/2伪标头字段，如&#34;：path&#34;和&#34;：scheme&#34;，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 它们将自动添加。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Header</span> <span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>PushOptions describes options for Pusher.Push.</p>
<h3 id="type-pusherhttpscsopensourcegooglegogogo1201srcnethttphttpgol133----go18">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/http.go;l=133" target="_blank" rel="noopener">Pusher</a>  &lt;- go1.8</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Pusher</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Push启动HTTP/2服务器推送。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 这将使用给定的目标和选项构造合成请求，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 将该请求序列化为PUSH_PROMISE帧，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 然后使用服务器的请求处理程序分派该请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果opts为nil，则使用默认选项。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 目标必须是绝对路径(如&#34;/path&#34;)或
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 包含有效主机和与父请求相同的方案的绝对URL。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果目标是路径，则会继承父请求的方案和主机。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// HTTP/2规范禁止递归推送和跨权威推送。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Push可以或可以不检测这些无效推送；
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 但是，符合规范的客户端将检测并取消无效的推送。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 希望推送URL X的处理程序应在发送可能触发
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对URL X的请求的任何数据之前调用Push。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 这避免了客户端在收到X的PUSH_PROMISE之前就发出X的请求的竞争条件。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Push将在单独的goroutine中运行，使到达顺序是不确定的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 任何必需的同步需要由调用者实现。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果客户端禁用推送或底层连接不支持推送，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则Push返回ErrNotSupported。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Push</span>(<span style="color:#e06c75">target</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">opts</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">PushOptions</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Pusher是ResponseWriters实现的接口，用于支持HTTP/2服务器推送。有关更多背景信息，请参见https://tools.ietf.org/html/rfc7540#section-8.2。</p>
<h3 id="type-requesthttpscsopensourcegooglegogogo1201srcnethttprequestgol106">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=106" target="_blank" rel="noopener">Request</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">157
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">158
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">159
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">160
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">161
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">162
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">163
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">164
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">165
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">166
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">167
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">168
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">169
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">170
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">171
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">172
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">173
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">174
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">175
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">176
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">177
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">178
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">179
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">180
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">181
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">182
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">183
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">184
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">185
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">186
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">187
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">188
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Request</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Method 指定HTTP方法(GET，POST，PUT等)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于客户端请求，空字符串表示GET。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Go的HTTP客户端不支持使用CONNECT方法发送请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 有关详细信息，请参阅传输的文档。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Method</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// URL指定要请求的URI(用于服务器请求)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 或要访问的URL(用于客户端请求)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于服务器请求，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// URL从存储在RequestURI中的Request-Line中提供的URI中解析。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于大多数请求，除Path和RawQuery之外的字段都将为空。 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// (请参见RFC 7230，第5.3节)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于客户端请求，URL的Host指定要连接的服务器，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 而Request的Host字段可选地指定要在HTTP请求中发送的Host标头值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">URL</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 传入服务器请求的协议版本。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于客户端请求，将忽略这些字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// HTTP客户端代码始终使用HTTP/1.1或HTTP/2。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 有关详细信息，请参阅传输文档。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Proto</span>      <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// &#34;HTTP/1.0&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ProtoMajor</span> <span style="color:#e5c07b">int</span>    <span style="color:#7f848e">// 1
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ProtoMinor</span> <span style="color:#e5c07b">int</span>    <span style="color:#7f848e">// 0
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Header 包含服务器收到的请求头字段或客户端将要发送的请求头字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果服务器收到了以下请求头行：
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Host: example.com
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// accept-encoding: gzip, deflate
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Accept-Language: en-us
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// fOO: Bar
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// foo: two
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 那么
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Header = map[string][]string{
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// &#34;Accept-Encoding&#34;: {&#34;gzip, deflate&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// &#34;Accept-Language&#34;: {&#34;en-us&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// &#34;Foo&#34;: {&#34;Bar&#34;, &#34;two&#34;},
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// }
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于传入的请求，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Host 头部将提升到 Request.Host 字段并从 Header 映射中删除。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// HTTP 定义了头部名称不区分大小写。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请求解析器通过使用 CanonicalHeaderKey 实现这一点，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 将连字符后的第一个字符和任何后续字符转换为大写字母，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 其余字母转换为小写字母。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于客户端请求，当需要时会自动写入某些头部字段，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 例如 Content-Length 和 Connection，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并且 Header 中的值可能会被忽略。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请参阅 Request.Write 方法的文档。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Header</span> <span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Body 是请求的主体。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于客户端请求，nil 主体表示请求没有主体，例如 GET 请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// HTTP 客户端的 Transport 负责调用 Close 方法。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于服务器请求，请求 Body 总是非空的，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 但在没有主体的情况下将立即返回 EOF。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 服务器将关闭请求主体。ServeHTTP 处理程序不需要。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Body 必须允许同时调用 Read 和 Close。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 特别是，调用 Close 应该取消阻塞等待输入的 Read。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Body</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadCloser</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// GetBody 定义了一个可选的函数，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 用于返回 Body 的新副本。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 当重定向需要多次读取主体时，它用于客户端请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 仍然需要设置 Body 才能使用 GetBody。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于服务器请求，它没有使用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">GetBody</span> <span style="color:#c678dd">func</span>() (<span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadCloser</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ContentLength 记录相关内容的长度。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 值-1表示长度未知。值&gt;= 0表示可以从Body读取给定的字节数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于客户端请求，具有非零Body的值为0也被视为未知。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ContentLength</span> <span style="color:#e5c07b">int64</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TransferEncoding列出了从最外层到最内层的传输编码。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 空列表表示&#34;identity&#34;编码。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在发送和接收请求时，可以通常忽略TransferEncoding。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 当需要时，块编码会自动添加和删除。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TransferEncoding</span> []<span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Close指示是否在回复此请求后(对于服务器)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 或在发送此请求并读取其响应后(对于客户端)关闭连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于服务器请求，HTTP服务器会自动处理此操作，处理程序不需要此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于客户端请求，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 设置此字段会阻止在向相同主机的请求之间重新使用TCP连接，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 就像Transport.DisableKeepAlives已设置一样。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Close</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 对于服务器请求，Host指定寻找URL的主机。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于HTTP / 1(根据RFC 7230，第5.4节)，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 这是&#34;Host&#34;标头的值或URL本身中给定的主机名。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于HTTP / 2，它是&#34;：authority&#34;伪标头字段的值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它可以采用&#34;host：port&#34;的形式。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于国际域名，Host可以为Punycode或Unicode形式。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果需要，可以使用golang.org/x/net/idna将其转换为任一格式。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 为防止DNS重绑定攻击，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 服务器处理程序应验证Host标头具有其认为自己具有权威的值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 包括ServeMux支持为特定主机名注册的模式，因此保护其注册的处理程序。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于客户端请求，Host可选择覆盖要发送的Host标头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果为空，则Request.Write方法使用URL.Host的值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 主机可能包含国际域名。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Host</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Form 包含已解析的表单数据，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 包括 URL 字段的查询参数以及 PATCH、POST 或 PUT 表单数据。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 只有在调用 ParseForm 之后才能使用此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// HTTP 客户端会忽略 Form 并使用 Body。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Form</span> <span style="color:#e06c75">url</span>.<span style="color:#e06c75">Values</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// PostForm 包含来自 PATCH、POST 或 PUT 请求体参数的解析表单数据。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 只有在调用 ParseForm 之后才能使用此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// HTTP 客户端会忽略 PostForm 并使用 Body。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">PostForm</span> <span style="color:#e06c75">url</span>.<span style="color:#e06c75">Values</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// MultipartForm 是已解析的多部分表单，包括文件上传。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 只有在调用 ParseMultipartForm 之后才能使用此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// HTTP 客户端会忽略 MultipartForm 并使用 Body。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MultipartForm</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">multipart</span>.<span style="color:#e06c75">Form</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Trailer 指定在请求体之后发送的其他标头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于服务器请求，Trailer 映射最初仅包含 trailer 键和 nil 值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// (客户端声明将稍后发送哪些 trailers。)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 当处理程序从 Body 读取时，它不能引用 Trailer。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 从 Body 返回 EOF 后，Trailer 可以再次读取，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并且如果客户端发送了这些值，则将包含非 nil 的值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于客户端请求，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Trailer 必须初始化为一个包含稍后发送的 trailer 键的映射。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 值可以为 nil 或它们的最终值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// ContentLength 必须为 0 或 -1，以发送分块请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在发送 HTTP 请求后，可以在读取请求体时更新映射值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 请求体返回 EOF 后，调用者不能改变 Trailer。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 很少有 HTTP 客户端、服务器或代理支持 HTTP trailers。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Trailer</span> <span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// RemoteAddr 允许 HTTP 服务器和其他软件记录发送请求的网络地址，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 通常用于记录日志。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// ReadRequest 不会填充此字段，也没有定义的格式。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 该包中的 HTTP 服务器在调用处理程序之前将 RemoteAddr 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 设置为 &#34;IP:port&#34; 地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// HTTP 客户端会忽略此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">RemoteAddr</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// RequestURI 是客户端发送到服务器的请求行
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//(RFC 7230，第 3.1.1 节)的未修改请求目标。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 通常应该使用 URL 字段而不是此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在 HTTP 客户端请求中设置此字段是错误的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">RequestURI</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLS 允许 HTTP 服务器和其他软件记录接收请求的 TLS 连接的信息。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 该字段不由 ReadRequest 填充。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 在调用处理程序之前，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 此包中的 HTTP 服务器在启用 TLS 的连接上设置字段；
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 否则它将保留字段为空。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// HTTP 客户端忽略此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLS</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">tls</span>.<span style="color:#e06c75">ConnectionState</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Cancel 是一个可选通道，其关闭表示应将客户端请求视为已取消。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并非所有 RoundTripper 的实现都支持 Cancel。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于服务器请求，此字段不适用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 已弃用：应使用 NewRequestWithContext 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 将请求的上下文设置为上下文，而不是设置请求的 Cancel 字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果请求的 Cancel 字段和上下文都已设置，则未定义是否尊重 Cancel。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Cancel</span> <span style="color:#56b6c2">&lt;-</span><span style="color:#c678dd">chan</span> <span style="color:#c678dd">struct</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Response 是重定向响应，导致创建此请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 此字段仅在客户端重定向期间填充。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Response</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含过滤或未导出的字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	一个Request代表一个由服务器接收或由客户端发送的HTTP请求。</p>
<p>​	客户端和服务器使用中字段语义略有不同。除了下面字段的注释外，请参阅Request.Write和RoundTripper的文档。</p>
<h4 id="func-newrequesthttpscsopensourcegooglegogogo1201srcnethttprequestgol839">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=839" target="_blank" rel="noopener">NewRequest</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewRequest</span>(<span style="color:#e06c75">method</span>, <span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">body</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NewRequest使用context.Background包装NewRequestWithContext。</p>
<h4 id="func-newrequestwithcontexthttpscsopensourcegooglegogogo1201srcnethttprequestgol865----go113">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=865" target="_blank" rel="noopener">NewRequestWithContext</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewRequestWithContext</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">method</span>, <span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">body</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NewRequestWithContext给定方法、URL和可选的body，返回一个新的Request。</p>
<p>​	NewRequestWithContext返回一个适用于使用Client.Do或Transport.RoundTrip的Request。要为测试服务器处理程序创建一个请求，请使用net/http/httptest包中的NewRequest函数、使用ReadRequest或手动更新Request字段。对于传出的客户端请求，上下文控制请求及其响应的整个生命周期：获取连接、发送请求以及读取响应标头和正文。请参阅Request类型的文档，了解入站和出站请求字段之间的差异。</p>
<p>​	如果body的类型为*bytes.Buffer、<em>bytes.Reader或</em>strings.Reader，则返回的请求的ContentLength将设置为其确切值(而不是-1)，GetBody将被填充(因此307和308重定向可以重放body)，如果ContentLength为0，则Body将设置为NoBody。</p>
<h4 id="func-readrequesthttpscsopensourcegooglegogogo1201srcnethttprequestgol1024">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1024" target="_blank" rel="noopener">ReadRequest</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ReadRequest</span>(<span style="color:#e06c75">b</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">Reader</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadRequest从b中读取并解析一个传入的请求。</p>
<p>​	ReadRequest是一个低级函数，只应用于专用应用程序；大多数代码应该使用Server来读取请求并通过Handler接口处理它们。ReadRequest仅支持HTTP/1.x请求。对于HTTP/2，请使用golang.org/x/net/http2。</p>
<h4 id="request-addcookiehttpscsopensourcegooglegogogo1201srcnethttprequestgol437">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=437" target="_blank" rel="noopener">AddCookie</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">AddCookie</span>(<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	AddCookie向请求中添加一个cookie。根据<a href="https://rfc-editor.org/rfc/rfc6265.html#section-5.4" target="_blank" rel="noopener">RFC 6265第5.4节</a>，AddCookie不会添加超过一个Cookie头字段，这意味着所有cookie(如果有)都将写入同一行，由分号分隔。AddCookie仅对c的名称和值进行清理，不对已经存在于请求中的Cookie头进行清理。</p>
<h4 id="request-basicauthhttpscsopensourcegooglegogogo1201srcnethttprequestgol949----go14">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=949" target="_blank" rel="noopener">BasicAuth</a>  &lt;- go1.4</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">BasicAuth</span>() (<span style="color:#e06c75">username</span>, <span style="color:#e06c75">password</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">ok</span> <span style="color:#e5c07b">bool</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	BasicAuth返回请求头中提供的用户名和密码，如果请求使用HTTP基本身份验证。请参阅<a href="https://rfc-editor.org/rfc/rfc2617.html#section-2" target="_blank" rel="noopener">RFC 2617第2节</a>。</p>
<h4 id="request-clonehttpscsopensourcegooglegogogo1201srcnethttprequestgol372----go113">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=372" target="_blank" rel="noopener">Clone</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">Clone</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Clone方法返回r的深层副本，其上下文已更改为ctx。提供的ctx必须非nil。</p>
<p>​	对于出站客户端请求，上下文控制请求及其响应的整个生命周期：获取连接，发送请求和读取响应标头和主体。</p>
<h4 id="request-contexthttpscsopensourcegooglegogogo1201srcnethttprequestgol340----go17">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=340" target="_blank" rel="noopener">Context</a>  &lt;- go1.7</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">Context</span>() <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Context方法返回请求的上下文。要更改上下文，请使用Clone方法或WithContext方法。</p>
<p>​	返回的上下文始终非零；默认为后台上下文。</p>
<p>​	对于输出客户端请求，上下文控制取消。</p>
<p>​	对于传入的服务器请求，当客户端连接关闭，请求被取消(使用HTTP/2)或ServeHTTP方法返回时，上下文被取消。</p>
<h4 id="request-cookiehttpscsopensourcegooglegogogo1201srcnethttprequestgol421">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=421" target="_blank" rel="noopener">Cookie</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">Cookie</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Cookie方法返回请求中提供的指定cookie或ErrNoCookie(如果没有找到)。如果有多个cookie与给定名称匹配，则仅返回一个cookie。</p>
<h4 id="request-cookieshttpscsopensourcegooglegogogo1201srcnethttprequestgol410">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=410" target="_blank" rel="noopener">Cookies</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">Cookies</span>() []<span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Cookies方法解析并返回发送请求的HTTP cookie。</p>
<h4 id="request-formfilehttpscsopensourcegooglegogogo1201srcnethttprequestgol1397">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1397" target="_blank" rel="noopener">FormFile</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">FormFile</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">multipart</span>.<span style="color:#e06c75">File</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">multipart</span>.<span style="color:#e06c75">FileHeader</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	FormFile方法返回所提供的表单键的第一个文件。如果需要，FormFile方法调用ParseMultipartForm方法和ParseForm方法。</p>
<h4 id="request-formvaluehttpscsopensourcegooglegogogo1201srcnethttprequestgol1370">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1370" target="_blank" rel="noopener">FormValue</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">FormValue</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	FormValue方法返回查询的指定组件的第一个值。POST和PUT请求体参数优先于URL查询字符串值。FormValue如果需要，调用ParseMultipartForm方法和ParseForm方法，并忽略这些函数返回的任何错误。如果键不存在，则FormValue方法返回空字符串。要访问同一键的多个值，请调用ParseForm，然后直接检查Request.Form方法。</p>
<h4 id="request-multipartreaderhttpscsopensourcegooglegogogo1201srcnethttprequestgol470">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=470" target="_blank" rel="noopener">MultipartReader</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">MultipartReader</span>() (<span style="color:#56b6c2">*</span><span style="color:#e06c75">multipart</span>.<span style="color:#e06c75">Reader</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MultipartReader方法如果这是multipart/form-data或multipart/mixed POST请求，则返回MIME多部分读取器；否则返回nil和错误。使用此方法而不是ParseMultipartForm方法处理请求正文作为流。</p>
<h4 id="request-parseformhttpscsopensourcegooglegogogo1201srcnethttprequestgol1282">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1282" target="_blank" rel="noopener">ParseForm</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">ParseForm</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ParseForm方法解析请求中的表单，并更新<code>r.Form</code>和<code>r.PostForm</code>。</p>
<p>​	对于所有请求，ParseForm方法解析URL中的原始查询，并更新<code>r.Form</code>。</p>
<p>​	对于POST、PUT和PATCH请求，该方法还读取请求体，将其解析为表单，并将结果放入<code>r.PostForm</code>和<code>r.Form</code>中。请求体参数优先于URL查询字符串值在<code>r.Form</code>中。</p>
<p>​	如果请求体大小还没有被<code>MaxBytesReader</code>限制，则最大为10MB。</p>
<p>​	对于其他HTTP方法或<code>Content-Type</code>不为<code>application/x-www-form-urlencoded</code>的情况，不读取请求体，<code>r.PostForm</code>初始化为非零但为空的值。</p>
<p>​	ParseMultipartForm方法会自动调用ParseForm方法。ParseForm方法是幂等的。</p>
<h4 id="request-parsemultipartformhttpscsopensourcegooglegogogo1201srcnethttprequestgol1325">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1325" target="_blank" rel="noopener">ParseMultipartForm</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">ParseMultipartForm</span>(<span style="color:#e06c75">maxMemory</span> <span style="color:#e5c07b">int64</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ParseMultipartForm方法将请求体解析为multipart/form-data。整个请求体被解析，并且它的文件部分的最多maxMemory字节数在内存中存储，其余部分在临时文件中存储。ParseMultipartForm方法在必要时调用ParseForm方法。如果ParseForm方法返回错误，则ParseMultipartForm方法返回该错误，但也会继续解析请求体。调用一次ParseMultipartForm方法之后，随后的调用没有任何效果。</p>
<h4 id="request-postformvaluehttpscsopensourcegooglegogogo1201srcnethttprequestgol1385----go11">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=1385" target="_blank" rel="noopener">PostFormValue</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">PostFormValue</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	PostFormValue方法返回POST、PATCH或PUT请求体中命名组件的第一个值。忽略URL查询参数。PostFormValue方法在必要时调用ParseMultipartForm和ParseForm方法，并忽略这些函数返回的任何错误。如果key不存在，则PostFormValue方法返回空字符串。</p>
<h4 id="request-protoatleasthttpscsopensourcegooglegogogo1201srcnethttprequestgol399">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=399" target="_blank" rel="noopener">ProtoAtLeast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">ProtoAtLeast</span>(<span style="color:#e06c75">major</span>, <span style="color:#e06c75">minor</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ProtoAtLeast方法报告请求中使用的HTTP协议是否至少为major.minor。</p>
<h4 id="request-refererhttpscsopensourcegooglegogogo1201srcnethttprequestgol454">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=454" target="_blank" rel="noopener">Referer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">Referer</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Referer方法返回引用的URL(如果在请求中发送了)。</p>
<p>​	Referer方法在请求本身中就被错误地拼写为Referer，这是HTTP早期的一个错误。这个值也可以从Header映射中获取，如<code>Header[&quot;Referer&quot;]</code>；将其作为方法可用的好处是编译器可以诊断使用替代(正确的英文)拼写<code>req.Referrer()</code>的程序，但无法诊断使用<code>Header[&quot;Referrer&quot;]</code>的程序。</p>
<h4 id="request-setbasicauthhttpscsopensourcegooglegogogo1201srcnethttprequestgol988">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=988" target="_blank" rel="noopener">SetBasicAuth</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">SetBasicAuth</span>(<span style="color:#e06c75">username</span>, <span style="color:#e06c75">password</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetBasicAuth方法将请求的Authorization头设置为使用HTTP基本身份验证，提供用户名和密码。</p>
<p>​	使用HTTP基本身份验证时，提供的用户名和密码未加密。通常只应在HTTPS请求中使用它。</p>
<p>​	用户名不能包含冒号。某些协议可能会对预转义用户名和密码有额外的要求。例如，当与OAuth2一起使用时，必须首先使用url.QueryEscape对两个参数进行URL编码。</p>
<h4 id="request-useragenthttpscsopensourcegooglegogogo1201srcnethttprequestgol405">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=405" target="_blank" rel="noopener">UserAgent</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">UserAgent</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UserAgent方法返回客户端的User-Agent，如果在请求中发送。</p>
<h4 id="request-withcontexthttpscsopensourcegooglegogogo1201srcnethttprequestgol356----go17">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=356" target="_blank" rel="noopener">WithContext</a>  &lt;- go1.7</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">WithContext</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WithContext方法返回r的浅层副本，并将其上下文更改为ctx。提供的ctx必须非nil。</p>
<p>​	对于出站客户端请求，上下文控制请求及其响应的整个生命周期：获取连接、发送请求和读取响应头和主体。</p>
<p>​	要使用上下文创建新请求，请使用NewRequestWithContext函数。要使用新上下文对请求进行深层复制，请使用Request.Clone方法。</p>
<h4 id="request-writehttpscsopensourcegooglegogogo1201srcnethttprequestgol534">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=534" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Write方法以线路格式编写HTTP/1.1请求，即头部和主体。该方法会查看请求的以下字段：</p>
<pre tabindex="0"><code>Host
URL
Method (defaults to &#34;GET&#34;)
Header
ContentLength
TransferEncoding
Body
</code></pre><p>​	如果Body存在，Content-Length小于等于0且TransferEncoding未设置为&quot;identity&rdquo;，Write将&quot;Transfer-Encoding: chunked&quot;添加到头部。Body在发送后被关闭。</p>
<h4 id="request-writeproxyhttpscsopensourcegooglegogogo1201srcnethttprequestgol544">(*Request) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/request.go;l=544" target="_blank" rel="noopener">WriteProxy</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#61afef;font-weight:bold">WriteProxy</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteProxy方法类似于 Write 方法，但是将请求写成 HTTP 代理所期望的格式。特别是，WriteProxy 使用绝对 URI 写入请求的初始 Request-URI 行，根据 <a href="https://rfc-editor.org/rfc/rfc7230.html" target="_blank" rel="noopener">RFC 7230 第 5.3 节</a>，包括方案和主机。无论哪种情况，WriteProxy 还会使用 r.Host 或 r.URL.Host 写入 Host 标头。</p>
<h3 id="type-responsehttpscsopensourcegooglegogogo1201srcnethttpresponsegol35">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/response.go;l=35" target="_blank" rel="noopener">Response</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">84
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Response</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Status</span>     <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// Status 表示响应状态，例如 &#34;200 OK&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StatusCode</span> <span style="color:#e5c07b">int</span>    <span style="color:#7f848e">// StatusCode 表示响应状态码，例如 200
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Proto</span>      <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// Proto 表示协议，例如 &#34;HTTP/1.0&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ProtoMajor</span> <span style="color:#e5c07b">int</span>    <span style="color:#7f848e">// ProtoMajor 表示协议的主要版本，例如 1。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ProtoMinor</span> <span style="color:#e5c07b">int</span>    <span style="color:#7f848e">// ProtoMinor 表示协议的次要版本，例如 0。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Header 将头键映射到值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果响应包含相同的键，则它们可能会连接，用逗号分隔。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//(RFC 7230，第3.2.2节要求多个标题在语义上等同于逗号分隔的序列。)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 当 Header 值被此结构中的其他字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//(例如 ContentLength、TransferEncoding、Trailer)重复时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 字段值是权威的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 映射中的键已规范化(请参阅 CanonicalHeaderKey)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Header</span> <span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Body 表示响应正文。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Body 字段读取时，响应正文是按需流式传输的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果网络连接失败或服务器终止响应，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则 Body.Read 调用会返回一个错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// http Client 和 Transport 保证 Body 始终是非 nil 的，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 即使响应没有正文或正文长度为零。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 关闭 Body 是调用方的责任。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 Body 没有被完整读取并关闭，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则默认的 HTTP 客户端的 Transport 可能
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 不会重用 HTTP/1.x &#34;keep-alive&#34; TCP 连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果服务器使用&#34;chunked&#34;传输编码，Body 会自动去块化。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 从 Go 1.12 开始，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Body 还将在成功的 &#34;101 Switching Protocols&#34; 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 响应上实现 io.Writer，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 例如 WebSocket 和 HTTP/2 的 &#34;h2c&#34; 模式。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Body</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadCloser</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ContentLength 记录相关内容的长度。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 值 -1 表示长度未知。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 除非 Request.Method 是 &#34;HEAD&#34;，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 否则值 &gt;= 0 表示可以从 Body 读取给定数量的字节。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ContentLength</span> <span style="color:#e5c07b">int64</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含最外层到最内层的传输编码。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果值为 nil，则表示使用&#34;identity&#34;编码。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TransferEncoding</span> []<span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Close 记录了该响应头指示在读取 Body 后是否关闭连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 该值是对客户端的建议：
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 无论是 ReadResponse 还是 Response.Write 都不会关闭连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Close</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Uncompressed 报告该响应是否被压缩，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 但是被 http 包解压缩。当为 true 时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 从 Body 读取会返回解压缩后的内容，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 而不是实际从服务器接收到的压缩内容，ContentLength 被设置为 -1，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 并且从响应头中删除 &#34;Content-Length&#34; 和 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// &#34;Content-Encoding&#34; 字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 要获取来自服务器的原始响应，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请将 Transport.DisableCompression 设置为 true。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Uncompressed</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Trailer 以与 Header 相同的格式，将 trailer 的键映射为值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Trailer 最初仅包含 nil 值，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 每个值都与服务器的 &#34;Trailer&#34; 头值中指定的每个键一一对应。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 这些值不会添加到 Header 中。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Trailer 不得与对 Body 的读取调用同时访问。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 在 Body.Read 返回 io.EOF 后，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Trailer 将包含服务器发送的任何 trailer 值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Trailer</span> <span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Request 是用于获取该响应的请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Request 的 Body 为 nil(已被使用)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 这仅用于 Client 请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Request</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLS 包含有关收到响应的 TLS 连接的信息。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于未加密的响应，它为 nil。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 该指针在响应之间共享，不应更改。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLS</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">tls</span>.<span style="color:#e06c75">ConnectionState</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Response表示HTTP请求的响应。</p>
<p>​	一旦接收到响应头，客户端和传输机制就会从服务器返回响应。随着读取Body字段的增长，响应体会被按需流式传输。</p>
<h4 id="func-gethttpscsopensourcegooglegogogo1201srcnethttpclientgol448">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=448" target="_blank" rel="noopener">Get</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Get</span>(<span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Get方法向指定的URL发出GET请求。如果响应是以下重定向代码之一，则Get会遵循重定向，最多重定向10次：</p>
<pre tabindex="0"><code>301 (Moved Permanently)
302 (Found)
303 (See Other)
307 (Temporary Redirect)
308 (Permanent Redirect)
</code></pre><p>​	如果重定向过多或存在HTTP协议错误，则返回错误。非2xx响应不会引起错误。任何返回的错误都将是*url.Error类型。如果请求超时，则url.Error值的Timeout方法将返回true。</p>
<p>​	当err为nil时，resp始终包含一个非nil resp.Body。调用者在读取完毕后应该关闭resp.Body。</p>
<p>​	Get方法是DefaultClient.Get的包装。</p>
<p>​	要使用自定义标题进行请求，请使用NewRequest和DefaultClient.Do。</p>
<p>​	要使用指定的context.Context进行请求，请使用NewRequestWithContext函数和DefaultClient.Do方法。</p>
<h5 id="get-example">Get Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">res</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Get</span>(<span style="color:#98c379">&#34;http://www.google.com/robots.txt&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">body</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">ReadAll</span>(<span style="color:#e06c75">res</span>.<span style="color:#e06c75">Body</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">res</span>.<span style="color:#e06c75">Body</span>.<span style="color:#61afef;font-weight:bold">Close</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">res</span>.<span style="color:#e06c75">StatusCode</span> &gt; <span style="color:#d19a66">299</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatalf</span>(<span style="color:#98c379">&#34;Response failed with status code: %d and\nbody: %s\n&#34;</span>, <span style="color:#e06c75">res</span>.<span style="color:#e06c75">StatusCode</span>, <span style="color:#e06c75">body</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;%s&#34;</span>, <span style="color:#e06c75">body</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-headhttpscsopensourcegooglegogogo1201srcnethttpclientgol904">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=904" target="_blank" rel="noopener">Head</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Head</span>(<span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Head方法向指定的URL发出HEAD请求。如果响应是以下重定向代码之一，则Head方法会遵循重定向，最多重定向10次：</p>
<pre tabindex="0"><code>301 (Moved Permanently)
302 (Found)
303 (See Other)
307 (Temporary Redirect)
308 (Permanent Redirect)
</code></pre><p>​	Head方法是DefaultClient.Head的包装函数。</p>
<p>​	要使用指定的context.Context发出请求，请使用NewRequestWithContext函数和DefaultClient.Do方法。</p>
<h4 id="func-posthttpscsopensourcegooglegogogo1201srcnethttpclientgol825">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=825" target="_blank" rel="noopener">Post</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Post</span>(<span style="color:#e06c75">url</span>, <span style="color:#e06c75">contentType</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">body</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) (<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Post函数向指定的URL发出POST请求。</p>
<p>​	调用者在读取完resp.Body后应该关闭它。</p>
<p>​	如果提供的body实现了io.Closer接口，则在请求之后会关闭它。</p>
<p>​	Post函数是DefaultClient.Post的包装函数。</p>
<p>​	要设置自定义头，请使用NewRequest函数和DefaultClient.Do方法。</p>
<p>​	有关重定向处理方式的详细信息，请参见Client.Do方法文档。</p>
<p>​	要使用指定的context.Context发出请求，请使用NewRequestWithContext函数和DefaultClient.Do方法。</p>
<h4 id="func-postformhttpscsopensourcegooglegogogo1201srcnethttpclientgol868">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=868" target="_blank" rel="noopener">PostForm</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">PostForm</span>(<span style="color:#e06c75">url</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">data</span> <span style="color:#e06c75">url</span>.<span style="color:#e06c75">Values</span>) (<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	PostForm函数向指定的URL发出POST请求，使用data的键和值作为请求体进行URL编码。</p>
<p>​	Content-Type标头设置为application/x-www-form-urlencoded。要设置其他标头，请使用NewRequest函数和DefaultClient.Do方法。</p>
<p>​	当err为nil时，resp始终包含一个非空的resp.Body。在读取完毕后，调用者应该关闭resp.Body。</p>
<p>​	PostForm函数是DefaultClient.PostForm的包装函数。</p>
<p>​	有关重定向处理方式的详细信息，请参见Client.Do方法文档。</p>
<p>​	要使用指定的context.Context发出请求，请使用NewRequestWithContext和DefaultClient.Do。</p>
<h4 id="func-readresponsehttpscsopensourcegooglegogogo1201srcnethttpresponsegol154">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/response.go;l=154" target="_blank" rel="noopener">ReadResponse</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ReadResponse</span>(<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">Reader</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadResponse函数从r中读取并返回HTTP响应。 req参数可选地指定与此Response对应的Request。如果为nil，则假定为GET请求。客户端必须在完成读取resp.Body后调用resp.Body.Close。在该调用之后，客户端可以检查resp.Trailer以查找包含在响应trailer中的键/值对。</p>
<h4 id="response-cookieshttpscsopensourcegooglegogogo1201srcnethttpresponsegol125">(*Response) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/response.go;l=125" target="_blank" rel="noopener">Cookies</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>) <span style="color:#61afef;font-weight:bold">Cookies</span>() []<span style="color:#56b6c2">*</span><span style="color:#e06c75">Cookie</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Cookies方法解析并返回在Set-Cookie头中设置的Cookie。</p>
<h4 id="response-locationhttpscsopensourcegooglegogogo1201srcnethttpresponsegol137">(*Response) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/response.go;l=137" target="_blank" rel="noopener">Location</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>) <span style="color:#61afef;font-weight:bold">Location</span>() (<span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Location方法返回响应头&quot;Location&quot;字段的URL，如果存在的话。相对URL会根据响应的请求进行解析。如果没有Location头，会返回ErrNoLocation。</p>
<h4 id="response-protoatleasthttpscsopensourcegooglegogogo1201srcnethttpresponsegol224">(*Response) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/response.go;l=224" target="_blank" rel="noopener">ProtoAtLeast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>) <span style="color:#61afef;font-weight:bold">ProtoAtLeast</span>(<span style="color:#e06c75">major</span>, <span style="color:#e06c75">minor</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ProtoAtLeast方法报告响应中使用的HTTP协议是否至少为major.minor。</p>
<h4 id="response-writehttpscsopensourcegooglegogogo1201srcnethttpresponsegol245">(*Response) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/response.go;l=245" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Write方法以HTTP/1.x服务器响应格式将r写入w，包括状态行、头部、正文和可选的尾随部分。</p>
<p>​	此方法会查询响应r的以下字段：</p>
<pre tabindex="0"><code>StatusCode
ProtoMajor
ProtoMinor
Request.Method
TransferEncoding
Trailer
Body
ContentLength
Header, 非规范键的值将具有不可预测的行为
</code></pre><p>​	响应主体在发送后将被关闭。</p>
<h3 id="type-responsecontrollerhttpscsopensourcegooglegogogo1201srcnethttpresponsecontrollergol17----go120">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/responsecontroller.go;l=17" target="_blank" rel="noopener">ResponseController</a>  &lt;- go1.20</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ResponseController</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ResponseController用于在HTTP处理程序中控制响应。</p>
<p>​	在Handler.ServeHTTP方法返回之后，不得再使用ResponseController。</p>
<h4 id="func-newresponsecontrollerhttpscsopensourcegooglegogogo1201srcnethttpresponsecontrollergol37----go120">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/responsecontroller.go;l=37" target="_blank" rel="noopener">NewResponseController</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewResponseController</span>(<span style="color:#e06c75">rw</span> <span style="color:#e06c75">ResponseWriter</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseController</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NewResponseController函数为请求创建一个ResponseController。</p>
<p>​	ResponseWriter应该是传递给Handler.ServeHTTP方法的原始值，或者具有返回原始ResponseWriter的Unwrap方法。</p>
<p>​	如果ResponseWriter实现了以下任何方法，则ResponseController将根据需要调用它们：</p>
<pre tabindex="0"><code>Flush()
FlushError() error // 替代Flush，返回错误
Hijack() (net.Conn, *bufio.ReadWriter, error)
SetReadDeadline(deadline time.Time) error
SetWriteDeadline(deadline time.Time) error
</code></pre><p>​	如果ResponseWriter不支持某个方法，则ResponseController返回与ErrNotSupported相匹配的错误。</p>
<h4 id="responsecontroller-flushhttpscsopensourcegooglegogogo1201srcnethttpresponsecontrollergol46----go120">(*ResponseController) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/responsecontroller.go;l=46" target="_blank" rel="noopener">Flush</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseController</span>) <span style="color:#61afef;font-weight:bold">Flush</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Flush方法将缓冲数据刷新到客户端。</p>
<h4 id="responsecontroller-hijackhttpscsopensourcegooglegogogo1201srcnethttpresponsecontrollergol65----go120">(*ResponseController) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/responsecontroller.go;l=65" target="_blank" rel="noopener">Hijack</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseController</span>) <span style="color:#61afef;font-weight:bold">Hijack</span>() (<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">ReadWriter</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Hijack方法允许调用者接管连接。有关详细信息，请参见Hijacker接口。</p>
<h4 id="responsecontroller-setreaddeadlinehttpscsopensourcegooglegogogo1201srcnethttpresponsecontrollergol84----go120">(*ResponseController) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/responsecontroller.go;l=84" target="_blank" rel="noopener">SetReadDeadline</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseController</span>) <span style="color:#61afef;font-weight:bold">SetReadDeadline</span>(<span style="color:#e06c75">deadline</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadDeadline方法设置读取整个请求(包括正文)的截止日期。超过截止日期后从请求正文中读取会返回错误。零值表示没有截止日期。</p>
<p>​	在超过期限后设置读取期限将不会延长它。</p>
<h4 id="responsecontroller-setwritedeadlinehttpscsopensourcegooglegogogo1201srcnethttpresponsecontrollergol104----go120">(*ResponseController) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/responsecontroller.go;l=104" target="_blank" rel="noopener">SetWriteDeadline</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseController</span>) <span style="color:#61afef;font-weight:bold">SetWriteDeadline</span>(<span style="color:#e06c75">deadline</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteDeadline方法为写入响应设置截止日期。在截止日期之后向响应正文写入不会阻塞，但如果数据已被缓冲，则可能成功。零值表示没有截止日期。</p>
<p>​	在超过期限后设置写入期限将不会延长它。</p>
<h3 id="type-responsewriterhttpscsopensourcegooglegogogo1201srcnethttpservergol95">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=95" target="_blank" rel="noopener">ResponseWriter</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ResponseWriter</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Header 返回将由 WriteHeader 发送的标头映射。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Header 映射也是处理程序设置 HTTP 尾随项的机制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 在调用 WriteHeader(或 Write)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 之后更改标头映射对状态码为 1xx 类的 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// HTTP 状态码或修改后的标头为尾随项时，才会生效。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 有两种方法可以设置 Trailers。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 首选的方式是在标头中预先声明，您稍后将发送哪些拖车，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 通过将&#34;Trailer&#34;标头设置为稍后将到来的拖车键的名称来完成。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在这种情况下，Header 映射的那些键被视为拖车。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请参阅示例。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 第二种方式是针对处理程序直到第一次写入后才知道的尾随键，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在 Header 映射键中添加 TrailerPrefix 常量值前缀。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请参阅 TrailerPrefix。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 要抑制自动响应标头(例如&#34;Date&#34;)，请将其值设置为 nil。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Header</span>() <span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Write 在 HTTP 响应的一部分将数据写入连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果尚未调用 WriteHeader，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则 Write 在写入数据之前调用 WriteHeader(http.StatusOK)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果标头不包含 Content-Type 行，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则 Write 添加一个 Content-Type 集，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 将初始 512 字节的写入数据传递给 DetectContentType 的结果。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 此外，如果所有写入数据的总大小小于几 KB，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 且没有 Flush 调用，则会自动添加 Content-Length 标头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 根据 HTTP 协议版本和客户端，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 调用 Write 或 WriteHeader 可能会阻止 Request.Body 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 上的未来读取。对于 HTTP/1.x 请求，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 处理程序应在编写响应之前读取任何所需的请求正文数据。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 一旦标头已被刷新(由于显式调用 Flusher.Flush 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 或写入足够的数据以触发刷新)，请求正文可能不可用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于 HTTP/2 请求，Go HTTP 服务器允许处理程序
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在并发写入响应时继续读取请求正文。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 但是，并非所有 HTTP/2 客户端都支持这种行为。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果可能的话，处理程序应在编写之前进行读取，以最大程度地提高兼容性。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Write</span>([]<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WriteHeader 使用提供的状态码发送 HTTP 响应头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果没有显式调用 WriteHeader，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 第一次调用 Write 将会触发一个隐式的 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// WriteHeader(http.StatusOK)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 因此，显式调用 WriteHeader 主要用于发送错误代码
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 或 1xx 的信息响应。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 提供的代码必须是有效的 HTTP 1xx-5xx 状态码。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 可以写入任意数量的 1xx 头，其后最多一个 2xx-5xx 头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 1xx 头会立即发送，但 2xx-5xx 头可能会被缓冲。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 使用 Flusher 接口发送缓冲的数据。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在发送 2xx-5xx 头时，头映射将被清除，但在 1xx 头时不会被清除。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果请求有一个&#34;Expect: 100-continue&#34;头，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 服务器将在第一次从请求正文读取时自动发送一个 100(Continue)头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">WriteHeader</span>(<span style="color:#e06c75">statusCode</span> <span style="color:#e5c07b">int</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ResponseWriter接口由HTTP处理程序用于构建HTTP响应。</p>
<p>​	在Handler.ServeHTTP方法返回之后，不得再使用ResponseWriter。</p>
<h5 id="example-1">Example</h5>
<p>​	HTTP 尾部标签(HTTP Trailers)是一组键/值对，类似于报头(headers)，但是它们出现在 HTTP 响应的末尾而不是前面。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">mux</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">NewServeMux</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">mux</span>.<span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#98c379">&#34;/sendstrailers&#34;</span>, <span style="color:#c678dd">func</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#7f848e">// Before any call to WriteHeader or Write, declare
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#7f848e">// the trailers you will set during the HTTP
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#7f848e">// response. These three headers are actually sent in
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#7f848e">// the trailer.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">Header</span>().<span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#98c379">&#34;Trailer&#34;</span>, <span style="color:#98c379">&#34;AtEnd1, AtEnd2&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">Header</span>().<span style="color:#61afef;font-weight:bold">Add</span>(<span style="color:#98c379">&#34;Trailer&#34;</span>, <span style="color:#98c379">&#34;AtEnd3&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">Header</span>().<span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#98c379">&#34;Content-Type&#34;</span>, <span style="color:#98c379">&#34;text/plain; charset=utf-8&#34;</span>) <span style="color:#7f848e">// normal header
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">WriteHeader</span>(<span style="color:#e06c75">http</span>.<span style="color:#e06c75">StatusOK</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">Header</span>().<span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#98c379">&#34;AtEnd1&#34;</span>, <span style="color:#98c379">&#34;value 1&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">WriteString</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;This HTTP response has both headers before this text and trailers at the end.\n&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">Header</span>().<span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#98c379">&#34;AtEnd2&#34;</span>, <span style="color:#98c379">&#34;value 2&#34;</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">w</span>.<span style="color:#61afef;font-weight:bold">Header</span>().<span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#98c379">&#34;AtEnd3&#34;</span>, <span style="color:#98c379">&#34;value 3&#34;</span>) <span style="color:#7f848e">// These will appear as trailers.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	})
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-roundtripperhttpscsopensourcegooglegogogo1201srcnethttpclientgol117">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/client.go;l=117" target="_blank" rel="noopener">RoundTripper</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">RoundTripper</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// RoundTrip执行单个HTTP事务，为提供的Request返回一个Response。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// RoundTrip不应该试图解释响应。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 特别是，无论响应的HTTP状态代码如何，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// RoundTrip必须返回err == nil。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 非nil err 应该保留给无法获取响应的情况。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 同样，RoundTrip不应尝试处理高级协议细节，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 例如重定向，身份验证或cookie。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// RoundTrip不应修改请求，除了消耗和关闭请求的Body。 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// RoundTrip可以在单独的goroutine中读取请求的字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 调用方不应在关闭响应的Body之前更改或重用请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// RoundTrip必须始终关闭Body，即使出现错误，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 但是根据实现可能会在RoundTrip返回后在单独的goroutine中执行关闭。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 这意味着，调用者想要重用Body进行后续请求必须
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在进行此操作之前安排等待Close调用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Request的URL和Header字段必须初始化。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">RoundTrip</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RoundTripper是一个接口，表示执行单个HTTP事务的能力，获得给定请求的响应。</p>
<p>​	RoundTripper必须对多个goroutine进行并发使用的安全。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">DefaultTransport</span> <span style="color:#e06c75">RoundTripper</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">Transport</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Proxy</span>: <span style="color:#e06c75">ProxyFromEnvironment</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">DialContext</span>: <span style="color:#61afef;font-weight:bold">defaultTransportDialContext</span>(<span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">net</span>.<span style="color:#e06c75">Dialer</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">Timeout</span>:   <span style="color:#d19a66">30</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Second</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">KeepAlive</span>: <span style="color:#d19a66">30</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Second</span>,
</span></span><span style="display:flex;"><span>	}),
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ForceAttemptHTTP2</span>:     <span style="color:#e5c07b">true</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">MaxIdleConns</span>:          <span style="color:#d19a66">100</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IdleConnTimeout</span>:       <span style="color:#d19a66">90</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Second</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">TLSHandshakeTimeout</span>:   <span style="color:#d19a66">10</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Second</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ExpectContinueTimeout</span>: <span style="color:#d19a66">1</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Second</span>,
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DefaultTransport是Transport的默认实现，并由DefaultClient使用。它根据需要建立网络连接并将其缓存以供后续调用重用。它按照环境变量HTTP_PROXY、HTTPS_PROXY和NO_PROXY(或其小写版本)的指示使用HTTP代理。</p>
<h4 id="func-newfiletransporthttpscsopensourcegooglegogogo1201srcnethttpfiletransportgol30">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/filetransport.go;l=30" target="_blank" rel="noopener">NewFileTransport</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewFileTransport</span>(<span style="color:#e06c75">fs</span> <span style="color:#e06c75">FileSystem</span>) <span style="color:#e06c75">RoundTripper</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NewFileTransport函数返回一个新的RoundTripper，为所提供的FileSystem提供服务。返回的RoundTripper忽略其传入请求中的URL主机，以及请求的大多数其他属性。</p>
<p>​	NewFileTransport函数的典型用例是向Transport注册&quot;file&quot;协议，例如：</p>
<pre tabindex="0"><code>t := &amp;http.Transport{}
t.RegisterProtocol(&#34;file&#34;, http.NewFileTransport(http.Dir(&#34;/&#34;)))
c := &amp;http.Client{Transport: t}
res, err := c.Get(&#34;file:///etc/passwd&#34;)
...
</code></pre><h3 id="type-samesitehttpscsopensourcegooglegogogo1201srcnethttpcookiegol49----go111">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookie.go;l=49" target="_blank" rel="noopener">SameSite</a>  &lt;- go1.11</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">SameSite</span> <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SameSite 允许服务器定义一个 cookie 属性，使浏览器无法将该 cookie 与跨站请求一起发送。主要目的是减少跨源信息泄露的风险，并提供一定的保护，以防止跨站请求伪造攻击。</p>
<p>详见 <a href="https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00" target="_blank" rel="noopener">https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00</a>。</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">SameSiteDefaultMode</span> <span style="color:#e06c75">SameSite</span> = <span style="color:#e5c07b">iota</span> <span style="color:#56b6c2">+</span> <span style="color:#d19a66">1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">SameSiteLaxMode</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">SameSiteStrictMode</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">SameSiteNoneMode</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-servemuxhttpscsopensourcegooglegogogo1201srcnethttpservergol2306">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2306" target="_blank" rel="noopener">ServeMux</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ServeMux</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含过滤或未公开的字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ServeMux 是一个 HTTP 请求多路复用器。它将每个传入请求的 URL 与已注册模式列表进行匹配，并调用与 URL 最匹配的模式的处理程序。</p>
<p>​	模式命名了固定的根路径，如 &ldquo;/favicon.ico&rdquo;，或根子树，如 &ldquo;/images/&quot;(请注意尾随斜杠)。较长的模式优先于较短的模式，因此，如果为 &ldquo;/images/&rdquo; 和 &ldquo;/images/thumbnails/&rdquo; 都注册了处理程序，则后者处理程序将用于以 &ldquo;/images/thumbnails/&rdquo; 开头的路径，并且前者将接收任何 &ldquo;/images/&rdquo; 子树中的其他路径的请求。</p>
<p>​	请注意，由于以斜杠结尾的模式命名了一个根子树，因此模式 &ldquo;/&rdquo; 匹配所有未被其他已注册模式匹配的路径，而不仅仅是 Path == &ldquo;/&rdquo; 的 URL。</p>
<p>​	如果已经注册了子树，并收到了以其末尾没有斜杠的根子树命名的请求，ServeMux 会将该请求重定向到根子树(添加尾随斜杠)。此行为可以通过单独为没有尾随斜杠的路径注册来覆盖。例如，注册 &ldquo;/images/&rdquo; 会导致 ServeMux 将对 &ldquo;/images&rdquo; 的请求重定向到 &ldquo;/images/&quot;，除非 &ldquo;/images&rdquo; 已经单独注册。</p>
<p>​	模式可以可选地以主机名开头，将匹配限制为仅在该主机的 URL。特定于主机的模式优先于通用模式，因此处理程序可能会注册两个模式 &ldquo;/codesearch&rdquo; 和 &ldquo;codesearch.google.com/&quot;，而不会同时接管 &ldquo;<a href="http://www.google.com/%22" target="_blank" rel="noopener">http://www.google.com/"</a> 的请求。</p>
<p>​	ServeMux 还负责对 URL 请求路径和 Host 标头进行清理，删除端口号，并将包含 . 或 .. 元素或重复斜杠的任何请求重定向到等效且更清晰的 URL。</p>
<h4 id="func-newservemuxhttpscsopensourcegooglegogogo1201srcnethttpservergol2319">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2319" target="_blank" rel="noopener">NewServeMux</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewServeMux</span>() <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServeMux</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NewServeMux函数分配并返回一个新的 ServeMux。</p>
<h4 id="servemux-handlehttpscsopensourcegooglegogogo1201srcnethttpservergol2505">(*ServeMux) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2505" target="_blank" rel="noopener">Handle</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">mux</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServeMux</span>) <span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#e06c75">pattern</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">handler</span> <span style="color:#e06c75">Handler</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Handle方法为给定的模式注册处理程序。如果已存在处理程序，则 Handle 方法会引发 panic。</p>
<h5 id="handle-example-1">Handle Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">apiHandler</span> <span style="color:#c678dd">struct</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">apiHandler</span>) <span style="color:#61afef;font-weight:bold">ServeHTTP</span>(<span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">mux</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">NewServeMux</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">mux</span>.<span style="color:#61afef;font-weight:bold">Handle</span>(<span style="color:#98c379">&#34;/api/&#34;</span>, <span style="color:#e06c75">apiHandler</span>{})
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">mux</span>.<span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#98c379">&#34;/&#34;</span>, <span style="color:#c678dd">func</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#7f848e">// The &#34;/&#34; pattern matches everything, so we need to check
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#7f848e">// that we&#39;re at the root here.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">req</span>.<span style="color:#e06c75">URL</span>.<span style="color:#e06c75">Path</span> <span style="color:#56b6c2">!=</span> <span style="color:#98c379">&#34;/&#34;</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">NotFound</span>(<span style="color:#e06c75">w</span>, <span style="color:#e06c75">req</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#c678dd">return</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Fprintf</span>(<span style="color:#e06c75">w</span>, <span style="color:#98c379">&#34;Welcome to the home page!&#34;</span>)
</span></span><span style="display:flex;"><span>	})
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="servemux-handlefunchttpscsopensourcegooglegogogo1201srcnethttpservergol2549">(*ServeMux) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2549" target="_blank" rel="noopener">HandleFunc</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">mux</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServeMux</span>) <span style="color:#61afef;font-weight:bold">HandleFunc</span>(<span style="color:#e06c75">pattern</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">handler</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>))
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	HandleFunc方法为给定的模式注册处理函数。</p>
<h4 id="servemux-handlerhttpscsopensourcegooglegogogo1201srcnethttpservergol2436----go11">(*ServeMux) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2436" target="_blank" rel="noopener">Handler</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">mux</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServeMux</span>) <span style="color:#61afef;font-weight:bold">Handler</span>(<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Handler</span>, <span style="color:#e06c75">pattern</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Handler方法根据 r.Method、r.Host 和 r.URL.Path 来获取给定请求使用的处理程序。它始终返回一个非 nil 的处理程序。如果路径不在其规范形式中，则处理程序将是一个内部生成的处理程序，用于重定向到规范路径。如果主机包含端口，则匹配处理程序时将忽略该端口。</p>
<p>​	对于 CONNECT 请求，路径和主机都不会被修改。</p>
<p>​	Handler方法还返回与请求匹配的已注册模式，或在生成重定向的情况下，将在遵循重定向后匹配的模式。</p>
<p>​	如果没有已注册的处理程序适用于请求，则 Handler方法返回一个&quot;页面未找到&quot;的处理程序和一个空模式。</p>
<h4 id="servemux-servehttphttpscsopensourcegooglegogogo1201srcnethttpservergol2491">(*ServeMux) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2491" target="_blank" rel="noopener">ServeHTTP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">mux</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServeMux</span>) <span style="color:#61afef;font-weight:bold">ServeHTTP</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ServeHTTP方法将请求分派到模式最接近请求 URL 的处理程序。</p>
<h3 id="type-serverhttpscsopensourcegooglegogogo1201srcnethttpservergol2603">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2603" target="_blank" rel="noopener">Server</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">89
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Server</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Addr 可选地指定服务器监听的 TCP 地址，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 格式为 &#34;host:port&#34;。如果为空，则使用 &#34;:http&#34;(端口80)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 服务名称在 RFC 6335 中定义，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并由 IANA 分配。有关地址格式的详细信息，请参见 net.Dial。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Addr</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#7f848e">// 处理程序，如果为nil，则使用http.DefaultServeMux
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Handler</span> <span style="color:#e06c75">Handler</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 如果为 true，则禁用通用 OPTIONS 处理程序，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并将 &#34;OPTIONS *&#34; 请求传递给处理程序，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 否则响应为 200 OK 并带有 Content-Length：0。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DisableGeneralOptionsHandler</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLSConfig 可选地提供用于 ServeTLS 和 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// ListenAndServeTLS 的 TLS 配置。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请注意，此值将由 ServeTLS 和 ListenAndServeTLS 克隆，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 因此无法使用 tls.Config.SetSessionTicketKeys 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 等方法修改配置。要使用 SetSessionTicketKeys，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请改用具有 TLS 监听器的 Server.Serve。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLSConfig</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">tls</span>.<span style="color:#e06c75">Config</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ReadTimeout 是读取整个请求(包括正文)的最长时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 零值或负值表示没有超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 由于 ReadTimeout 不允许处理程序对每个请求正文的
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 可接受截止时间或上传速率做出每个请求的决策，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 因此大多数用户将更喜欢使用 ReadHeaderTimeout。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 使用这两个值是有效的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ReadTimeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ReadHeaderTimeout 是允许读取请求标头的时间量。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 读取标头后，连接的读取截止时间将重置，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 处理程序可以决定什么被认为是请求主体的过慢的响应时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 ReadHeaderTimeout 为零，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则使用 ReadTimeout 的值。如果两者都为零，则没有超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ReadHeaderTimeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WriteTimeout 是在超时写入响应之前的最长持续时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 每次读取新请求的标头时都会重置它。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 与 ReadTimeout 一样，它不允许处理程序对每个请求做出决策。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 零值或负值表示没有超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">WriteTimeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// IdleTimeout 是在启用保持连接的情况下等待下一个请求的最长时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 IdleTimeout 为零，则使用 ReadTimeout 的值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果两者都为零，则没有超时时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IdleTimeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// MaxHeaderBytes 控制服务器在解析请求标头的键和值
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//(包括请求行)时读取的最大字节数。它不限制请求主体的大小。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果为零，则使用 DefaultMaxHeaderBytes。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MaxHeaderBytes</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLSNextProto 可选地指定一个函数，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 以在 ALPN 协议升级发生时接管提供的 TLS 连接所有权。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 映射键是协议协商的协议名称。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Handler 参数应用于处理 HTTP 请求，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并将初始化请求的 TLS 和 RemoteAddr(如果尚未设置)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 该函数返回时连接将自动关闭。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 TLSNextProto 不为 nil，则不会自动启用 HTTP/2 支持。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLSNextProto</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#c678dd">func</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">tls</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#e06c75">Handler</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ConnState 指定一个可选的回调函数，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 当客户端连接更改状态时调用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 有关详细信息，请参见 ConnState 类型和相关常量。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ConnState</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#e06c75">ConnState</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ErrorLog 指定一个可选的记录器，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 用于记录接受连接时的错误、处理程序的意外行为以及
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 基础 FileSystem 的错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果为 nil，则通过 log 包的标准记录器进行记录。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrorLog</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">log</span>.<span style="color:#e06c75">Logger</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// BaseContext 可选地指定一个函数，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 该函数返回此服务器上的传入请求的基本上下文。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 提供的 Listener 是即将开始接受请求的特定 Listener。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 BaseContext 为 nil，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则默认为 context.Background()。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果非 nil，则必须返回非 nil 上下文。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">BaseContext</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>) <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ConnContext 可选地指定一个函数，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 该函数修改用于新连接 c 的上下文。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 提供的 ctx 派生自基本上下文并具有 ServerContextKey 值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ConnContext</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">c</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>) <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含已过滤或未公开的字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Server定义了运行HTTP服务器的参数。Server的零值是有效的配置。</p>
<h4 id="server-closehttpscsopensourcegooglegogogo1201srcnethttpservergol2722----go18">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2722" target="_blank" rel="noopener">Close</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">srv</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Close方法会立即关闭所有活动的net.Listeners和状态为StateNew、StateActive或StateIdle的任何连接。为了优雅的关闭，请使用Shutdown方法。</p>
<p>​	Close方法不会尝试关闭(甚至不知道)任何被劫持的连接，例如WebSockets。</p>
<p>​	Close方法返回从关闭Server的底层Listener(s)返回的任何错误。</p>
<h4 id="server-listenandservehttpscsopensourcegooglegogogo1201srcnethttpservergol2976">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2976" target="_blank" rel="noopener">ListenAndServe</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">srv</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">ListenAndServe</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenAndServe方法在TCP网络地址srv.Addr上监听并调用Serve来处理传入连接的请求。接受的连接将被配置为启用TCP keep-alives。</p>
<p>​	如果srv.Addr为空，则使用&rdquo;：http&rdquo;。</p>
<p>​	ListenAndServe方法始终返回非零错误。在Shutdown方法或Close方法之后，返回的错误是ErrServerClosed。</p>
<h4 id="server-listenandservetlshttpscsopensourcegooglegogogo1201srcnethttpservergol3270">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3270" target="_blank" rel="noopener">ListenAndServeTLS</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">srv</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">ListenAndServeTLS</span>(<span style="color:#e06c75">certFile</span>, <span style="color:#e06c75">keyFile</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenAndServeTLS方法在TCP网络地址srv.Addr上监听并调用ServeTLS来处理传入TLS连接的请求。接受的连接将被配置为启用TCP keep-alives。</p>
<p>​	如果Server的TLSConfig.Certificates或TLSConfig.GetCertificate都未填充，则必须提供包含服务器证书和匹配私钥的文件名。如果证书由证书颁发机构签名，则certFile应该是服务器证书、任何中间证书和CA的证书的串联。</p>
<p>​	如果srv.Addr为空，则使用&rdquo;：https&rdquo;。</p>
<p>​	ListenAndServeTLS方法始终返回非零错误。在Shutdown方法或Close方法之后，返回的错误是ErrServerClosed。</p>
<h4 id="server-registeronshutdownhttpscsopensourcegooglegogogo1201srcnethttpservergol2815----go19">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2815" target="_blank" rel="noopener">RegisterOnShutdown</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">srv</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">RegisterOnShutdown</span>(<span style="color:#e06c75">f</span> <span style="color:#c678dd">func</span>())
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RegisterOnShutdown方法注册一个在Shutdown时调用的函数。这可用于优雅地关闭已经进行了ALPN协议升级或已被劫持的连接。此函数应启动协议特定的优雅关闭，但不应等待关闭完成。</p>
<h4 id="server-servehttpscsopensourcegooglegogogo1201srcnethttpservergol3029">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3029" target="_blank" rel="noopener">Serve</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">srv</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Serve</span>(<span style="color:#e06c75">l</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Serve方法在监听器l上接受传入的连接，为每个连接创建一个新的服务goroutine。服务goroutine读取请求，然后调用srv.Handler回复请求。</p>
<p>​	仅当Listener返回*tls.Conn连接并且它们使用TLS Config.NextProtos配置为&quot;h2&quot;时才启用HTTP/2支持。</p>
<p>​	Serve方法总是返回一个非nil错误并关闭l。在Shutdown方法或Close方法之后，返回的错误是ErrServerClosed。</p>
<h4 id="server-servetlshttpscsopensourcegooglegogogo1201srcnethttpservergol3106----go19">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3106" target="_blank" rel="noopener">ServeTLS</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">srv</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">ServeTLS</span>(<span style="color:#e06c75">l</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>, <span style="color:#e06c75">certFile</span>, <span style="color:#e06c75">keyFile</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ServeTLS方法在监听器l上接受传入的连接，为每个连接创建一个新的服务goroutine。服务goroutine执行TLS设置，然后读取请求，调用srv.Handler回复请求。</p>
<p>​	如果未填充Server的TLSConfig.Certificates或TLSConfig.GetCertificate，则必须提供包含服务器证书和匹配私钥的文件。如果证书由证书颁发机构签名，则certFile应该是服务器证书、任何中间证书和CA证书的连接。</p>
<p>​	ServeTLS方法总是返回一个非nil错误。在Shutdown方法或Close方法之后，返回的错误是ErrServerClosed。</p>
<h4 id="server-setkeepalivesenabledhttpscsopensourcegooglegogogo1201srcnethttpservergol3200----go13">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=3200" target="_blank" rel="noopener">SetKeepAlivesEnabled</a>  &lt;- go1.3</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">srv</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">SetKeepAlivesEnabled</span>(<span style="color:#e06c75">v</span> <span style="color:#e5c07b">bool</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetKeepAlivesEnabled方法控制是否启用HTTP keep-alives。默认情况下，keep-alives始终启用。只有非常资源受限的环境或正在关闭的服务器才应禁用它们。</p>
<h4 id="server-shutdownhttpscsopensourcegooglegogogo1201srcnethttpservergol2772----go18">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/server.go;l=2772" target="_blank" rel="noopener">Shutdown</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">srv</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Shutdown</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Shutdown方法优雅地关闭服务器，而不会中断任何活动连接。Shutdown的工作原理是首先关闭所有打开的侦听器，然后关闭所有空闲连接，最后无限期地等待连接返回空闲状态，然后关闭。如果提供的上下文在关闭完成之前过期，则Shutdown方法返回上下文的错误，否则它返回从关闭服务器的基础侦听器(s)返回的任何错误。</p>
<p>​	当调用 Shutdown方法时，Serve函数、ListenAndServe函数和 ListenAndServeTLS函数立即返回 ErrServerClosed。确保程序不会退出，而是等待 Shutdown 返回。</p>
<p>​	Shutdown方法不会尝试关闭也不会等待诸如 WebSocket 等被劫持的连接。如果需要，Shutdown 的调用者应该单独通知这些长期运行的连接关闭并等待它们关闭。有关注册关闭通知函数的方法，请参见 RegisterOnShutdown。</p>
<p>​	一旦在服务器上调用了 Shutdown方法，就不能重用它；诸如 Serve 等方法的未来调用将返回 ErrServerClosed。</p>
<h5 id="shutdown-example">Shutdown Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/http&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;os&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;os/signal&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">srv</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Server</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">idleConnsClosed</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>(<span style="color:#c678dd">chan</span> <span style="color:#c678dd">struct</span>{})
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">go</span> <span style="color:#c678dd">func</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">sigint</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">make</span>(<span style="color:#c678dd">chan</span> <span style="color:#e06c75">os</span>.<span style="color:#e06c75">Signal</span>, <span style="color:#d19a66">1</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">signal</span>.<span style="color:#61afef;font-weight:bold">Notify</span>(<span style="color:#e06c75">sigint</span>, <span style="color:#e06c75">os</span>.<span style="color:#e06c75">Interrupt</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#56b6c2">&lt;-</span><span style="color:#e06c75">sigint</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#7f848e">// We received an interrupt signal, shut down.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">srv</span>.<span style="color:#61afef;font-weight:bold">Shutdown</span>(<span style="color:#e06c75">context</span>.<span style="color:#61afef;font-weight:bold">Background</span>()); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#7f848e">// Error from closing listeners, or context timeout:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>			<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;HTTP server Shutdown: %v&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#e5c07b">close</span>(<span style="color:#e06c75">idleConnsClosed</span>)
</span></span><span style="display:flex;"><span>	}()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">srv</span>.<span style="color:#61afef;font-weight:bold">ListenAndServe</span>(); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ErrServerClosed</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#7f848e">// Error starting or closing listener:
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatalf</span>(<span style="color:#98c379">&#34;HTTP server ListenAndServe: %v&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#56b6c2">&lt;-</span><span style="color:#e06c75">idleConnsClosed</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-transporthttpscsopensourcegooglegogogo1201srcnethttptransportgol95">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transport.go;l=95" target="_blank" rel="noopener">Transport</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">113
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">114
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">115
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">116
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">117
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">118
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">119
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">120
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">121
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">122
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">123
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">124
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">125
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">126
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">127
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">128
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">129
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">130
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">131
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">132
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">133
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">134
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">135
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">136
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">137
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">138
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">139
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">140
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">141
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">142
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">143
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">144
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">145
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">146
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">147
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">148
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">149
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">150
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">151
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">152
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">153
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">154
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">155
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">156
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">157
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Transport</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Proxy 指定返回给定请求的代理函数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果函数返回非空错误，则使用提供的错误中止请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 代理类型由 URL 方案确定。支持&#34;http&#34;、&#34;https&#34;和&#34;socks5&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果方案为空，则假定为&#34;http&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果 Proxy 为 nil 或返回 nil *URL，则不使用代理。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Proxy</span> <span style="color:#c678dd">func</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// OnProxyConnectResponse 在 Transport 获取代理的 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// CONNECT 请求的 HTTP 响应时调用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 它在检查是否为 200 OK 响应之前被调用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果它返回错误，则请求将失败并返回该错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">OnProxyConnectResponse</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">proxyURL</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>, <span style="color:#e06c75">connectReq</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e06c75">connectRes</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DialContext 指定用于创建未加密 TCP 连接的 dial 函数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 DialContext 为 nil(并且下面的 Dial 已弃用)，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则 transport 使用 package net 进行拨号。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// DialContext 与调用 RoundTrip 并发运行。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 发起 dial 的 RoundTrip 调用可能会在 DialContext 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 完成之前变得空闲，从而使用之前拨打的连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DialContext</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Dial 指定用于创建未加密 TCP 连接的 dial 函数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Dial 与调用 RoundTrip 并发运行。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 发起 dial 的 RoundTrip 调用可能会在 Dial 完成之前变得空闲，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 从而使用之前拨打的连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 已弃用：使用 DialContext 代替，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 它允许 transport 在不再需要 dial 时立即取消它们。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果两者都设置，则 DialContext 优先。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Dial</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DialTLSContext 指定了一个可选的拨号函数，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 用于为非代理的 HTTPS 请求创建 TLS 连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果 DialTLSContext 为 nil(并且已弃用的 DialTLS 也是 nil)，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则使用 DialContext 和 TLSClientConfig。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果设置了 DialTLSContext，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则 HTTPS 请求不使用 Dial 和 DialContext 钩子，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并且忽略 TLSClientConfig 和 TLSHandshakeTimeout。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 假定返回的 net.Conn 已经经过了 TLS 握手。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DialTLSContext</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DialTLS 指定了一个可选的拨号函数，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 用于为非代理的 HTTPS 请求创建 TLS 连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 已弃用：使用 DialTLSContext 代替，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 它允许传输在不再需要时取消拨号。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果两者都设置了，DialTLSContext 优先。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DialTLS</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLSClientConfig 指定用于 tls.Client 的 TLS 配置。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为 nil，则使用默认配置。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为非 nil，则默认情况下可能未启用 HTTP/2 支持。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLSClientConfig</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">tls</span>.<span style="color:#e06c75">Config</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLSHandshakeTimeout 指定等待 TLS 握手的最长时间。零表示无超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLSHandshakeTimeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DisableKeepAlives 为 true 时禁用 HTTP keep-alives，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并且仅使用与服务器的连接进行单个 HTTP 请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 这与同名的 TCP keep-alives 无关。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DisableKeepAlives</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DisableCompression 为 true 时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 阻止 Transport 在 Request 不包含任何现有的 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Accept-Encoding 值时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 使用&#34;Accept-Encoding：gzip&#34;请求标头请求压缩。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 Transport 自行请求 gzip 并获得 gzipped 响应，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则 Response.Body 中的响应会被透明解码。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 但是，如果用户明确请求 gzip，则不会自动解压缩。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DisableCompression</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// MaxIdleConns 控制所有主机上闲置(keep-alive)连接的最大数量。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 零表示没有限制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MaxIdleConns</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// MaxIdleConnsPerHost(如果非零)控制每个主机
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 保留的最大闲置(keep-alive)连接数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果为零，则使用 DefaultMaxIdleConnsPerHost。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MaxIdleConnsPerHost</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// MaxConnsPerHost 可选择限制每个主机的总连接数，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 包括拨号、活动和空闲状态的连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 当超过限制时，拨号将阻塞。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 零表示没有限制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MaxConnsPerHost</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// IdleConnTimeout 是空闲(keep-alive)连接保持
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 空闲状态的最长时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 零表示没有限制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IdleConnTimeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ResponseHeaderTimeout(如果非零)指定完全写入请求
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">//(包括其正文，如果有)后等待服务器的响应标头的时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 此时间不包括读取响应正文的时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ResponseHeaderTimeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ExpectContinueTimeout(如果非零)指定发送
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 带有&#34;Expect: 100-continue&#34;标头的请求标头后，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 等待服务器的第一个响应标头的时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 零表示没有超时，会立即发送请求正文，无需等待服务器批准。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 此时间不包括发送请求标头的时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ExpectContinueTimeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLSNextProto 指定如何在 TLS ALPN 协议协商后切换到
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 替代协议(例如 HTTP/2)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果 Transport 用非空协议名称拨号 TLS 连接，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 并且 TLSNextProto 包含该键(例如 &#34;h2&#34;)的映射条目，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 则将使用请求的授权(例如&#34;example.com&#34;或&#34;example.com:1234&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 和 TLS 连接调用该函数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 该函数必须返回一个 RoundTripper，然后处理该请求。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果 TLSNextProto 不为 nil，则不会自动启用 HTTP/2 支持。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLSNextProto</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#c678dd">func</span>(<span style="color:#e06c75">authority</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">tls</span>.<span style="color:#e06c75">Conn</span>) <span style="color:#e06c75">RoundTripper</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ProxyConnectHeader 可选地指定在 CONNECT 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请求期间发送到代理的标头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 要动态设置标头，请参见 GetProxyConnectHeader。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ProxyConnectHeader</span> <span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// GetProxyConnectHeader 可选地指定要在针对 ip:port 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 目标的 CONNECT 请求期间发送到 proxyURL 的标头的函数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果返回错误，则 Transport 的 RoundTrip 会失败并返回该错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 它可以返回 (nil, nil) 以不添加标头。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果 GetProxyConnectHeader 不是 nil，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则 ProxyConnectHeader 将被忽略。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">GetProxyConnectHeader</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">proxyURL</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>, <span style="color:#e06c75">target</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Header</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// MaxResponseHeaderBytes 指定在服务器的响应标头中
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 允许多少响应字节的限制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为零，则使用默认限制。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MaxResponseHeaderBytes</span> <span style="color:#e5c07b">int64</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WriteBufferSize 指定在写入传输时使用的写缓冲区的大小。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为零，则使用默认值(当前为 4KB)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">WriteBufferSize</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ReadBufferSize 指定在从传输中读取时使用的读缓冲区的大小。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为零，则使用默认值(当前为 4KB)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ReadBufferSize</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ForceAttemptHTTP2 控制在提供了非零的 Dial、DialTLS 或 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// DialContext 函数或 TLSClientConfig 时是否启用 HTTP/2。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 默认情况下，使用任何这些字段都会保守地禁用 HTTP/2。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 要使用自定义拨号器或 TLS 配置并仍然尝试 HTTP/2 升级，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 请将其设置为 true。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ForceAttemptHTTP2</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含过滤或不导出的字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Transport 是一个实现了 RoundTripper 接口的结构体，支持 HTTP、HTTPS 和 HTTP 代理(使用 CONNECT 实现 HTTP 或 HTTPS 代理)。</p>
<p>​	默认情况下，Transport 会缓存连接以便后续重用。这会在访问多个主机时导致许多开放的连接。可以使用 Transport 的 CloseIdleConnections 方法以及 MaxIdleConnsPerHost 和 DisableKeepAlives 字段来管理这种行为。</p>
<p>​	应该重复使用 Transport 而不是按需创建它们。Transport 可以被多个 goroutine 并发使用。</p>
<p>​	Transport 是用于进行 HTTP 和 HTTPS 请求的低级原语。对于高级功能(如 cookie 和重定向)，请参阅 Client。</p>
<p>​	Transport 在 HTTP URL 上使用 HTTP/1.1，在 HTTPS URL 上使用 HTTP/1.1 或 HTTP/2，具体取决于服务器是否支持 HTTP/2，以及 Transport 的配置方式。DefaultTransport 支持 HTTP/2。要在传输中显式启用 HTTP/2，请使用 golang.org/x/net/http2 并调用 ConfigureTransport。有关 HTTP/2 的更多信息，请参见软件包文档。</p>
<p>​	状态代码为 1xx 的响应要么被自动处理(100 expect-continue)，要么被忽略。唯一的例外是 HTTP 状态码 101(切换协议)，它被视为终端状态并由 RoundTrip 返回。要查看被忽略的 1xx 响应，请使用 httptrace 跟踪包的 ClientTrace.Got1xxResponse。</p>
<p>​	仅当请求是幂等的并且没有主体或其 Request.GetBody 已定义时，Transport 才在遇到网络错误时重试请求。如果 HTTP 请求具有 HTTP 方法 GET、HEAD、OPTIONS 或 TRACE，或者它们的 Header 映射包含 &ldquo;Idempotency-Key&rdquo; 或 &ldquo;X-Idempotency-Key&rdquo; 条目，则被视为幂等的。如果幂等键值为零长度切片，则将该请求视为幂等，但不会将头部发送到网络。</p>
<h4 id="transport-clonehttpscsopensourcegooglegogogo1201srcnethttptransportgol313----go113">(*Transport) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transport.go;l=313" target="_blank" rel="noopener">Clone</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Transport</span>) <span style="color:#61afef;font-weight:bold">Clone</span>() <span style="color:#56b6c2">*</span><span style="color:#e06c75">Transport</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Clone方法返回 t 的导出字段的深度副本。</p>
<h4 id="transport-closeidleconnectionshttpscsopensourcegooglegogogo1201srcnethttptransportgol772">(*Transport) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transport.go;l=772" target="_blank" rel="noopener">CloseIdleConnections</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Transport</span>) <span style="color:#61afef;font-weight:bold">CloseIdleConnections</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CloseIdleConnections方法关闭之前从先前的请求连接到的但现在处于&quot;保持活动&quot;状态的空闲连接。它不会中断当前正在使用的任何连接。</p>
<h4 id="transport-registerprotocolhttpscsopensourcegooglegogogo1201srcnethttptransportgol753">(*Transport) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/transport.go;l=753" target="_blank" rel="noopener">RegisterProtocol</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Transport</span>) <span style="color:#61afef;font-weight:bold">RegisterProtocol</span>(<span style="color:#e06c75">scheme</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">rt</span> <span style="color:#e06c75">RoundTripper</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RegisterProtocol方法注册一个新的协议，使用指定的协议名称(scheme)和RoundTripper处理程序(rt)。Transport会将使用给定scheme的请求传递给rt。它是rt的责任来模拟HTTP请求语义。</p>
<p>​	RegisterProtocol方法可以被其他包用来提供协议方案(scheme)的实现，例如&quot;ftp&quot;或&quot;file&quot;。</p>
<p>​	如果rt.RoundTrip返回ErrSkipAltProtocol，则Transport将自己处理该请求的RoundTrip，就好像未注册该协议一样。</p>
<h4 id="transport-roundtriphttpscsopensourcegooglegogogo1201srcnethttproundtripgol16">(*Transport) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/roundtrip.go;l=16" target="_blank" rel="noopener">RoundTrip</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Transport</span>) <span style="color:#61afef;font-weight:bold">RoundTrip</span>(<span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RoundTrip方法实现RoundTripper接口。</p>
<p>​	对于更高级的HTTP客户端支持(例如处理cookie和重定向)，请参见Get，Post和Client类型。</p>
<p>​	与RoundTripper接口一样，RoundTrip返回的错误类型是未指定的。</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-51756e3c3481b073ee88ad516492ac64">3 - http/cli</h1>
    
	<h1 id="cgi">cgi</h1>
<p><a href="https://pkg.go.dev/net/http/cgi@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/http/cgi@go1.20.1</a></p>
<p>Package cgi implements CGI (Common Gateway Interface) as specified in <a href="https://rfc-editor.org/rfc/rfc3875.html" target="_blank" rel="noopener">RFC 3875</a>.</p>
<p>Note that using CGI means starting a new process to handle each request, which is typically less efficient than using a long-running server. This package is intended primarily for compatibility with existing systems.</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-requesthttpscsopensourcegooglegogogo1201srcnethttpcgichildgol28">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cgi/child.go;l=28" target="_blank" rel="noopener">Request</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Request</span>() (<span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Request returns the HTTP request as represented in the current environment. This assumes the current program is being run by a web server in a CGI environment. The returned Request&rsquo;s Body is populated, if applicable.</p>
<h4 id="func-requestfrommaphttpscsopensourcegooglegogogo1201srcnethttpcgichildgol51">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cgi/child.go;l=51" target="_blank" rel="noopener">RequestFromMap</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">RequestFromMap</span>(<span style="color:#e06c75">params</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>]<span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>RequestFromMap creates an http.Request from CGI variables. The returned Request&rsquo;s Body field is not populated.</p>
<h4 id="func-servehttpscsopensourcegooglegogogo1201srcnethttpcgichildgol145">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cgi/child.go;l=145" target="_blank" rel="noopener">Serve</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Serve</span>(<span style="color:#e06c75">handler</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Handler</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Serve executes the provided Handler on the currently active CGI request, if any. If there&rsquo;s no current CGI environment an error is returned. The provided handler may be nil to use http.DefaultServeMux.</p>
<h2 id="类型">类型</h2>
<h3 id="type-handlerhttpscsopensourcegooglegogogo1201srcnethttpcgihostgol57">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cgi/host.go;l=57" target="_blank" rel="noopener">Handler</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Handler</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Path</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// path to the CGI executable
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Root</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// root URI prefix of handler or empty for &#34;/&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Dir specifies the CGI executable&#39;s working directory.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If Dir is empty, the base directory of Path is used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If Path has no base directory, the current working
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// directory is used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Dir</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Env</span>        []<span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// extra environment variables to set, if any, as &#34;key=value&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">InheritEnv</span> []<span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// environment variables to inherit from host, as &#34;key&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Logger</span>     <span style="color:#56b6c2">*</span><span style="color:#e06c75">log</span>.<span style="color:#e06c75">Logger</span> <span style="color:#7f848e">// optional log for errors or nil to use log.Print
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Args</span>       []<span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// optional arguments to pass to child process
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Stderr</span>     <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>   <span style="color:#7f848e">// optional stderr for the child process; nil means os.Stderr
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// PathLocationHandler specifies the root http Handler that
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// should handle internal redirects when the CGI process
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// returns a Location header value starting with a &#34;/&#34;, as
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// specified in RFC 3875 § 6.3.2. This will likely be
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// http.DefaultServeMux.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If nil, a CGI response with a local URI path is instead sent
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// back to the client and not redirected internally.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">PathLocationHandler</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Handler</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Handler runs an executable in a subprocess with a CGI environment.</p>
<h4 id="handler-servehttphttpscsopensourcegooglegogogo1201srcnethttpcgihostgol117">(*Handler) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cgi/host.go;l=117" target="_blank" rel="noopener">ServeHTTP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Handler</span>) <span style="color:#61afef;font-weight:bold">ServeHTTP</span>(<span style="color:#e06c75">rw</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8251cd655919a135870f5d9d1bc26f0f">4 - http/cookiejar</h1>
    
	<h1 id="cookiejar">cookiejar</h1>
<p><a href="https://pkg.go.dev/net/http/cookiejar@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/http/cookiejar@go1.20.1</a></p>
<p>Package cookiejar implements an in-memory <a href="https://rfc-editor.org/rfc/rfc6265.html" target="_blank" rel="noopener">RFC 6265</a>-compliant http.CookieJar.</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<p>This section is empty.</p>
<h2 id="类型">类型</h2>
<h3 id="type-jarhttpscsopensourcegooglegogogo1201srcnethttpcookiejarjargol61">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookiejar/jar.go;l=61" target="_blank" rel="noopener">Jar</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Jar</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Jar implements the http.CookieJar interface from the net/http package.</p>
<h4 id="func-newhttpscsopensourcegooglegogogo1201srcnethttpcookiejarjargol78">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookiejar/jar.go;l=78" target="_blank" rel="noopener">New</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#e06c75">o</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Options</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Jar</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>New returns a new cookie jar. A nil *Options is equivalent to a zero Options.</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="jar-cookieshttpscsopensourcegooglegogogo1201srcnethttpcookiejarjargol157">(*Jar) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookiejar/jar.go;l=157" target="_blank" rel="noopener">Cookies</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">j</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Jar</span>) <span style="color:#61afef;font-weight:bold">Cookies</span>(<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>) (<span style="color:#e06c75">cookies</span> []<span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Cookie</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Cookies implements the Cookies method of the http.CookieJar interface.</p>
<p>It returns an empty slice if the URL&rsquo;s scheme is not HTTP or HTTPS.</p>
<h4 id="jar-setcookieshttpscsopensourcegooglegogogo1201srcnethttpcookiejarjargol232">(*Jar) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookiejar/jar.go;l=232" target="_blank" rel="noopener">SetCookies</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">j</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Jar</span>) <span style="color:#61afef;font-weight:bold">SetCookies</span>(<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>, <span style="color:#e06c75">cookies</span> []<span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Cookie</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>SetCookies implements the SetCookies method of the http.CookieJar interface.</p>
<p>It does nothing if the URL&rsquo;s scheme is not HTTP or HTTPS.</p>
<h3 id="type-optionshttpscsopensourcegooglegogogo1201srcnethttpcookiejarjargol50">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookiejar/jar.go;l=50" target="_blank" rel="noopener">Options</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Options</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// PublicSuffixList is the public suffix list that determines whether
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// an HTTP server can set a cookie for a domain.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// A nil value is valid and may be useful for testing but it is not
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// secure: it means that the HTTP server for foo.co.uk can set a cookie
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// for bar.co.uk.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">PublicSuffixList</span> <span style="color:#e06c75">PublicSuffixList</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Options are the options for creating a new Jar.</p>
<h3 id="type-publicsuffixlisthttpscsopensourcegooglegogogo1201srcnethttpcookiejarjargol35">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/cookiejar/jar.go;l=35" target="_blank" rel="noopener">PublicSuffixList</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">PublicSuffixList</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// PublicSuffix returns the public suffix of domain.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// TODO: specify which of the caller and callee is responsible for IP
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// addresses, for leading and trailing dots, for case sensitivity, and
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// for IDN/Punycode.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">PublicSuffix</span>(<span style="color:#e06c75">domain</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// String returns a description of the source of this public suffix
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// list. The description will typically contain something like a time
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// stamp or version number.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>PublicSuffixList provides the public suffix of a domain. For example:</p>
<ul>
<li>the public suffix of &ldquo;example.com&rdquo; is &ldquo;com&rdquo;,</li>
<li>the public suffix of &ldquo;foo1.foo2.foo3.co.uk&rdquo; is &ldquo;co.uk&rdquo;, and</li>
<li>the public suffix of &ldquo;bar.pvt.k12.ma.us&rdquo; is &ldquo;pvt.k12.ma.us&rdquo;.</li>
</ul>
<p>Implementations of PublicSuffixList must be safe for concurrent use by multiple goroutines.</p>
<p>An implementation that always returns &quot;&quot; is valid and may be useful for testing but it is not secure: it means that the HTTP server for foo.com can set a cookie for bar.com.</p>
<p>A public suffix list implementation is in the package golang.org/x/net/publicsuffix.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ff3b89b0e32176513f17079a008cd2a7">5 - http/httptest</h1>
    
	<h1 id="httptest">httptest</h1>
<p><a href="https://pkg.go.dev/net/http/httptest@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/http/httptest@go1.20.1</a></p>
<p>Package httptest provides utilities for HTTP testing.</p>
<h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=61" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> <span style="color:#e06c75">DefaultRemoteAddr</span> = <span style="color:#98c379">&#34;1.2.3.4&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>DefaultRemoteAddr is the default remote address to return in RemoteAddr if an explicit DefaultRemoteAddr isn&rsquo;t set on ResponseRecorder.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-newrequesthttpscsopensourcegooglegogogo1201srcnethttphttptesthttptestgol40----go17">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/httptest.go;l=40" target="_blank" rel="noopener">NewRequest</a>  &lt;- go1.7</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewRequest</span>(<span style="color:#e06c75">method</span>, <span style="color:#e06c75">target</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">body</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewRequest returns a new incoming server Request, suitable for passing to an http.Handler for testing.</p>
<p>The target is the <a href="https://rfc-editor.org/rfc/rfc7230.html" target="_blank" rel="noopener">RFC 7230</a> &ldquo;request-target&rdquo;: it may be either a path or an absolute URL. If target is an absolute URL, the host name from the URL is used. Otherwise, &ldquo;example.com&rdquo; is used.</p>
<p>The TLS field is set to a non-nil dummy value if target has scheme &ldquo;https&rdquo;.</p>
<p>The Request.Proto is always HTTP/1.1.</p>
<p>An empty method means &ldquo;GET&rdquo;.</p>
<p>The provided body may be nil. If the body is of type *bytes.Reader, *strings.Reader, or *bytes.Buffer, the Request.ContentLength is set.</p>
<p>NewRequest panics on error for ease of use in testing, where a panic is acceptable.</p>
<p>To generate a client HTTP request instead of a server request, see the NewRequest function in the net/http package.</p>
<h2 id="类型">类型</h2>
<h3 id="type-responserecorderhttpscsopensourcegooglegogogo1201srcnethttphttptestrecordergol21">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=21" target="_blank" rel="noopener">ResponseRecorder</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ResponseRecorder</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Code is the HTTP response code set by WriteHeader.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Note that if a Handler never calls WriteHeader or Write,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// this might end up being 0, rather than the implicit
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// http.StatusOK. To get the implicit value, use the Result
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// method.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Code</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// HeaderMap contains the headers explicitly set by the Handler.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// It is an internal detail.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Deprecated: HeaderMap exists for historical compatibility
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// and should not be used. To access the headers returned by a handler,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// use the Response.Header map as returned by the Result method.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">HeaderMap</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Body is the buffer to which the Handler&#39;s Write calls are sent.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If nil, the Writes are silently discarded.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Body</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bytes</span>.<span style="color:#e06c75">Buffer</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Flushed is whether the Handler called Flush.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Flushed</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ResponseRecorder is an implementation of http.ResponseWriter that records its mutations for later inspection in tests.</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-newrecorderhttpscsopensourcegooglegogogo1201srcnethttphttptestrecordergol51">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=51" target="_blank" rel="noopener">NewRecorder</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewRecorder</span>() <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseRecorder</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewRecorder returns an initialized ResponseRecorder.</p>
<h4 id="responserecorder-flushhttpscsopensourcegooglegogogo1201srcnethttphttptestrecordergol159">(*ResponseRecorder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=159" target="_blank" rel="noopener">Flush</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">rw</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseRecorder</span>) <span style="color:#61afef;font-weight:bold">Flush</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>Flush implements http.Flusher. To test whether Flush was called, see rw.Flushed.</p>
<h4 id="responserecorder-headerhttpscsopensourcegooglegogogo1201srcnethttphttptestrecordergol67">(*ResponseRecorder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=67" target="_blank" rel="noopener">Header</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">rw</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseRecorder</span>) <span style="color:#61afef;font-weight:bold">Header</span>() <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Header</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Header implements http.ResponseWriter. It returns the response headers to mutate within a handler. To test the headers that were written after a handler completes, use the Result method and see the returned Response value&rsquo;s Header.</p>
<h4 id="responserecorder-resulthttpscsopensourcegooglegogogo1201srcnethttphttptestrecordergol181----go17">(*ResponseRecorder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=181" target="_blank" rel="noopener">Result</a>  &lt;- go1.7</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">rw</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseRecorder</span>) <span style="color:#61afef;font-weight:bold">Result</span>() <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Response</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Result returns the response generated by the handler.</p>
<p>The returned Response will have at least its StatusCode, Header, Body, and optionally Trailer populated. More fields may be populated in the future, so callers should not DeepEqual the result in tests.</p>
<p>The Response.Header is a snapshot of the headers at the time of the first write call, or at the time of this call, if the handler never did a write.</p>
<p>The Response.Body is guaranteed to be non-nil and Body.Read call is guaranteed to not return any error other than io.EOF.</p>
<p>Result must only be called after the handler has finished running.</p>
<h4 id="responserecorder-writehttpscsopensourcegooglegogogo1201srcnethttphttptestrecordergol107">(*ResponseRecorder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=107" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">rw</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseRecorder</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">buf</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Write implements http.ResponseWriter. The data in buf is written to rw.Body, if not nil.</p>
<h4 id="responserecorder-writeheaderhttpscsopensourcegooglegogogo1201srcnethttphttptestrecordergol143">(*ResponseRecorder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=143" target="_blank" rel="noopener">WriteHeader</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">rw</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseRecorder</span>) <span style="color:#61afef;font-weight:bold">WriteHeader</span>(<span style="color:#e06c75">code</span> <span style="color:#e5c07b">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>WriteHeader implements http.ResponseWriter.</p>
<h4 id="responserecorder-writestringhttpscsopensourcegooglegogogo1201srcnethttphttptestrecordergol117----go16">(*ResponseRecorder) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/recorder.go;l=117" target="_blank" rel="noopener">WriteString</a>  &lt;- go1.6</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">rw</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ResponseRecorder</span>) <span style="color:#61afef;font-weight:bold">WriteString</span>(<span style="color:#e06c75">str</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>WriteString implements io.StringWriter. The data in str is written to rw.Body, if not nil.</p>
<h3 id="type-serverhttpscsopensourcegooglegogogo1201srcnethttphttptestservergol26">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=26" target="_blank" rel="noopener">Server</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Server</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">URL</span>      <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// base URL of form http://ipaddr:port with no trailing slash
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Listener</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// EnableHTTP2 controls whether HTTP/2 is enabled
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// on the server. It must be set between calling
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// NewUnstartedServer and calling Server.StartTLS.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">EnableHTTP2</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLS is the optional TLS configuration, populated with a new config
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// after TLS is started. If set on an unstarted server before StartTLS
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// is called, existing fields are copied into the new config.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLS</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">tls</span>.<span style="color:#e06c75">Config</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Config may be changed after calling NewUnstartedServer and
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// before Start or StartTLS.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Config</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Server</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Server is an HTTP server listening on a system-chosen port on the local loopback interface, for use in end-to-end HTTP tests.</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-newserverhttpscsopensourcegooglegogogo1201srcnethttphttptestservergol105">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=105" target="_blank" rel="noopener">NewServer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewServer</span>(<span style="color:#e06c75">handler</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Handler</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewServer starts and returns a new Server. The caller should call Close when finished, to shut it down.</p>
<h4 id="func-newtlsserverhttpscsopensourcegooglegogogo1201srcnethttphttptestservergol190">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=190" target="_blank" rel="noopener">NewTLSServer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewTLSServer</span>(<span style="color:#e06c75">handler</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Handler</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewTLSServer starts and returns a new Server using TLS. The caller should call Close when finished, to shut it down.</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-newunstartedserverhttpscsopensourcegooglegogogo1201srcnethttphttptestservergol117">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=117" target="_blank" rel="noopener">NewUnstartedServer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewUnstartedServer</span>(<span style="color:#e06c75">handler</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Handler</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewUnstartedServer returns a new Server but doesn&rsquo;t start it.</p>
<p>After changing its configuration, the caller should call Start or StartTLS.</p>
<p>The caller should call Close when finished, to shut it down.</p>
<h4 id="server-certificatehttpscsopensourcegooglegogogo1201srcnethttphttptestservergol295----go19">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=295" target="_blank" rel="noopener">Certificate</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">s</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Certificate</span>() <span style="color:#56b6c2">*</span><span style="color:#e06c75">x509</span>.<span style="color:#e06c75">Certificate</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Certificate returns the certificate used by the server, or nil if the server doesn&rsquo;t use TLS.</p>
<h4 id="server-clienthttpscsopensourcegooglegogogo1201srcnethttphttptestservergol302----go19">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=302" target="_blank" rel="noopener">Client</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">s</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Client</span>() <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Client</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Client returns an HTTP client configured for making requests to the server. It is configured to trust the server&rsquo;s TLS test certificate and will close its idle connections on Server.Close.</p>
<h4 id="server-closehttpscsopensourcegooglegogogo1201srcnethttphttptestservergol202">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=202" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">s</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Close</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>Close shuts down the server and blocks until all outstanding requests on this server have completed.</p>
<h4 id="server-closeclientconnectionshttpscsopensourcegooglegogogo1201srcnethttphttptestservergol266">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=266" target="_blank" rel="noopener">CloseClientConnections</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">s</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">CloseClientConnections</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>CloseClientConnections closes any open HTTP connections to the test Server.</p>
<h4 id="server-starthttpscsopensourcegooglegogogo1201srcnethttphttptestservergol125">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=125" target="_blank" rel="noopener">Start</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">s</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Start</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>Start starts a server from NewUnstartedServer.</p>
<h4 id="server-starttlshttpscsopensourcegooglegogogo1201srcnethttphttptestservergol142">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptest/server.go;l=142" target="_blank" rel="noopener">StartTLS</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">s</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">StartTLS</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>StartTLS starts TLS on a server from NewUnstartedServer.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-85e929046159f149cade5dc6981ded34">6 - http/httptrace</h1>
    
	<h1 id="httptrace">httptrace</h1>
<p><a href="https://pkg.go.dev/net/http/httptrace@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/http/httptrace@go1.20.1</a></p>
<p>Package httptrace provides mechanisms to trace the events within HTTP client requests.</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-withclienttracehttpscsopensourcegooglegogogo1201srcnethttphttptracetracegol34">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptrace/trace.go;l=34" target="_blank" rel="noopener">WithClientTrace</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">WithClientTrace</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">trace</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ClientTrace</span>) <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>WithClientTrace returns a new context based on the provided parent ctx. HTTP client requests made with the returned context will use the provided trace hooks, in addition to any previous hooks registered with ctx. Any hooks defined in the provided trace will be called first.</p>
<h2 id="类型">类型</h2>
<h3 id="type-clienttracehttpscsopensourcegooglegogogo1201srcnethttphttptracetracegol80">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptrace/trace.go;l=80" target="_blank" rel="noopener">ClientTrace</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">85
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ClientTrace</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// GetConn is called before a connection is created or
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// retrieved from an idle pool. The hostPort is the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// &#34;host:port&#34; of the target or proxy. GetConn is called even
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// if there&#39;s already an idle cached connection available.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">GetConn</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">hostPort</span> <span style="color:#e5c07b">string</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// GotConn is called after a successful connection is
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// obtained. There is no hook for failure to obtain a
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// connection; instead, use the error from
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Transport.RoundTrip.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">GotConn</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">GotConnInfo</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// PutIdleConn is called when the connection is returned to
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the idle pool. If err is nil, the connection was
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// successfully returned to the idle pool. If err is non-nil,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// it describes why not. PutIdleConn is not called if
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// connection reuse is disabled via Transport.DisableKeepAlives.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// PutIdleConn is called before the caller&#39;s Response.Body.Close
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// call returns.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// For HTTP/2, this hook is not currently used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">PutIdleConn</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// GotFirstResponseByte is called when the first byte of the response
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// headers is available.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">GotFirstResponseByte</span> <span style="color:#c678dd">func</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Got100Continue is called if the server replies with a &#34;100
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Continue&#34; response.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Got100Continue</span> <span style="color:#c678dd">func</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Got1xxResponse is called for each 1xx informational response header
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// returned before the final non-1xx response. Got1xxResponse is called
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// for &#34;100 Continue&#34; responses, even if Got100Continue is also defined.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If it returns an error, the client request is aborted with that error value.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Got1xxResponse</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">code</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">header</span> <span style="color:#e06c75">textproto</span>.<span style="color:#e06c75">MIMEHeader</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DNSStart is called when a DNS lookup begins.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DNSStart</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">DNSStartInfo</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DNSDone is called when a DNS lookup ends.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DNSDone</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">DNSDoneInfo</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ConnectStart is called when a new connection&#39;s Dial begins.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If net.Dialer.DualStack (IPv6 &#34;Happy Eyeballs&#34;) support is
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// enabled, this may be called multiple times.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ConnectStart</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ConnectDone is called when a new connection&#39;s Dial
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// completes. The provided err indicates whether the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// connection completed successfully.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If net.Dialer.DualStack (&#34;Happy Eyeballs&#34;) support is
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// enabled, this may be called multiple times.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ConnectDone</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLSHandshakeStart is called when the TLS handshake is started. When
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// connecting to an HTTPS site via an HTTP proxy, the handshake happens
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// after the CONNECT request is processed by the proxy.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLSHandshakeStart</span> <span style="color:#c678dd">func</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// TLSHandshakeDone is called after the TLS handshake with either the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// successful handshake&#39;s connection state, or a non-nil error on handshake
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// failure.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLSHandshakeDone</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">tls</span>.<span style="color:#e06c75">ConnectionState</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WroteHeaderField is called after the Transport has written
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// each request header. At the time of this call the values
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// might be buffered and not yet written to the network.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">WroteHeaderField</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">value</span> []<span style="color:#e5c07b">string</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WroteHeaders is called after the Transport has written
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// all request headers.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">WroteHeaders</span> <span style="color:#c678dd">func</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Wait100Continue is called if the Request specified
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// &#34;Expect: 100-continue&#34; and the Transport has written the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// request headers but is waiting for &#34;100 Continue&#34; from the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// server before writing the request body.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Wait100Continue</span> <span style="color:#c678dd">func</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WroteRequest is called with the result of writing the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// request and any body. It may be called multiple times
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// in the case of retried requests.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">WroteRequest</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">WroteRequestInfo</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ClientTrace is a set of hooks to run at various stages of an outgoing HTTP request. Any particular hook may be nil. Functions may be called concurrently from different goroutines and some may be called after the request has completed or failed.</p>
<p>ClientTrace currently traces a single HTTP request &amp; response during a single round trip and has no hooks that span a series of redirected requests.</p>
<p>See <a href="https://blog.golang.org/http-tracing" target="_blank" rel="noopener">https://blog.golang.org/http-tracing</a> for more.</p>
<h4 id="func-contextclienttracehttpscsopensourcegooglegogogo1201srcnethttphttptracetracegol24">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptrace/trace.go;l=24" target="_blank" rel="noopener">ContextClientTrace</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ContextClientTrace</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">ClientTrace</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ContextClientTrace returns the ClientTrace associated with the provided context. If none, it returns nil.</p>
<h3 id="type-dnsdoneinfohttpscsopensourcegooglegogogo1201srcnethttphttptracetracegol216">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptrace/trace.go;l=216" target="_blank" rel="noopener">DNSDoneInfo</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">DNSDoneInfo</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Addrs are the IPv4 and/or IPv6 addresses found in the DNS
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// lookup. The contents of the slice should not be mutated.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Addrs</span> []<span style="color:#e06c75">net</span>.<span style="color:#e06c75">IPAddr</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Err is any error that occurred during the DNS lookup.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Err</span> <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Coalesced is whether the Addrs were shared with another
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// caller who was doing the same DNS lookup concurrently.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Coalesced</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>DNSDoneInfo contains information about the results of a DNS lookup.</p>
<h3 id="type-dnsstartinfohttpscsopensourcegooglegogogo1201srcnethttphttptracetracegol211">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptrace/trace.go;l=211" target="_blank" rel="noopener">DNSStartInfo</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">DNSStartInfo</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Host</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>DNSStartInfo contains information about a DNS request.</p>
<h3 id="type-gotconninfohttpscsopensourcegooglegogogo1201srcnethttphttptracetracegol238">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptrace/trace.go;l=238" target="_blank" rel="noopener">GotConnInfo</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">GotConnInfo</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Conn is the connection that was obtained. It is owned by
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the http.Transport and should not be read, written or
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// closed by users of ClientTrace.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Conn</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Reused is whether this connection has been previously
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// used for another HTTP request.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Reused</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WasIdle is whether this connection was obtained from an
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// idle pool.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">WasIdle</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// IdleTime reports how long the connection was previously
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// idle, if WasIdle is true.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IdleTime</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>GotConnInfo is the argument to the ClientTrace.GotConn function and contains information about the obtained connection.</p>
<h3 id="type-wroterequestinfohttpscsopensourcegooglegogogo1201srcnethttphttptracetracegol168">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httptrace/trace.go;l=168" target="_blank" rel="noopener">WroteRequestInfo</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">WroteRequestInfo</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Err is any error encountered while writing the Request.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Err</span> <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>WroteRequestInfo contains information provided to the WroteRequest hook.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e21a012c8df35a586d24ee7fb57d10df">7 - http/httputil</h1>
    
	<h1 id="httputil">httputil</h1>
<p><a href="https://pkg.go.dev/net/http/httputil@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/http/httputil@go1.20.1</a></p>
<p>Package httputil provides HTTP utility functions, complementing the more common ones in the net/http package.</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/persist.go;l=17" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Deprecated: No longer used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrPersistEOF</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">ProtocolError</span>{<span style="color:#e06c75">ErrorString</span>: <span style="color:#98c379">&#34;persistent connection closed&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Deprecated: No longer used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrClosed</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">ProtocolError</span>{<span style="color:#e06c75">ErrorString</span>: <span style="color:#98c379">&#34;connection closed by user&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Deprecated: No longer used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrPipeline</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">ProtocolError</span>{<span style="color:#e06c75">ErrorString</span>: <span style="color:#98c379">&#34;pipeline error&#34;</span>}
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/httputil.go;l=41" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrLineTooLong</span> = <span style="color:#e06c75">internal</span>.<span style="color:#e06c75">ErrLineTooLong</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ErrLineTooLong is returned when reading malformed chunked data with lines that are too long.</p>
<h2 id="函数">函数</h2>
<h4 id="func-dumprequesthttpscsopensourcegooglegogogo1201srcnethttphttputildumpgol218">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/dump.go;l=218" target="_blank" rel="noopener">DumpRequest</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DumpRequest</span>(<span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>, <span style="color:#e06c75">body</span> <span style="color:#e5c07b">bool</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>DumpRequest returns the given request in its HTTP/1.x wire representation. It should only be used by servers to debug client requests. The returned representation is an approximation only; some details of the initial request are lost while parsing it into an http.Request. In particular, the order and case of header field names are lost. The order of values in multi-valued headers is kept intact. HTTP/2 requests are dumped in HTTP/1.x form, not in their original binary representations.</p>
<p>If body is true, DumpRequest also returns the body. To do so, it consumes req.Body and then replaces it with a new io.ReadCloser that yields the same bytes. If DumpRequest returns an error, the state of req is undefined.</p>
<p>The documentation for http.Request.Write details which fields of req are included in the dump.</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-dumprequestouthttpscsopensourcegooglegogogo1201srcnethttphttputildumpgol77">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/dump.go;l=77" target="_blank" rel="noopener">DumpRequestOut</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DumpRequestOut</span>(<span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>, <span style="color:#e06c75">body</span> <span style="color:#e5c07b">bool</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>DumpRequestOut is like DumpRequest but for outgoing client requests. It includes any headers that the standard http.Transport adds, such as User-Agent.</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-dumpresponsehttpscsopensourcegooglegogogo1201srcnethttphttputildumpgol305">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/dump.go;l=305" target="_blank" rel="noopener">DumpResponse</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DumpResponse</span>(<span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Response</span>, <span style="color:#e06c75">body</span> <span style="color:#e5c07b">bool</span>) ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>DumpResponse is like DumpRequest but dumps a response.</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-newchunkedreaderhttpscsopensourcegooglegogogo1201srcnethttphttputilhttputilgol20">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/httputil.go;l=20" target="_blank" rel="noopener">NewChunkedReader</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewChunkedReader</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewChunkedReader returns a new chunkedReader that translates the data read from r out of HTTP &ldquo;chunked&rdquo; format before returning it. The chunkedReader returns io.EOF when the final 0-length chunk is read.</p>
<p>NewChunkedReader is not needed by normal applications. The http package automatically decodes chunking when reading response bodies.</p>
<h4 id="func-newchunkedwriterhttpscsopensourcegooglegogogo1201srcnethttphttputilhttputilgol35">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/httputil.go;l=35" target="_blank" rel="noopener">NewChunkedWriter</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewChunkedWriter</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#e06c75">io</span>.<span style="color:#e06c75">WriteCloser</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewChunkedWriter returns a new chunkedWriter that translates writes into HTTP &ldquo;chunked&rdquo; format before writing them to w. Closing the returned chunkedWriter sends the final 0-length chunk that marks the end of the stream but does not send the final CRLF that appears after trailers; trailers and the last CRLF must be written separately.</p>
<p>NewChunkedWriter is not needed by normal applications. The http package adds chunking automatically if handlers don&rsquo;t set a Content-Length header. Using NewChunkedWriter inside a handler would result in double chunking or chunking with a Content-Length length, both of which are wrong.</p>
<h2 id="类型">类型</h2>
<h3 id="type-bufferpoolhttpscsopensourcegooglegogogo1201srcnethttphttputilreverseproxygol204----go16">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/reverseproxy.go;l=204" target="_blank" rel="noopener">BufferPool</a>  &lt;- go1.6</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">BufferPool</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Get</span>() []<span style="color:#e5c07b">byte</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Put</span>([]<span style="color:#e5c07b">byte</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A BufferPool is an interface for getting and returning temporary byte slices for use by io.CopyBuffer.</p>
<h3 id="type-proxyrequesthttpscsopensourcegooglegogogo1201srcnethttphttputilreverseproxygol30----go120">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/reverseproxy.go;l=30" target="_blank" rel="noopener">ProxyRequest</a>  &lt;- go1.20</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ProxyRequest</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// In is the request received by the proxy.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// The Rewrite function must not modify In.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">In</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Out is the request which will be sent by the proxy.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// The Rewrite function may modify or replace this request.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Hop-by-hop headers are removed from this request
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// before Rewrite is called.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Out</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A ProxyRequest contains a request to be rewritten by a ReverseProxy.</p>
<h4 id="proxyrequest-seturlhttpscsopensourcegooglegogogo1201srcnethttphttputilreverseproxygol54----go120">(*ProxyRequest) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/reverseproxy.go;l=54" target="_blank" rel="noopener">SetURL</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ProxyRequest</span>) <span style="color:#61afef;font-weight:bold">SetURL</span>(<span style="color:#e06c75">target</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>SetURL routes the outbound request to the scheme, host, and base path provided in target. If the target&rsquo;s path is &ldquo;/base&rdquo; and the incoming request was for &ldquo;/dir&rdquo;, the target request will be for &ldquo;/base/dir&rdquo;.</p>
<p>SetURL rewrites the outbound Host header to match the target&rsquo;s host. To preserve the inbound request&rsquo;s Host header (the default behavior of NewSingleHostReverseProxy):</p>
<pre tabindex="0"><code>rewriteFunc := func(r *httputil.ProxyRequest) {
	r.SetURL(url)
	r.Out.Host = r.In.Host
}
</code></pre><h4 id="proxyrequest-setxforwardedhttpscsopensourcegooglegogogo1201srcnethttphttputilreverseproxygol78----go120">(*ProxyRequest) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/reverseproxy.go;l=78" target="_blank" rel="noopener">SetXForwarded</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ProxyRequest</span>) <span style="color:#61afef;font-weight:bold">SetXForwarded</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>SetXForwarded sets the X-Forwarded-For, X-Forwarded-Host, and X-Forwarded-Proto headers of the outbound request.</p>
<ul>
<li>The X-Forwarded-For header is set to the client IP address.</li>
<li>The X-Forwarded-Host header is set to the host name requested by the client.</li>
<li>The X-Forwarded-Proto header is set to &ldquo;http&rdquo; or &ldquo;https&rdquo;, depending on whether the inbound request was made on a TLS-enabled connection.</li>
</ul>
<p>If the outbound request contains an existing X-Forwarded-For header, SetXForwarded appends the client IP address to it. To append to the inbound request&rsquo;s X-Forwarded-For header (the default behavior of ReverseProxy when using a Director function), copy the header from the inbound request before calling SetXForwarded:</p>
<pre tabindex="0"><code>rewriteFunc := func(r *httputil.ProxyRequest) {
	r.Out.Header[&#34;X-Forwarded-For&#34;] = r.In.Header[&#34;X-Forwarded-For&#34;]
	r.SetXForwarded()
}
</code></pre><h3 id="type-reverseproxyhttpscsopensourcegooglegogogo1201srcnethttphttputilreverseproxygol103">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/reverseproxy.go;l=103" target="_blank" rel="noopener">ReverseProxy</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">98
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ReverseProxy</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Rewrite must be a function which modifies
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the request into a new request to be sent
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// using Transport. Its response is then copied
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// back to the original client unmodified.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Rewrite must not access the provided ProxyRequest
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// or its contents after returning.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// The Forwarded, X-Forwarded, X-Forwarded-Host,
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// and X-Forwarded-Proto headers are removed from the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// outbound request before Rewrite is called. See also
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the ProxyRequest.SetXForwarded method.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Unparsable query parameters are removed from the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// outbound request before Rewrite is called.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// The Rewrite function may copy the inbound URL&#39;s
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// RawQuery to the outbound URL to preserve the original
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// parameter string. Note that this can lead to security
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// issues if the proxy&#39;s interpretation of query parameters
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// does not match that of the downstream server.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// At most one of Rewrite or Director may be set.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Rewrite</span> <span style="color:#c678dd">func</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">ProxyRequest</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Director is a function which modifies
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the request into a new request to be sent
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// using Transport. Its response is then copied
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// back to the original client unmodified.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Director must not access the provided Request
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// after returning.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// By default, the X-Forwarded-For header is set to the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// value of the client IP address. If an X-Forwarded-For
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// header already exists, the client IP is appended to the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// existing values. As a special case, if the header
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// exists in the Request.Header map but has a nil value
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// (such as when set by the Director func), the X-Forwarded-For
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// header is not modified.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// To prevent IP spoofing, be sure to delete any pre-existing
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// X-Forwarded-For header coming from the client or
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// an untrusted proxy.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Hop-by-hop headers are removed from the request after
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Director returns, which can remove headers added by
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Director. Use a Rewrite function instead to ensure
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// modifications to the request are preserved.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Unparsable query parameters are removed from the outbound
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// request if Request.Form is set after Director returns.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// At most one of Rewrite or Director may be set.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Director</span> <span style="color:#c678dd">func</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// The transport used to perform proxy requests.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If nil, http.DefaultTransport is used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Transport</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">RoundTripper</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// FlushInterval specifies the flush interval
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// to flush to the client while copying the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// response body.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If zero, no periodic flushing is done.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// A negative value means to flush immediately
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// after each write to the client.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// The FlushInterval is ignored when ReverseProxy
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// recognizes a response as a streaming response, or
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// if its ContentLength is -1; for such responses, writes
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// are flushed to the client immediately.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">FlushInterval</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ErrorLog specifies an optional logger for errors
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// that occur when attempting to proxy the request.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If nil, logging is done via the log package&#39;s standard logger.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrorLog</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">log</span>.<span style="color:#e06c75">Logger</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// BufferPool optionally specifies a buffer pool to
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// get byte slices for use by io.CopyBuffer when
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// copying HTTP response bodies.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">BufferPool</span> <span style="color:#e06c75">BufferPool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ModifyResponse is an optional function that modifies the
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Response from the backend. It is called if the backend
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// returns a response at all, with any HTTP status code.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If the backend is unreachable, the optional ErrorHandler is
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// called without any call to ModifyResponse.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If ModifyResponse returns an error, ErrorHandler is called
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// with its error value. If ErrorHandler is nil, its default
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// implementation is used.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ModifyResponse</span> <span style="color:#c678dd">func</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Response</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ErrorHandler is an optional function that handles errors
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// reaching the backend or errors from ModifyResponse.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If nil, the default is to log the provided error and return
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// a 502 Status Bad Gateway response.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ErrorHandler</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReverseProxy is an HTTP Handler that takes an incoming request and sends it to another server, proxying the response back to the client.</p>
<p>1xx responses are forwarded to the client if the underlying transport supports ClientTrace.Got1xxResponse.</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-newsinglehostreverseproxyhttpscsopensourcegooglegogogo1201srcnethttphttputilreverseproxygol262">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/reverseproxy.go;l=262" target="_blank" rel="noopener">NewSingleHostReverseProxy</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewSingleHostReverseProxy</span>(<span style="color:#e06c75">target</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">url</span>.<span style="color:#e06c75">URL</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">ReverseProxy</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewSingleHostReverseProxy returns a new ReverseProxy that routes URLs to the scheme, host, and base path provided in target. If the target&rsquo;s path is &ldquo;/base&rdquo; and the incoming request was for &ldquo;/dir&rdquo;, the target request will be for /base/dir.</p>
<p>NewSingleHostReverseProxy does not rewrite the Host header.</p>
<p>To customize the ReverseProxy behavior beyond what NewSingleHostReverseProxy provides, use ReverseProxy directly with a Rewrite function. The ProxyRequest SetURL method may be used to route the outbound request. (Note that SetURL, unlike NewSingleHostReverseProxy, rewrites the Host header of the outbound request by default.)</p>
<pre tabindex="0"><code>proxy := &amp;ReverseProxy{
	Rewrite: func(r *ProxyRequest) {
		r.SetURL(target)
		r.Out.Host = r.In.Host // if desired
	}
}
</code></pre><h4 id="reverseproxy-servehttphttpscsopensourcegooglegogogo1201srcnethttphttputilreverseproxygol332">(*ReverseProxy) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/reverseproxy.go;l=332" target="_blank" rel="noopener">ServeHTTP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ReverseProxy</span>) <span style="color:#61afef;font-weight:bold">ServeHTTP</span>(<span style="color:#e06c75">rw</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="typeserverconnhttpscsopensourcegooglegogogo1201srcnethttphttputilpersistgol37--deprecated">type<a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/persist.go;l=37" target="_blank" rel="noopener">ServerConn</a>  DEPRECATED</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ServerConn</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServerConn is an artifact of Go&rsquo;s early HTTP implementation. It is low-level, old, and unused by Go&rsquo;s current HTTP stack. We should have deleted it before Go 1.</p>
<p>Deprecated: Use the Server in package net/http instead.</p>
<h4 id="funcnewserverconnhttpscsopensourcegooglegogogo1201srcnethttphttputilpersistgol54deprecated">func<a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/persist.go;l=54" target="_blank" rel="noopener">NewServerConn</a>DEPRECATED</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewServerConn</span>(<span style="color:#e06c75">c</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServerConn</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewServerConn is an artifact of Go&rsquo;s early HTTP implementation. It is low-level, old, and unused by Go&rsquo;s current HTTP stack. We should have deleted it before Go 1.</p>
<p>Deprecated: Use the Server in package net/http instead.</p>
<h4 id="serverconn-closehttpscsopensourcegooglegogogo1201srcnethttphttputilpersistgol76">(*ServerConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/persist.go;l=76" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">sc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServerConn</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Close calls Hijack and then also closes the underlying connection.</p>
<h4 id="serverconn-hijackhttpscsopensourcegooglegogogo1201srcnethttphttputilpersistgol65">(*ServerConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/persist.go;l=65" target="_blank" rel="noopener">Hijack</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">sc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServerConn</span>) <span style="color:#61afef;font-weight:bold">Hijack</span>() (<span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">Reader</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hijack detaches the ServerConn and returns the underlying connection as well as the read-side bufio which may have some left over data. Hijack may be called before Read has signaled the end of the keep-alive logic. The user should not call Hijack while Read or Write is in progress.</p>
<h4 id="serverconn-pendinghttpscsopensourcegooglegogogo1201srcnethttphttputilpersistgol166">(*ServerConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/persist.go;l=166" target="_blank" rel="noopener">Pending</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">sc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServerConn</span>) <span style="color:#61afef;font-weight:bold">Pending</span>() <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Pending returns the number of unanswered requests that have been received on the connection.</p>
<h4 id="serverconn-readhttpscsopensourcegooglegogogo1201srcnethttphttputilpersistgol88">(*ServerConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/persist.go;l=88" target="_blank" rel="noopener">Read</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">sc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServerConn</span>) <span style="color:#61afef;font-weight:bold">Read</span>() (<span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Read returns the next request on the wire. An ErrPersistEOF is returned if it is gracefully determined that there are no more requests (e.g. after the first request on an HTTP/1.0 connection, or after a Connection:close on a HTTP/1.1 connection).</p>
<h4 id="serverconn-writehttpscsopensourcegooglegogogo1201srcnethttphttputilpersistgol175">(*ServerConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/httputil/persist.go;l=175" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">sc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServerConn</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>, <span style="color:#e06c75">resp</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Response</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Write writes resp in response to req. To close the connection gracefully, set the Response.Close field to true. Write should be considered operational until it returns an error, regardless of any errors returned on the Read side.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ed7054cf3ff60bff09fccf9e5b63e7d1">8 - mail</h1>
    
	<h1 id="mail">mail</h1>
<p><a href="https://pkg.go.dev/net/mail@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/mail@go1.20.1</a></p>
<p>Package mail implements parsing of mail messages.</p>
<p>For the most part, this package follows the syntax as specified by <a href="https://rfc-editor.org/rfc/rfc5322.html" target="_blank" rel="noopener">RFC 5322</a> and extended by <a href="https://rfc-editor.org/rfc/rfc6532.html" target="_blank" rel="noopener">RFC 6532</a>. Notable divergences:</p>
<ul>
<li>Obsolete address formats are not parsed, including addresses with embedded route information.</li>
<li>The full range of spacing (the CFWS syntax element) is not supported, such as breaking addresses across lines.</li>
<li>No unicode normalization is performed.</li>
<li>The special characters ()[]:;@, are allowed to appear unquoted in names.</li>
</ul>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=160" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrHeaderNotPresent</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;mail: header not in message&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="函数">函数</h2>
<h4 id="func-parsedatehttpscsopensourcegooglegogogo1201srcnetmailmessagegol99----go18">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=99" target="_blank" rel="noopener">ParseDate</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseDate</span>(<span style="color:#e06c75">date</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParseDate parses an <a href="https://rfc-editor.org/rfc/rfc5322.html" target="_blank" rel="noopener">RFC 5322</a> date string.</p>
<h2 id="类型">类型</h2>
<h3 id="type-addresshttpscsopensourcegooglegogogo1201srcnetmailmessagegol183">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=183" target="_blank" rel="noopener">Address</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Address</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span>    <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// Proper name; may be empty.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Address</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// user@domain
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Address represents a single mail address. An address such as &ldquo;Barry Gibbs <a href="mailto:bg@example.com">bg@example.com</a>&rdquo; is represented as Address{Name: &ldquo;Barry Gibbs&rdquo;, Address: &ldquo;<a href="mailto:bg@example.com">bg@example.com</a>&rdquo;}.</p>
<h4 id="func-parseaddresshttpscsopensourcegooglegogogo1201srcnetmailmessagegol189----go11">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=189" target="_blank" rel="noopener">ParseAddress</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseAddress</span>(<span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Address</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParseAddress parses a single <a href="https://rfc-editor.org/rfc/rfc5322.html" target="_blank" rel="noopener">RFC 5322</a> address, e.g. &ldquo;Barry Gibbs <a href="mailto:bg@example.com">bg@example.com</a>&rdquo;</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-parseaddresslisthttpscsopensourcegooglegogogo1201srcnetmailmessagegol194----go11">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=194" target="_blank" rel="noopener">ParseAddressList</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseAddressList</span>(<span style="color:#e06c75">list</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#56b6c2">*</span><span style="color:#e06c75">Address</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParseAddressList parses the given string as a list of addresses.</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="address-stringhttpscsopensourcegooglegogogo1201srcnetmailmessagegol219">(*Address) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=219" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Address</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>String formats the address as a valid <a href="https://rfc-editor.org/rfc/rfc5322.html" target="_blank" rel="noopener">RFC 5322</a> address. If the address&rsquo;s name contains non-ASCII characters the name will be rendered according to <a href="https://rfc-editor.org/rfc/rfc2047.html" target="_blank" rel="noopener">RFC 2047</a>.</p>
<h3 id="type-addressparserhttpscsopensourcegooglegogogo1201srcnetmailmessagegol199----go15">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=199" target="_blank" rel="noopener">AddressParser</a>  &lt;- go1.5</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">AddressParser</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WordDecoder optionally specifies a decoder for RFC 2047 encoded-words.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">WordDecoder</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">mime</span>.<span style="color:#e06c75">WordDecoder</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>An AddressParser is an <a href="https://rfc-editor.org/rfc/rfc5322.html" target="_blank" rel="noopener">RFC 5322</a> address parser.</p>
<h4 id="addressparser-parsehttpscsopensourcegooglegogogo1201srcnetmailmessagegol206----go15">(*AddressParser) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=206" target="_blank" rel="noopener">Parse</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">AddressParser</span>) <span style="color:#61afef;font-weight:bold">Parse</span>(<span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Address</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Parse parses a single <a href="https://rfc-editor.org/rfc/rfc5322.html" target="_blank" rel="noopener">RFC 5322</a> address of the form &ldquo;Gogh Fir <a href="mailto:gf@example.com">gf@example.com</a>&rdquo; or &ldquo;<a href="mailto:foo@example.com">foo@example.com</a>&rdquo;.</p>
<h4 id="addressparser-parselisthttpscsopensourcegooglegogogo1201srcnetmailmessagegol212----go15">(*AddressParser) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=212" target="_blank" rel="noopener">ParseList</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">AddressParser</span>) <span style="color:#61afef;font-weight:bold">ParseList</span>(<span style="color:#e06c75">list</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#56b6c2">*</span><span style="color:#e06c75">Address</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParseList parses the given string as a list of comma-separated addresses of the form &ldquo;Gogh Fir <a href="mailto:gf@example.com">gf@example.com</a>&rdquo; or &ldquo;<a href="mailto:foo@example.com">foo@example.com</a>&rdquo;.</p>
<h3 id="type-headerhttpscsopensourcegooglegogogo1201srcnetmailmessagegol148">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=148" target="_blank" rel="noopener">Header</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Header</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>][]<span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Header represents the key-value pairs in a mail message header.</p>
<h4 id="header-addresslisthttpscsopensourcegooglegogogo1201srcnetmailmessagegol172">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=172" target="_blank" rel="noopener">AddressList</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">AddressList</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#56b6c2">*</span><span style="color:#e06c75">Address</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>AddressList parses the named header field as a list of addresses.</p>
<h4 id="header-datehttpscsopensourcegooglegogogo1201srcnetmailmessagegol163">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=163" target="_blank" rel="noopener">Date</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Date</span>() (<span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Date parses the Date header field.</p>
<h4 id="header-gethttpscsopensourcegooglegogogo1201srcnetmailmessagegol156">(Header) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=156" target="_blank" rel="noopener">Get</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">Header</span>) <span style="color:#61afef;font-weight:bold">Get</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Get gets the first value associated with the given key. It is case insensitive; CanonicalMIMEHeaderKey is used to canonicalize the provided key. If there are no values associated with the key, Get returns &ldquo;&rdquo;. To access multiple values of a key, or to use non-canonical keys, access the map directly.</p>
<h3 id="type-messagehttpscsopensourcegooglegogogo1201srcnetmailmessagegol45">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=45" target="_blank" rel="noopener">Message</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Message</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Header</span> <span style="color:#e06c75">Header</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Body</span>   <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Message represents a parsed mail message.</p>
<h4 id="func-readmessagehttpscsopensourcegooglegogogo1201srcnetmailmessagegol53">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mail/message.go;l=53" target="_blank" rel="noopener">ReadMessage</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ReadMessage</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) (<span style="color:#e06c75">msg</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Message</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadMessage reads a message from r. The headers are parsed, and the body of the message will be available for reading from msg.Body.</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0df71a78ef573e007ed0c9aa8c751f1f">9 - net</h1>
    
	<h1 id="net">net</h1>
<p><a href="https://pkg.go.dev/net@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net@go1.20.1</a></p>
<p>​	net包提供了一个可移植的网络 I/O 接口，包括 TCP/IP、UDP、域名解析和 Unix 域套接字。</p>
<p>​	虽然该包提供了对低级网络原语的访问，但大多数客户端只需要 Dial、Listen 和 Accept 函数以及相关的 Conn 和 Listener 接口所提供的基本接口。crypto/tls 包使用相同的接口和类似的 Dial 和 Listen 函数。</p>
<p>​	Dial 函数连接到服务器：</p>
<pre tabindex="0"><code>conn, err := net.Dial(&#34;tcp&#34;, &#34;golang.org:80&#34;)
if err != nil {
	// 处理错误
}
fmt.Fprintf(conn, &#34;GET / HTTP/1.0\r\n\r\n&#34;)
status, err := bufio.NewReader(conn).ReadString(&#39;\n&#39;)
// ...
</code></pre><p>​	Listen 函数创建服务器：</p>
<pre tabindex="0"><code>ln, err := net.Listen(&#34;tcp&#34;, &#34;:8080&#34;)
if err != nil {
	// handle error
}
for {
	conn, err := ln.Accept()
	if err != nil {
		// 处理错误
	}
	go handleConnection(conn)
}
</code></pre><h4 id="name-解析">Name 解析</h4>
<p>​	解析域名的方法(无论是间接使用 Dial 等函数还是直接使用 LookupHost 和 LookupAddr 等函数)因操作系统而异。</p>
<p>​	在 Unix 系统上，解析器有两个选项来解析名称。它可以使用纯 Go 解析器，该解析器将 DNS 请求直接发送到 /etc/resolv.conf 中列出的服务器，或者它可以使用基于 cgo 的解析器，该解析器调用 C 库例程，例如 getaddrinfo 和 getnameinfo。</p>
<p>​	默认情况下，使用纯 Go 解析器，因为阻塞的 DNS 请求只会消耗一个 goroutine，而阻塞的 C 调用会消耗一个操作系统线程。当 cgo 可用时，在多种条件下将改为使用基于 cgo 的解析器：在不允许程序直接进行 DNS 请求的系统上(OS X)，当存在 LOCALDOMAIN 环境变量时(即使为空)，当 RES_OPTIONS 或 HOSTALIASES 环境变量非空时，当 ASR_CONFIG 环境变量非空时(仅在 OpenBSD 上)，当 /etc/resolv.conf 或 /etc/nsswitch.conf 指定使用 Go 解析器未实现的功能时，以及正在查找的名称以 .local 结尾或是 mDNS 名称时。</p>
<p>​	可以通过将 GODEBUG 环境变量(参见 package runtime)的 netdns 值设置为 go 或 cgo 来覆盖解析器决策，例如：</p>
<pre tabindex="0"><code>export GODEBUG=netdns=go    # force pure Go resolver
export GODEBUG=netdns=cgo   # force native resolver (cgo, win32)
</code></pre><p>​	在构建 Go 源代码树时，也可以通过设置 netgo 或 netcgo 构建标签来强制执行决策。</p>
<p>​	数字netdns设置，例如GODEBUG=netdns=1，会导致解析器打印有关其决策的调试信息。为了在打印调试信息的同时强制使用特定的解析器，请将两个设置连接起来，如GODEBUG=netdns=go+1。</p>
<p>​	在Plan 9上，解析器总是访问/net/cs和/net/dns。</p>
<p>​	在早期的Go 1.18.x及之前的Windows版本中，解析器总是使用C库函数，例如GetAddrInfo和DnsQuery。</p>
<h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=21" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv4len</span> = <span style="color:#d19a66">4</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv6len</span> = <span style="color:#d19a66">16</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>IP地址长度(以字节为单位)。</p>
<h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=100" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv4bcast</span>     = <span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#d19a66">255</span>, <span style="color:#d19a66">255</span>, <span style="color:#d19a66">255</span>, <span style="color:#d19a66">255</span>) <span style="color:#7f848e">// 有限广播
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IPv4allsys</span>    = <span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#d19a66">224</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">1</span>)       <span style="color:#7f848e">// 所有系统
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IPv4allrouter</span> = <span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#d19a66">224</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">2</span>)       <span style="color:#7f848e">// 所有路由器
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IPv4zero</span>      = <span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>)         <span style="color:#7f848e">// 全部为零
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>知名IPv4地址。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=108" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv6zero</span>                   = <span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv6unspecified</span>            = <span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv6loopback</span>               = <span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">1</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv6interfacelocalallnodes</span> = <span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0xff</span>, <span style="color:#d19a66">0x01</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0x01</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv6linklocalallnodes</span>      = <span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0xff</span>, <span style="color:#d19a66">0x02</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0x01</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IPv6linklocalallrouters</span>    = <span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0xff</span>, <span style="color:#d19a66">0x02</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0x02</span>}
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>知名IPv6地址。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=118" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">DefaultResolver</span> = <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">Resolver</span>{}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DefaultResolver 是由包级别的 Lookup 函数和没有指定 Resolver 的 Dialer 使用的解析器。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=665" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrClosed</span> <span style="color:#e5c07b">error</span> = <span style="color:#e06c75">errClosed</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ErrClosed 是在网络连接上进行 I/O 调用时返回的错误，该连接已经关闭，或者在 I/O 完成之前被另一个 goroutine 关闭。这可能会包装在另一个错误中，并且通常应使用 errors.Is(err，net.ErrClosed)进行测试。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=408" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ErrWriteToConnected</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;use of WriteTo with pre-connected connection&#34;</span>)
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	OpError 中包含的各种错误。</p>
<h2 id="函数">函数</h2>
<h4 id="func-joinhostporthttpscsopensourcegooglegogogo1201srcnetipsockgol235">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ipsock.go;l=235" target="_blank" rel="noopener">JoinHostPort</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">JoinHostPort</span>(<span style="color:#e06c75">host</span>, <span style="color:#e06c75">port</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	JoinHostPort函数将 host 和 port 组合成形如 &ldquo;host:port&rdquo; 的网络地址。如果 host 包含冒号，如字面上的 IPv6 地址，则 JoinHostPort函数返回 &ldquo;[host]:port&rdquo;。</p>
<p>​	有关 host 和 port 参数的说明，请参见 func Dial。</p>
<h4 id="func-lookupaddrhttpscsopensourcegooglegogogo1201srcnetlookupgol645">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=645" target="_blank" rel="noopener">LookupAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupAddr</span>(<span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">names</span> []<span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupAddr函数根据给定的地址执行反向查找，返回映射到该地址的名称列表。</p>
<p>​	返回的名称已验证为格式正确的表示格式域名。如果响应包含无效的名称，则会过滤掉这些记录，并在剩余结果(如果有)旁边返回错误。</p>
<p>​	使用主机 C 库解析程序时，最多只会返回一个结果。要绕过主机解析程序，请使用自定义解析程序。</p>
<p>​	LookupAddr函数在内部使用 context.Background；要指定上下文，请使用 Resolver.LookupAddr。</p>
<h4 id="func-lookupcnamehttpscsopensourcegooglegogogo1201srcnetlookupgol456">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=456" target="_blank" rel="noopener">LookupCNAME</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupCNAME</span>(<span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">cname</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupCNAME函数返回给定主机的规范名称。不关心规范名称的调用方可以直接调用 LookupHost函数或 LookupIP函数；两者都会在查找中解析规范名称。</p>
<p>​	规范名称是在跟随零个或多个 CNAME 记录之后的最终名称。如果主机不包含 DNS &ldquo;CNAME&rdquo; 记录，则 LookupCNAME 不会返回错误，只要主机解析到地址记录即可。</p>
<p>​	返回的规范名称已验证为格式正确的表示格式域名。</p>
<p>​	LookupCNAME函数在内部使用 context.Background；要指定上下文，请使用 Resolver.LookupCNAME。</p>
<h4 id="func-lookuphosthttpscsopensourcegooglegogogo1201srcnetlookupgol176">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=176" target="_blank" rel="noopener">LookupHost</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupHost</span>(<span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">addrs</span> []<span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupHost函数使用本地解析器查找给定的主机名。它返回该主机的地址列表。</p>
<p>​	LookupHost函数在内部使用context.Background；要指定上下文，请使用Resolver.LookupHost。</p>
<h4 id="func-lookupporthttpscsopensourcegooglegogogo1201srcnetlookupgol414">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=414" target="_blank" rel="noopener">LookupPort</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupPort</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">service</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">port</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupPort函数查找给定网络和服务的端口。</p>
<p>​	LookupPort函数在内部使用context.Background；要指定上下文，请使用Resolver.LookupPort。</p>
<h4 id="func-lookuptxthttpscsopensourcegooglegogogo1201srcnetlookupgol624">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=624" target="_blank" rel="noopener">LookupTXT</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupTXT</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupTXT函数返回给定域名的DNS TXT记录。</p>
<p>​	LookupTXT函数在内部使用context.Background；要指定上下文，请使用Resolver.LookupTXT。</p>
<h4 id="func-parsecidrhttpscsopensourcegooglegogogo1201srcnetipgol741">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=741" target="_blank" rel="noopener">ParseCIDR</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseCIDR</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">IP</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPNet</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ParseCIDR函数将s解析为CIDR表示法的IP地址和前缀长度，例如&quot;192.0.2.0/24&quot;或&quot;2001:db8::/32&quot;，如RFC 4632和RFC 4291中所定义。</p>
<p>​	它返回IP地址和由IP和前缀长度隐含的网络。例如，ParseCIDR(&ldquo;192.0.2.1/24&rdquo;)返回IP地址192.0.2.1和网络192.0.2.0/24。</p>
<h5 id="parsecidr-example">ParseCIDR Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Addr</span>, <span style="color:#e06c75">ipv4Net</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseCIDR</span>(<span style="color:#98c379">&#34;192.0.2.1/24&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Addr</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Net</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Addr</span>, <span style="color:#e06c75">ipv6Net</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseCIDR</span>(<span style="color:#98c379">&#34;2001:db8:a0b:12f0::1/32&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Addr</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Net</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">192.0.2.1</span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">192.0.2.0</span><span style="color:#56b6c2">/</span><span style="color:#d19a66">24</span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">2001</span>:<span style="color:#e06c75">db8</span>:<span style="color:#e06c75">a0b</span>:<span style="color:#d19a66">12</span><span style="color:#e06c75">f0</span>::<span style="color:#d19a66">1</span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">2001</span>:<span style="color:#e06c75">db8</span>::<span style="color:#56b6c2">/</span><span style="color:#d19a66">32</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-pipehttpscsopensourcegooglegogogo1201srcnetpipegol113">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/pipe.go;l=113" target="_blank" rel="noopener">Pipe</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Pipe</span>() (<span style="color:#e06c75">Conn</span>, <span style="color:#e06c75">Conn</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Pipe函数创建一个同步的内存中全双工网络连接；两端都实现了Conn接口。一个端口的读取与另一个端口的写入匹配，直接在两者之间复制数据；没有内部缓冲。</p>
<h4 id="func-splithostporthttpscsopensourcegooglegogogo1201srcnetipsockgol164">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ipsock.go;l=164" target="_blank" rel="noopener">SplitHostPort</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">SplitHostPort</span>(<span style="color:#e06c75">hostport</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">host</span>, <span style="color:#e06c75">port</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SplitHostPort函数将&quot;<code>host:port</code>&quot;、&quot;<code>host%zone:port</code>&quot;、&quot;<code>[host]:port</code>&ldquo;或&rdquo;<code>[host％zone]:port</code>&ldquo;形式的网络地址分成主机或host％zone和端口。</p>
<p>​	hostport中的文字IPv6地址必须用方括号括起来，如&rdquo;<code>[::1]:80</code>&quot;、&quot;<code>[::1％lo0]:80</code>&quot;。</p>
<p>​	有关hostport参数和host和port结果的说明，请参见func Dial。</p>
<h2 id="类型">类型</h2>
<h3 id="type-addrhttpscsopensourcegooglegogogo1201srcnetnetgol105">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=105" target="_blank" rel="noopener">Addr</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Addr</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Network</span>() <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// 网络的名称(例如 &#34;tcp&#34;、&#34;udp&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>  <span style="color:#7f848e">// 地址的字符串表示形式(例如 &#34;192.0.2.1:25&#34;、&#34;[2001:db8::1]:80&#34;)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Addr接口表示网络终端地址。</p>
<p>​	Network 和 String 两个方法一般返回可以作为 Dial 函数参数的字符串，但字符串的确切格式和含义取决于实现。</p>
<h4 id="func-interfaceaddrshttpscsopensourcegooglegogogo1201srcnetinterfacegol118">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=118" target="_blank" rel="noopener">InterfaceAddrs</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">InterfaceAddrs</span>() ([]<span style="color:#e06c75">Addr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	InterfaceAddrs函数返回系统的单播接口地址列表。</p>
<p>​	返回的列表不包含关联接口的标识，使用 Interfaces 和 Interface.Addrs 获取更多详细信息。</p>
<h3 id="type-addrerrorhttpscsopensourcegooglegogogo1201srcnetnetgol554">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=554" target="_blank" rel="noopener">AddrError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">AddrError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Err</span>  <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Addr</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="addrerror-errorhttpscsopensourcegooglegogogo1201srcnetnetgol559">(*AddrError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=559" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">AddrError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="addrerror-temporaryhttpscsopensourcegooglegogogo1201srcnetnetgol571">(*AddrError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=571" target="_blank" rel="noopener">Temporary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">AddrError</span>) <span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="addrerror-timeouthttpscsopensourcegooglegogogo1201srcnetnetgol570">(*AddrError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=570" target="_blank" rel="noopener">Timeout</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">AddrError</span>) <span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-buffershttpscsopensourcegooglegogogo1201srcnetnetgol712----go18">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=712" target="_blank" rel="noopener">Buffers</a>  &lt;- go1.8</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Buffers</span> [][]<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Buffers 包含零个或多个要写入的字节序列。</p>
<p>​	在某些机器上，对于某些类型的连接，这可以被优化为操作系统特定的批量写操作(例如 &ldquo;writev&rdquo;)。</p>
<h4 id="buffers-readhttpscsopensourcegooglegogogo1201srcnetnetgol747----go18">(*Buffers) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=747" target="_blank" rel="noopener">Read</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">v</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Buffers</span>) <span style="color:#61afef;font-weight:bold">Read</span>(<span style="color:#e06c75">p</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Read方法从缓冲区读取。</p>
<p>​	Read方法为 Buffers 实现了 io.Reader。</p>
<p>​	Read方法修改了切片 v 和 v[i]，其中 0 &lt;= i &lt; len(v)，但不修改 v[i][j]，其中 i 和 j 为任意值。</p>
<h4 id="buffers-writetohttpscsopensourcegooglegogogo1201srcnetnetgol725----go18">(*Buffers) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=725" target="_blank" rel="noopener">WriteTo</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">v</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Buffers</span>) <span style="color:#61afef;font-weight:bold">WriteTo</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Writer</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int64</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteTo方法将缓冲区的内容写入 w。</p>
<p>​	WriteTo方法为 Buffers 实现了 io.WriterTo。</p>
<p>​	WriteTo方法修改了切片 v 和 v[i]，其中 0 &lt;= i &lt; len(v)，但不修改 v[i][j]，其中 i 和 j 为任意值。</p>
<h3 id="type-connhttpscsopensourcegooglegogogo1201srcnetnetgol113">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=113" target="_blank" rel="noopener">Conn</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Conn</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Read 从连接中读取数据。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Read 可以设置超时时间，在固定时间限制后超时并返回错误；
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 参见 SetDeadline 和 	SetReadDeadline。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Read</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Write 向连接中写入数据。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Write 可以设置超时时间，在固定时间限制后超时并返回错误；
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 参见 SetDeadline 和 SetWriteDeadline。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Close 关闭连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 任何被阻塞的 Read 或 Write 操作都将取消阻塞并返回错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// LocalAddr 返回本地网络地址(如果已知)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">LocalAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// RemoteAddr 返回远程网络地址(如果已知)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">RemoteAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// SetDeadline 设置与连接关联的读取和写入截止时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 它等效于调用 SetReadDeadline 和 SetWriteDeadline 两个方法。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 截止时间是一个绝对时间，在此之后 I/O 操作将失败而不是阻塞。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 截止时间适用于所有未来和挂起的 I/O，而不仅仅是立即跟随 Read 或 Write 调用的操作。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果超过截止时间，可以通过将截止时间设置为未来来刷新连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果超过截止时间，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对 Read 或 Write 或其他 I/O 方法的调用将返回包含 os.ErrDeadlineExceeded 的错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 可以使用 errors.Is(err, os.ErrDeadlineExceeded) 测试此错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 错误的 Timeout 方法将返回 true，但请注意，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 即使截止时间尚未超过，也有其他可能导致 Timeout 方法返回 true 的错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 空值 t 表示 I/O 操作将不会超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">SetDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// SetReadDeadline 设置未来 Read 调用和任何当前被阻塞的 Read 调用的截止时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 空值 t 表示 Read 不会超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">SetReadDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// SetWriteDeadline 设置未来 Write 调用和任何当前被阻塞的 Write 调用的截止时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 即使写入超时，它也可能返回 n &gt; 0，表示某些数据已成功写入。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 空值 t 表示 Write 不会超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">SetWriteDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Conn 是一个通用的面向流的网络连接。</p>
<p>​	多个 goroutine 可以同时调用 Conn 上的方法。</p>
<h4 id="func-dialhttpscsopensourcegooglegogogo1201srcnetdialgol332">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=332" target="_blank" rel="noopener">Dial</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Dial</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Dial函数连接到指定网络上的地址。</p>
<p>​	已知的网络有 &ldquo;tcp&rdquo;、&ldquo;tcp4&rdquo;(仅限 IPv4)、&ldquo;tcp6&rdquo;(仅限 IPv6)、&ldquo;udp&rdquo;、&ldquo;udp4&rdquo;(仅限 IPv4)、&ldquo;udp6&rdquo;(仅限 IPv6)、&ldquo;ip&rdquo;、&ldquo;ip4&rdquo;(仅限 IPv4)、&ldquo;ip6&rdquo;(仅限 IPv6)、&ldquo;unix&rdquo;、&ldquo;unixgram&rdquo; 和 &ldquo;unixpacket&rdquo;。</p>
<p>​	对于 TCP 和 UDP 网络，地址的格式为 &ldquo;host:port&rdquo;。主机必须是一个字面 IP 地址，或者是可以解析为 IP 地址的主机名。端口必须是字面端口号或服务名称。如果主机是字面 IPv6 地址，则必须用方括号括起来，如 &ldquo;[2001:db8::1]:80&rdquo; 或 &ldquo;[fe80::1%zone]:80&rdquo;。区域指定了字面 IPv6 地址的作用域，如 RFC 4007 中定义的那样。函数 JoinHostPort 和 SplitHostPort 以这种形式操作一对主机和端口。在使用 TCP 时，如果主机解析为多个 IP 地址，则 Dial 将按顺序尝试每个 IP 地址，直到其中一个成功。</p>
<p>​	示例：</p>
<pre tabindex="0"><code>Dial(&#34;tcp&#34;, &#34;golang.org:http&#34;)
Dial(&#34;tcp&#34;, &#34;192.0.2.1:http&#34;)
Dial(&#34;tcp&#34;, &#34;198.51.100.1:80&#34;)
Dial(&#34;udp&#34;, &#34;[2001:db8::1]:domain&#34;)
Dial(&#34;udp&#34;, &#34;[fe80::1%lo0]:53&#34;)
Dial(&#34;tcp&#34;, &#34;:80&#34;)
</code></pre><p>​	对于 IP 网络，网络必须是 &ldquo;ip&rdquo;、&ldquo;ip4&rdquo; 或 &ldquo;ip6&rdquo;，后跟冒号和字面协议号或协议名称，地址的格式为 &ldquo;host&rdquo;。主机必须是一个字面 IP 地址或带区域的字面 IPv6 地址。每个操作系统如何处理非知名协议号(如 &ldquo;0&rdquo; 或 &ldquo;255&rdquo;)取决于操作系统。</p>
<p>​	示例：</p>
<pre tabindex="0"><code>Dial(&#34;ip4:1&#34;, &#34;192.0.2.1&#34;)
Dial(&#34;ip6:ipv6-icmp&#34;, &#34;2001:db8::1&#34;)
Dial(&#34;ip6:58&#34;, &#34;fe80::1%lo0&#34;)
</code></pre><p>​	对于 TCP、UDP 和 IP 网络，如果主机为空或为未指定的字面 IP 地址，如 &ldquo;:80&rdquo;、&ldquo;0.0.0.0:80&rdquo; 或 &ldquo;[::]:80&rdquo; 用于 TCP 和 UDP、&quot;&quot;、&ldquo;0.0.0.0&rdquo; 或 &ldquo;::&rdquo; 用于 IP，则假定本地系统。</p>
<p>​	对于 Unix 网络，地址必须是一个文件系统路径。</p>
<h4 id="func-dialtimeouthttpscsopensourcegooglegogogo1201srcnetdialgol347">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=347" target="_blank" rel="noopener">DialTimeout</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DialTimeout</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">timeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>) (<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DialTimeout函数类似于Dial，但带有超时设置。</p>
<p>​	超时包括名称解析(如果需要)。当使用 TCP 时，如果地址参数中的主机名解析为多个 IP 地址，则超时时间将分布在每个连续的 dial 上，以使每个 dial 分配适当的时间比例进行连接。</p>
<p>​	有关网络和地址参数的说明，请参见 func Dial。</p>
<h4 id="func-fileconnhttpscsopensourcegooglegogogo1201srcnetfilegol21">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/file.go;l=21" target="_blank" rel="noopener">FileConn</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">FileConn</span>(<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>) (<span style="color:#e06c75">c</span> <span style="color:#e06c75">Conn</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	FileConn函数返回与打开文件 f 对应的网络连接的副本。当结束时，调用者负责关闭 f。关闭 c 不会影响 f，关闭 f 也不会影响 c。</p>
<h3 id="type-dnsconfigerrorhttpscsopensourcegooglegogogo1201srcnetnetgol610">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=610" target="_blank" rel="noopener">DNSConfigError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">DNSConfigError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Err</span> <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DNSConfigError 表示读取计算机 DNS 配置的错误。(不再使用；为了向后兼容而保留。)</p>
<h4 id="dnsconfigerror-errorhttpscsopensourcegooglegogogo1201srcnetnetgol615">(*DNSConfigError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=615" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">DNSConfigError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dnsconfigerror-temporaryhttpscsopensourcegooglegogogo1201srcnetnetgol617">(*DNSConfigError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=617" target="_blank" rel="noopener">Temporary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">DNSConfigError</span>) <span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dnsconfigerror-timeouthttpscsopensourcegooglegogogo1201srcnetnetgol616">(*DNSConfigError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=616" target="_blank" rel="noopener">Timeout</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">DNSConfigError</span>) <span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dnsconfigerror-unwraphttpscsopensourcegooglegogogo1201srcnetnetgol614----go113">(*DNSConfigError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=614" target="_blank" rel="noopener">Unwrap</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">DNSConfigError</span>) <span style="color:#61afef;font-weight:bold">Unwrap</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-dnserrorhttpscsopensourcegooglegogogo1201srcnetnetgol625">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=625" target="_blank" rel="noopener">DNSError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">DNSError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Err</span>         <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// 错误描述
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Name</span>        <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// 查找的名称
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Server</span>      <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// 使用的服务器
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IsTimeout</span>   <span style="color:#e5c07b">bool</span>   <span style="color:#7f848e">// 如果为真，则已超时；并非所有超时都设置了此项
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IsTemporary</span> <span style="color:#e5c07b">bool</span>   <span style="color:#7f848e">// 如果为真，则错误是暂时的；并非所有错误都设置了此项
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">IsNotFound</span>  <span style="color:#e5c07b">bool</span>   <span style="color:#7f848e">// 如果为真，则找不到主机
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DNSError 表示 DNS 查找错误。</p>
<h4 id="dnserror-errorhttpscsopensourcegooglegogogo1201srcnetnetgol634">(*DNSError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=634" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">DNSError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dnserror-temporaryhttpscsopensourcegooglegogogo1201srcnetnetgol654">(*DNSError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=654" target="_blank" rel="noopener">Temporary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">DNSError</span>) <span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Temporary方法报告DNS错误是否已知为临时错误。这并非总是已知的；DNS查找可能由于临时错误而失败，并返回一个DNSError，其中Temporary返回false。</p>
<h4 id="dnserror-timeouthttpscsopensourcegooglegogogo1201srcnetnetgol649">(*DNSError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=649" target="_blank" rel="noopener">Timeout</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">DNSError</span>) <span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Timeout方法报告DNS查找是否已知已超时。这并非总是已知的；DNS查找可能由于超时而失败，并返回一个DNSError，其中Timeout返回false。</p>
<h3 id="type-dialerhttpscsopensourcegooglegogogo1201srcnetdialgol27----go11">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=27" target="_blank" rel="noopener">Dialer</a>  &lt;- go1.1</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">74
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Dialer</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Timeout是拨号等待连接完成的最大时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果Deadline也设置了，可能会更早失败。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 默认情况下没有超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 在使用TCP并拨打具有多个IP地址的主机名时，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 超时可能会在它们之间分配。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 有或没有超时，操作系统可能会强制执行自己的较早超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 例如，TCP超时通常为约3分钟。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Timeout</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Deadline是绝对时间点，超过这个时间点，拨号将失败。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如果设置了Timeout，它可能会更早失败。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 零表示没有截止日期，或者依赖于操作系统，如Timeout选项。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Deadline</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// LocalAddr是在拨打地址时使用的本地地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 地址必须是适用于被拨打的网络的兼容类型。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为nil，则自动选择本地地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">LocalAddr</span> <span style="color:#e06c75">Addr</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DualStack先前启用了RFC 6555快速回退支持，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 也称为&#34; Happy Eyeballs&#34;，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在其中如果IPv6似乎配置不正确且挂起，则很快尝试IPv4。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 已弃用：默认情况下启用了快速回退。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 要禁用，请将FallbackDelay设置为负值。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DualStack</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// FallbackDelay指定等待RFC 6555快速回退连接生成的时间长度。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 也就是说，在假定IPv6配置不正确并回退到IPv4之前，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 等待IPv6成功的时间量。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为零，则使用默认延迟300毫秒。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 负值禁用快速回退支持。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">FallbackDelay</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// KeepAlive指定活动网络连接的保持活动探测之间的间隔时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为零，并且协议和操作系统支持，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则使用默认值发送保持活动探测(当前为15秒)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 不支持保持活动的网络协议或操作系统会忽略此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为负值，则禁用保持活动探测。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">KeepAlive</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Resolver是可选的，它指定要使用的替代解析程序。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Resolver</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Cancel是一个可选的通道，其关闭指示应取消拨号。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 不是所有类型的拨号都支持取消。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 已弃用：改用DialContext。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Cancel</span> <span style="color:#56b6c2">&lt;-</span><span style="color:#c678dd">chan</span> <span style="color:#c678dd">struct</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 如果Control不为nil，则在创建网络连接但尚未拨打时调用它。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 传递给Control方法的网络和地址参数不一定是传递给Dial的参数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 例如，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 将&#34;tcp&#34;传递给Dial将导致使用&#34;tcp4&#34;或&#34;tcp6&#34;调用Control函数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果ControlContext不为nil，则忽略Control。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Control</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">c</span> <span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 如果ControlContext不为nil，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 在实际拨号之前创建网络连接时会调用它。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 传递给Control方法的网络和地址参数不一定是传递给Dial的参数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 例如，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 向Dial传递&#34;tcp&#34;将导致Control函数被调用时传递&#34;tcp4&#34; 或 &#34;tcp6&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果ControlContext不为nil，则忽略Control。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ControlContext</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">c</span> <span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Dialer包含用于连接到地址的选项。</p>
<p>​	每个字段的零值等效于不使用该选项进行拨号。因此，使用Dialer的零值进行拨号等效于只调用Dial函数。</p>
<p>​	并发调用Dialer的方法是安全的。</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;time&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">d</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Dialer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ctx</span>, <span style="color:#e06c75">cancel</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">context</span>.<span style="color:#61afef;font-weight:bold">WithTimeout</span>(<span style="color:#e06c75">context</span>.<span style="color:#61afef;font-weight:bold">Background</span>(), <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Minute</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">defer</span> <span style="color:#61afef;font-weight:bold">cancel</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">conn</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">d</span>.<span style="color:#61afef;font-weight:bold">DialContext</span>(<span style="color:#e06c75">ctx</span>, <span style="color:#98c379">&#34;tcp&#34;</span>, <span style="color:#98c379">&#34;localhost:12345&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatalf</span>(<span style="color:#98c379">&#34;Failed to dial: %v&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">defer</span> <span style="color:#e06c75">conn</span>.<span style="color:#61afef;font-weight:bold">Close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">_</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">conn</span>.<span style="color:#61afef;font-weight:bold">Write</span>([]<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">&#34;Hello, World!&#34;</span>)); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="exampleunix">Example(Unix)</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;time&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// DialUnix does not take a context.Context parameter. This example shows
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// how to dial a Unix socket with a Context. Note that the Context only
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// applies to the dial operation; it does not apply to the connection once
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// it has been established.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#c678dd">var</span> <span style="color:#e06c75">d</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Dialer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ctx</span>, <span style="color:#e06c75">cancel</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">context</span>.<span style="color:#61afef;font-weight:bold">WithTimeout</span>(<span style="color:#e06c75">context</span>.<span style="color:#61afef;font-weight:bold">Background</span>(), <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Minute</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">defer</span> <span style="color:#61afef;font-weight:bold">cancel</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">d</span>.<span style="color:#e06c75">LocalAddr</span> = <span style="color:#e5c07b">nil</span> <span style="color:#7f848e">// if you have a local addr, add it here
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">raddr</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">UnixAddr</span>{<span style="color:#e06c75">Name</span>: <span style="color:#98c379">&#34;/path/to/unix.sock&#34;</span>, <span style="color:#e06c75">Net</span>: <span style="color:#98c379">&#34;unix&#34;</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">conn</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">d</span>.<span style="color:#61afef;font-weight:bold">DialContext</span>(<span style="color:#e06c75">ctx</span>, <span style="color:#98c379">&#34;unix&#34;</span>, <span style="color:#e06c75">raddr</span>.<span style="color:#61afef;font-weight:bold">String</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatalf</span>(<span style="color:#98c379">&#34;Failed to dial: %v&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">defer</span> <span style="color:#e06c75">conn</span>.<span style="color:#61afef;font-weight:bold">Close</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">_</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">conn</span>.<span style="color:#61afef;font-weight:bold">Write</span>([]<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">&#34;Hello, socket!&#34;</span>)); <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="dialer-dialhttpscsopensourcegooglegogogo1201srcnetdialgol366----go11">(*Dialer) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=366" target="_blank" rel="noopener">Dial</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Dialer</span>) <span style="color:#61afef;font-weight:bold">Dial</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Dial方法在指定网络上连接到地址。</p>
<p>​	有关网络和地址参数的描述，请参见func Dial。</p>
<p>​	Dial在内部使用context.Background；要指定上下文，请使用DialContext。</p>
<h4 id="dialer-dialcontexthttpscsopensourcegooglegogogo1201srcnetdialgol388----go17">(*Dialer) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=388" target="_blank" rel="noopener">DialContext</a>  &lt;- go1.7</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">d</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Dialer</span>) <span style="color:#61afef;font-weight:bold">DialContext</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DialContext方法在指定网络上使用提供的上下文连接到地址。</p>
<p>​	提供的上下文必须是非nil的。如果上下文在连接完成之前到期，则会返回错误。一旦成功连接，上下文的任何到期都不会影响连接。</p>
<p>​	使用TCP时，如果地址参数中的主机解析为多个网络地址，则任何拨号超时(来自d.Timeout或ctx)将分布在每个连续的拨号之间，以便每个拨号在适当的时间内完成。例如，如果主机有4个IP地址，并且超时时间为1分钟，则在尝试下一个地址之前，将为每个单个地址分配15秒钟的时间。</p>
<p>​	有关网络和地址参数的描述，请参见func Dial。</p>
<h3 id="type-errorhttpscsopensourcegooglegogogo1201srcnetnetgol397">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=397" target="_blank" rel="noopener">Error</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Error</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span> <span style="color:#7f848e">// 错误是否超时？
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Deprecated: 临时错误没有明确定义。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 大多数&#34;临时&#34;错误是超时错误，极少数例外情况是出人意料的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 不要使用这个方法。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Error接口表示网络错误。</p>
<h3 id="type-flagshttpscsopensourcegooglegogogo1201srcnetinterfacegol39">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=39" target="_blank" rel="noopener">Flags</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Flags</span> <span style="color:#e5c07b">uint</span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">FlagUp</span>           <span style="color:#e06c75">Flags</span> = <span style="color:#d19a66">1</span> <span style="color:#56b6c2">&lt;&lt;</span> <span style="color:#e5c07b">iota</span> <span style="color:#7f848e">// 接口已被管理员开启
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">FlagBroadcast</span>                      <span style="color:#7f848e">// 接口支持广播访问能力
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">FlagLoopback</span>                       <span style="color:#7f848e">// 接口是一个回环接口
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">FlagPointToPoint</span>                   <span style="color:#7f848e">// 接口属于点对点连接
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">FlagMulticast</span>                      <span style="color:#7f848e">// 接口支持组播访问能力
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">FlagRunning</span>                        <span style="color:#7f848e">// 接口处于运行状态
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="flags-stringhttpscsopensourcegooglegogogo1201srcnetinterfacegol59">(Flags) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=59" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">f</span> <span style="color:#e06c75">Flags</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-hardwareaddrhttpscsopensourcegooglegogogo1201srcnetmacgol10">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mac.go;l=10" target="_blank" rel="noopener">HardwareAddr</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">HardwareAddr</span> []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	HardwareAddr表示一个物理硬件地址。</p>
<h4 id="func-parsemachttpscsopensourcegooglegogogo1201srcnetmacgol39">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mac.go;l=39" target="_blank" rel="noopener">ParseMAC</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseMAC</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">hw</span> <span style="color:#e06c75">HardwareAddr</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ParseMAC函数将s解析为IEEE 802 MAC-48、EUI-48、EUI-64或20字节IP over InfiniBand链路层地址之一，使用以下格式之一：</p>
<pre tabindex="0"><code>00:00:5e:00:53:01
02:00:5e:10:00:00:00:01
00:00:00:00:fe:80:00:00:00:00:00:00:02:00:5e:10:00:00:00:01
00-00-5e-00-53-01
02-00-5e-10-00-00-00-01
00-00-00-00-fe-80-00-00-00-00-00-00-02-00-5e-10-00-00-00-01
0000.5e00.5301
0200.5e10.0000.0001
0000.0000.fe80.0000.0000.0000.0200.5e10.0000.0001
</code></pre><h4 id="hardwareaddr-stringhttpscsopensourcegooglegogogo1201srcnetmacgol12">(HardwareAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/mac.go;l=12" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#e06c75">HardwareAddr</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-iphttpscsopensourcegooglegogogo1201srcnetipgol35">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=35" target="_blank" rel="noopener">IP</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">IP</span> []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IP是单个IP地址，是字节片。此包中的函数接受4字节(IPv4)或16字节(IPv6)片作为输入。</p>
<p>​	请注意，在本文档中，将IP地址称为IPv4地址或IPv6地址是地址的语义属性，而不仅仅是字节片的长度：16字节的片仍然可以是IPv4地址。</p>
<h5 id="ip-example">IP Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0xfc</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#d19a66">10</span>, <span style="color:#d19a66">255</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6</span>.<span style="color:#61afef;font-weight:bold">To4</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4</span>.<span style="color:#61afef;font-weight:bold">To4</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#e5c07b">nil</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#d19a66">10.255.0.0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-ipv4httpscsopensourcegooglegogogo1201srcnetipgol51">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=51" target="_blank" rel="noopener">IPv4</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#e06c75">a</span>, <span style="color:#e06c75">b</span>, <span style="color:#e06c75">c</span>, <span style="color:#e06c75">d</span> <span style="color:#e5c07b">byte</span>) <span style="color:#e06c75">IP</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IPv4函数返回IPv4地址a.b.c.d的IP地址(以16字节形式)。</p>
<h5 id="ipv4-example">IPv4 Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#d19a66">8</span>, <span style="color:#d19a66">8</span>, <span style="color:#d19a66">8</span>, <span style="color:#d19a66">8</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">8.8.8.8</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-lookupiphttpscsopensourcegooglegogogo1201srcnetlookupgol196">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=196" target="_blank" rel="noopener">LookupIP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupIP</span>(<span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e06c75">IP</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupIP函数使用本地解析器查找主机，返回该主机的IPv4和IPv6地址切片。</p>
<h4 id="func-parseiphttpscsopensourcegooglegogogo1201srcnetipgol707">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=707" target="_blank" rel="noopener">ParseIP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">IP</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ParseIP函数将 s 解析为一个 IP 地址并返回结果。字符串 s 可以是 IPv4 的点分十进制表示(&ldquo;192.0.2.1&rdquo;)、IPv6 的十六进制表示(&quot;<code>2001:db8::68</code>&quot;)或 IPv4 映射的 IPv6 表示形式(&quot;<code>::ffff:192.0.2.1</code>&quot;)。如果 s 不是有效的文本表示形式的 IP 地址，则 ParseIP 返回 nil。</p>
<h5 id="parseip-example">ParseIP Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;192.0.2.1&#34;</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;2001:db8::68&#34;</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;192.0.2&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">192.0.2.1</span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">2001</span>:<span style="color:#e06c75">db8</span>::<span style="color:#d19a66">68</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#e5c07b">nil</span>&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-defaultmaskhttpscsopensourcegooglegogogo1201srcnetipgol246">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=246" target="_blank" rel="noopener">DefaultMask</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">DefaultMask</span>() <span style="color:#e06c75">IPMask</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DefaultMask方法返回 IP 地址 ip 的默认 IP 掩码。只有 IPv4 地址有默认掩码；如果 ip 不是有效的 IPv4 地址，则 DefaultMask 返回 nil。</p>
<h5 id="defaultmask-example">DefaultMask Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ip</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;192.0.2.1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ip</span>.<span style="color:#61afef;font-weight:bold">DefaultMask</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">ffffff00</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-equalhttpscsopensourcegooglegogogo1201srcnetipgol432">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=432" target="_blank" rel="noopener">Equal</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">Equal</span>(<span style="color:#e06c75">x</span> <span style="color:#e06c75">IP</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Equal方法报告 ip 和 x 是否是相同的 IP 地址。IPv4 地址和相同的 IPv6 地址被认为是相等的。</p>
<h5 id="equal-example">Equal Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4DNS</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;8.8.8.8&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Lo</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;127.0.0.1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6DNS</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;0:0:0:0:0:FFFF:0808:0808&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4DNS</span>.<span style="color:#61afef;font-weight:bold">Equal</span>(<span style="color:#e06c75">ipv4DNS</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4DNS</span>.<span style="color:#61afef;font-weight:bold">Equal</span>(<span style="color:#e06c75">ipv4Lo</span>))
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4DNS</span>.<span style="color:#61afef;font-weight:bold">Equal</span>(<span style="color:#e06c75">ipv6DNS</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-isglobalunicasthttpscsopensourcegooglegogogo1201srcnetipgol190">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=190" target="_blank" rel="noopener">IsGlobalUnicast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">IsGlobalUnicast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IsGlobalUnicast方法报告 ip 是否是全局单播地址。</p>
<p>​	全局单播地址的标识使用 <a href="https://rfc-editor.org/rfc/rfc1122.html" target="_blank" rel="noopener">RFC 1122</a>、<a href="https://rfc-editor.org/rfc/rfc4632.html" target="_blank" rel="noopener">RFC 4632</a> 和 <a href="https://rfc-editor.org/rfc/rfc4291.html" target="_blank" rel="noopener">RFC 4291</a> 中定义的地址类型标识，但 IPv4 定向广播地址除外。即使 ip 在 IPv4 私有地址空间或本地 IPv6 单播地址空间中，它也返回 true。</p>
<h5 id="isglobalunicast-example">IsGlobalUnicast Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Global</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;2000::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6UniqLocal</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;2000::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Multi</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;FF00::&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Private</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;10.255.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Public</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;8.8.8.8&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Broadcast</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;255.255.255.255&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Global</span>.<span style="color:#61afef;font-weight:bold">IsGlobalUnicast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6UniqLocal</span>.<span style="color:#61afef;font-weight:bold">IsGlobalUnicast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Multi</span>.<span style="color:#61afef;font-weight:bold">IsGlobalUnicast</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Private</span>.<span style="color:#61afef;font-weight:bold">IsGlobalUnicast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Public</span>.<span style="color:#61afef;font-weight:bold">IsGlobalUnicast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Broadcast</span>.<span style="color:#61afef;font-weight:bold">IsGlobalUnicast</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-isinterfacelocalmulticasthttpscsopensourcegooglegogogo1201srcnetipgol160">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=160" target="_blank" rel="noopener">IsInterfaceLocalMulticast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">IsInterfaceLocalMulticast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IsInterfaceLocalMulticast方法报告 ip 是否是接口本地组播地址。</p>
<h5 id="isinterfacelocalmulticast-example">IsInterfaceLocalMulticast Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6InterfaceLocalMulti</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;ff01::1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Global</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;2000::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;255.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6InterfaceLocalMulti</span>.<span style="color:#61afef;font-weight:bold">IsInterfaceLocalMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Global</span>.<span style="color:#61afef;font-weight:bold">IsInterfaceLocalMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4</span>.<span style="color:#61afef;font-weight:bold">IsInterfaceLocalMulticast</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-islinklocalmulticasthttpscsopensourcegooglegogogo1201srcnetipgol166">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=166" target="_blank" rel="noopener">IsLinkLocalMulticast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">IsLinkLocalMulticast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IsLinkLocalMulticast方法报告 ip 是否是链路本地组播地址。</p>
<h5 id="islinklocalmulticast-example">IsLinkLocalMulticast Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6LinkLocalMulti</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;ff02::2&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6LinkLocalUni</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;fe80::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4LinkLocalMulti</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;224.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4LinkLocalUni</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;169.254.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6LinkLocalMulti</span>.<span style="color:#61afef;font-weight:bold">IsLinkLocalMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6LinkLocalUni</span>.<span style="color:#61afef;font-weight:bold">IsLinkLocalMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4LinkLocalMulti</span>.<span style="color:#61afef;font-weight:bold">IsLinkLocalMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4LinkLocalUni</span>.<span style="color:#61afef;font-weight:bold">IsLinkLocalMulticast</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-islinklocalunicasthttpscsopensourcegooglegogogo1201srcnetipgol175">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=175" target="_blank" rel="noopener">IsLinkLocalUnicast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">IsLinkLocalUnicast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IsLinkLocalUnicast方法报告IP地址ip是否为链路本地单播地址。</p>
<h5 id="islinklocalunicast-example">IsLinkLocalUnicast Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6LinkLocalUni</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;fe80::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Global</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;2000::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4LinkLocalUni</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;169.254.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4LinkLocalMulti</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;224.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6LinkLocalUni</span>.<span style="color:#61afef;font-weight:bold">IsLinkLocalUnicast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Global</span>.<span style="color:#61afef;font-weight:bold">IsLinkLocalUnicast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4LinkLocalUni</span>.<span style="color:#61afef;font-weight:bold">IsLinkLocalUnicast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4LinkLocalMulti</span>.<span style="color:#61afef;font-weight:bold">IsLinkLocalUnicast</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-isloopbackhttpscsopensourcegooglegogogo1201srcnetipgol124">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=124" target="_blank" rel="noopener">IsLoopback</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">IsLoopback</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IsLoopback方法报告IP地址ip是否为回环地址。</p>
<h5 id="isloopback-example">IsLoopback Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Lo</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;::1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;ff02::1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Lo</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;127.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;128.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Lo</span>.<span style="color:#61afef;font-weight:bold">IsLoopback</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6</span>.<span style="color:#61afef;font-weight:bold">IsLoopback</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Lo</span>.<span style="color:#61afef;font-weight:bold">IsLoopback</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4</span>.<span style="color:#61afef;font-weight:bold">IsLoopback</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-ismulticasthttpscsopensourcegooglegogogo1201srcnetipgol151">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=151" target="_blank" rel="noopener">IsMulticast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">IsMulticast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IsMulticast方法报告IP地址ip是否为多播地址。</p>
<h5 id="ismulticast-example">IsMulticast Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Multi</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;FF00::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6LinkLocalMulti</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;ff02::1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Lo</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;::1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Multi</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;239.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4LinkLocalMulti</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;224.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Lo</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;127.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Multi</span>.<span style="color:#61afef;font-weight:bold">IsMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6LinkLocalMulti</span>.<span style="color:#61afef;font-weight:bold">IsMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Lo</span>.<span style="color:#61afef;font-weight:bold">IsMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Multi</span>.<span style="color:#61afef;font-weight:bold">IsMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4LinkLocalMulti</span>.<span style="color:#61afef;font-weight:bold">IsMulticast</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Lo</span>.<span style="color:#61afef;font-weight:bold">IsMulticast</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-isprivatehttpscsopensourcegooglegogogo1201srcnetipgol133----go117">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=133" target="_blank" rel="noopener">IsPrivate</a>  &lt;- go1.17</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">IsPrivate</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IsPrivate方法报告IP地址ip是否为私有地址，根据<a href="https://rfc-editor.org/rfc/rfc1918.html" target="_blank" rel="noopener">RFC 1918</a>(IPv4地址)和<a href="https://rfc-editor.org/rfc/rfc4193.html" target="_blank" rel="noopener">RFC 4193</a>(IPv6地址)。</p>
<h5 id="isprivate-example">IsPrivate Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Private</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;fc00::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Public</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;fe00::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Private</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;10.255.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Public</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;11.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Private</span>.<span style="color:#61afef;font-weight:bold">IsPrivate</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Public</span>.<span style="color:#61afef;font-weight:bold">IsPrivate</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Private</span>.<span style="color:#61afef;font-weight:bold">IsPrivate</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Public</span>.<span style="color:#61afef;font-weight:bold">IsPrivate</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-isunspecifiedhttpscsopensourcegooglegogogo1201srcnetipgol119">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=119" target="_blank" rel="noopener">IsUnspecified</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">IsUnspecified</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IsUnspecified方法报告IP地址ip是否为未指定地址，即IPv4地址&quot;0.0.0.0&quot;或IPv6地址&quot;::&quot;。</p>
<h5 id="isunspecified-example">IsUnspecified Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Unspecified</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Specified</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;fe00::&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Unspecified</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;0.0.0.0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Specified</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;8.8.8.8&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Unspecified</span>.<span style="color:#61afef;font-weight:bold">IsUnspecified</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Specified</span>.<span style="color:#61afef;font-weight:bold">IsUnspecified</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Unspecified</span>.<span style="color:#61afef;font-weight:bold">IsUnspecified</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Specified</span>.<span style="color:#61afef;font-weight:bold">IsUnspecified</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">true</span>
</span></span><span style="display:flex;"><span><span style="color:#e5c07b">false</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-marshaltexthttpscsopensourcegooglegogogo1201srcnetipgol403----go12">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=403" target="_blank" rel="noopener">MarshalText</a>  &lt;- go1.2</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">MarshalText</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MarshalText方法实现encoding.TextMarshaler接口。编码与String返回的编码相同，唯一的区别是当len(ip)为零时，它会返回一个空切片。</p>
<h4 id="ip-maskhttpscsopensourcegooglegogogo1201srcnetipgol270">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=270" target="_blank" rel="noopener">Mask</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">Mask</span>(<span style="color:#e06c75">mask</span> <span style="color:#e06c75">IPMask</span>) <span style="color:#e06c75">IP</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Mask方法返回使用掩码mask对IP地址ip进行掩码后的结果。</p>
<h5 id="mask-example">Mask Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4Addr</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;192.0.2.1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// This mask corresponds to a /24 subnet for IPv4.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ipv4Mask</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">CIDRMask</span>(<span style="color:#d19a66">24</span>, <span style="color:#d19a66">32</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4Addr</span>.<span style="color:#61afef;font-weight:bold">Mask</span>(<span style="color:#e06c75">ipv4Mask</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6Addr</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ParseIP</span>(<span style="color:#98c379">&#34;2001:db8:a0b:12f0::1&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// This mask corresponds to a /32 subnet for IPv6.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ipv6Mask</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">CIDRMask</span>(<span style="color:#d19a66">32</span>, <span style="color:#d19a66">128</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6Addr</span>.<span style="color:#61afef;font-weight:bold">Mask</span>(<span style="color:#e06c75">ipv6Mask</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">192.0.2.0</span>
</span></span><span style="display:flex;"><span><span style="color:#d19a66">2001</span>:<span style="color:#e06c75">db8</span>::
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-stringhttpscsopensourcegooglegogogo1201srcnetipgol313">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=313" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>String方法返回IP地址ip的字符串形式。它返回以下4种形式之一：</p>
<ul>
<li>&ldquo;<code>&lt;nil&gt;</code>&quot;，如果ip长度为0</li>
<li>点分十进制(&ldquo;192.0.2.1&rdquo;)，如果ip是IPv4或IP4映射IPv6地址</li>
<li>符合<a href="https://rfc-editor.org/rfc/rfc5952.html" target="_blank" rel="noopener">RFC 5952</a>的IPv6地址(&ldquo;2001:db8::1&rdquo;)，如果ip是有效的IPv6地址</li>
<li>如果没有其他情况，则是ip的十六进制形式，不包含标点符号</li>
</ul>
<h5 id="string-example">String Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0xfc</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#d19a66">10</span>, <span style="color:#d19a66">255</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6</span>.<span style="color:#61afef;font-weight:bold">String</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4</span>.<span style="color:#61afef;font-weight:bold">String</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">fc00</span>::
</span></span><span style="display:flex;"><span><span style="color:#d19a66">10.255.0.0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-to16httpscsopensourcegooglegogogo1201srcnetipgol226">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=226" target="_blank" rel="noopener">To16</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">To16</span>() <span style="color:#e06c75">IP</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	To16 方法将IP地址ip转换为16字节表示。如果ip不是IP地址(长度不正确)，To16 返回nil。</p>
<h5 id="to16-example">To16 Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv6</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">IP</span>{<span style="color:#d19a66">0xfc</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ipv4</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">IPv4</span>(<span style="color:#d19a66">10</span>, <span style="color:#d19a66">255</span>, <span style="color:#d19a66">0</span>, <span style="color:#d19a66">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv6</span>.<span style="color:#61afef;font-weight:bold">To16</span>())
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">ipv4</span>.<span style="color:#61afef;font-weight:bold">To16</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">fc00</span>::
</span></span><span style="display:flex;"><span><span style="color:#d19a66">10.255.0.0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ip-to4httpscsopensourcegooglegogogo1201srcnetipgol211">(IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=211" target="_blank" rel="noopener">To4</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">To4</span>() <span style="color:#e06c75">IP</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	To4方法将IPv4地址ip转换为4字节表示。如果ip不是IPv4地址，则To4返回nil。</p>
<h4 id="ip-unmarshaltexthttpscsopensourcegooglegogogo1201srcnetipgol415----go12">(*IP) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=415" target="_blank" rel="noopener">UnmarshalText</a>  &lt;- go1.2</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IP</span>) <span style="color:#61afef;font-weight:bold">UnmarshalText</span>(<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UnmarshalText方法实现encoding.TextUnmarshaler接口。IP地址应该以ParseIP接受的形式出现。</p>
<h3 id="type-ipaddrhttpscsopensourcegooglegogogo1201srcnetiprawsockgol31">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=31" target="_blank" rel="noopener">IPAddr</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">IPAddr</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IP</span>   <span style="color:#e06c75">IP</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Zone</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// IPv6有作用域的寻址区域
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IPAddr结构体表示IP端点的地址。</p>
<h4 id="func-resolveipaddrhttpscsopensourcegooglegogogo1201srcnetiprawsockgol77">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=77" target="_blank" rel="noopener">ResolveIPAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ResolveIPAddr</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ResolveIPAddr函数返回IP端点的地址。</p>
<p>​	网络必须是一个IP网络名称。</p>
<p>​	如果address参数中的主机不是字面上的IP地址，则ResolveIPAddr将地址解析为IP端点地址。否则，它将解析地址为一个字面上的IP地址。地址参数可以使用主机名，但不建议这样做，因为它最多只返回主机名的一个IP地址。</p>
<p>​	有关网络和地址参数的描述，请参见func Dial。</p>
<h4 id="ipaddr-networkhttpscsopensourcegooglegogogo1201srcnetiprawsockgol37">(*IPAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=37" target="_blank" rel="noopener">Network</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>) <span style="color:#61afef;font-weight:bold">Network</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Network方法返回地址的网络名称，即&quot;ip&rdquo;。</p>
<h4 id="ipaddr-stringhttpscsopensourcegooglegogogo1201srcnetiprawsockgol39">(*IPAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=39" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-ipconnhttpscsopensourcegooglegogogo1201srcnetiprawsockgol99">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=99" target="_blank" rel="noopener">IPConn</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">IPConn</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含过滤或未导出字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IPConn结构体是IP网络连接的Conn和PacketConn接口的实现。</p>
<h4 id="func-dialiphttpscsopensourcegooglegogogo1201srcnetiprawsockgol211">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=211" target="_blank" rel="noopener">DialIP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DialIP</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span>, <span style="color:#e06c75">raddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DialIP函数类似于IP网络的Dial函数。</p>
<p>​	网络必须是一个IP网络名称；有关详细信息，请参见func Dial。</p>
<p>​	如果laddr为nil，则会自动选择本地地址。如果raddr的IP字段为nil或未指定的IP地址，则假定为本地系统。</p>
<h4 id="func-listeniphttpscsopensourcegooglegogogo1201srcnetiprawsockgol230">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=230" target="_blank" rel="noopener">ListenIP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenIP</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenIP函数类似于IP网络的ListenPacket函数。</p>
<p>​	网络必须是一个IP网络名称；有关详细信息，请参见func Dial。</p>
<p>​	如果laddr的IP字段为nil或未指定的IP地址，则ListenIP会侦听本地系统的所有可用IP地址，但不包括多播IP地址。</p>
<h4 id="ipconn-closehttpscsopensourcegooglegogogo1201srcnetnetgol203">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=203" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Close方法关闭连接。</p>
<h4 id="ipconn-filehttpscsopensourcegooglegogogo1201srcnetnetgol298">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=298" target="_blank" rel="noopener">File</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">File</span>() (<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	File方法返回基础os.File的副本。调用者有责任在完成后关闭f。关闭c不会影响f，关闭f也不会影响c。</p>
<p>​	返回的os.File的文件描述符与连接的不同。尝试使用此副本更改原始文件的属性可能会或可能不会产生预期的效果。</p>
<h4 id="ipconn-localaddrhttpscsopensourcegooglegogogo1201srcnetnetgol217">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=217" target="_blank" rel="noopener">LocalAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">LocalAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LocalAddr方法返回本地网络地址。返回的Addr由LocalAddr的所有调用共享，因此不要修改它。</p>
<h4 id="ipconn-readhttpscsopensourcegooglegogogo1201srcnetnetgol179">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=179" target="_blank" rel="noopener">Read</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">Read</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Read方法实现Conn Read方法。</p>
<h4 id="ipconn-readfromhttpscsopensourcegooglegogogo1201srcnetiprawsockgol125">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=125" target="_blank" rel="noopener">ReadFrom</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">ReadFrom</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e06c75">Addr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadFrom方法实现PacketConn ReadFrom 方法。</p>
<h4 id="ipconn-readfromiphttpscsopensourcegooglegogogo1201srcnetiprawsockgol113">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=113" target="_blank" rel="noopener">ReadFromIP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">ReadFromIP</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadFromIP方法类似于ReadFrom但返回IPAddr。</p>
<h4 id="ipconn-readmsgiphttpscsopensourcegooglegogogo1201srcnetiprawsockgol146----go11">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=146" target="_blank" rel="noopener">ReadMsgIP</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">ReadMsgIP</span>(<span style="color:#e06c75">b</span>, <span style="color:#e06c75">oob</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span>, <span style="color:#e06c75">oobn</span>, <span style="color:#e06c75">flags</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadMsgIP方法从c读取消息，将有效负载复制到b中，将相关的带外数据复制到oob中。它返回复制到b中的字节数，复制到oob中的字节数，消息设置的标志以及消息的源地址。</p>
<p>​	golang.org/x/net/ipv4 和 golang.org/x/net/ipv6 包可用于操作oob中的IP级套接字选项。</p>
<h4 id="ipconn-remoteaddrhttpscsopensourcegooglegogogo1201srcnetnetgol227">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=227" target="_blank" rel="noopener">RemoteAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">RemoteAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RemoteAddr方法返回远程网络地址。返回的Addr由RemoteAddr的所有调用共享，因此不要修改它。</p>
<h4 id="ipconn-setdeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol235">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=235" target="_blank" rel="noopener">SetDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">SetDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetDeadline方法实现Conn SetDeadline方法。</p>
<h4 id="ipconn-setreadbufferhttpscsopensourcegooglegogogo1201srcnetnetgol269">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=269" target="_blank" rel="noopener">SetReadBuffer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">SetReadBuffer</span>(<span style="color:#e06c75">bytes</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadBuffer方法设置与连接相关联的操作系统接收缓冲区的大小。</p>
<h4 id="ipconn-setreaddeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol246">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=246" target="_blank" rel="noopener">SetReadDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">SetReadDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadDeadline方法实现Conn SetReadDeadline方法。</p>
<h4 id="ipconn-setwritebufferhttpscsopensourcegooglegogogo1201srcnetnetgol281">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=281" target="_blank" rel="noopener">SetWriteBuffer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">SetWriteBuffer</span>(<span style="color:#e06c75">bytes</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteBuffer方法设置与连接相关联的操作系统传输缓冲区的大小。</p>
<h4 id="ipconn-setwritedeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol257">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=257" target="_blank" rel="noopener">SetWriteDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">SetWriteDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteDeadline方法实现Conn SetWriteDeadline方法。</p>
<h4 id="ipconn-syscallconnhttpscsopensourcegooglegogogo1201srcnetiprawsockgol105----go19">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=105" target="_blank" rel="noopener">SyscallConn</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">SyscallConn</span>() (<span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SyscallConn方法返回原始网络连接。这实现了syscall.Conn接口。</p>
<h4 id="ipconn-writehttpscsopensourcegooglegogogo1201srcnetnetgol191">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=191" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Write方法实现Conn Write方法。</p>
<h4 id="ipconn-writemsgiphttpscsopensourcegooglegogogo1201srcnetiprawsockgol191----go11">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=191" target="_blank" rel="noopener">WriteMsgIP</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">WriteMsgIP</span>(<span style="color:#e06c75">b</span>, <span style="color:#e06c75">oob</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>) (<span style="color:#e06c75">n</span>, <span style="color:#e06c75">oobn</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteMsgIP方法通过c向addr写入消息，将有效负载从b复制，将相关的带外数据从oob复制。它返回写入的有效负载和带外字节数。</p>
<p>​	golang.org/x/net/ipv4 和 golang.org/x/net/ipv6 包可用于操作oob中的IP级套接字选项。</p>
<h4 id="ipconn-writetohttpscsopensourcegooglegogogo1201srcnetiprawsockgol170">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=170" target="_blank" rel="noopener">WriteTo</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">WriteTo</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">Addr</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteTo方法实现PacketConn WriteTo方法。</p>
<h4 id="ipconn-writetoiphttpscsopensourcegooglegogogo1201srcnetiprawsockgol158">(*IPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/iprawsock.go;l=158" target="_blank" rel="noopener">WriteToIP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPConn</span>) <span style="color:#61afef;font-weight:bold">WriteToIP</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPAddr</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteToIP方法类似于WriteTo但接受IPAddr。</p>
<h3 id="type-ipmaskhttpscsopensourcegooglegogogo1201srcnetipgol41">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=41" target="_blank" rel="noopener">IPMask</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">IPMask</span> []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IPMask是一个比特掩码，可用于操作IP地址，用于IP寻址和路由。</p>
<p>​	有关详细信息，请参见类型IPNet和函数ParseCIDR。</p>
<h4 id="func-cidrmaskhttpscsopensourcegooglegogogo1201srcnetipgol77">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=77" target="_blank" rel="noopener">CIDRMask</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">CIDRMask</span>(<span style="color:#e06c75">ones</span>, <span style="color:#e06c75">bits</span> <span style="color:#e5c07b">int</span>) <span style="color:#e06c75">IPMask</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CIDRMask函数返回一个IPMask，它由&quot;ones&quot;个1位组成，后跟0位，总长度为&quot;bits&quot;位。对于这种形式的掩码，CIDRMask是IPMask.Size的反函数。</p>
<h5 id="cidrmask-example">CIDRMask Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// This mask corresponds to a /31 subnet for IPv4.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">CIDRMask</span>(<span style="color:#d19a66">31</span>, <span style="color:#d19a66">32</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// This mask corresponds to a /64 subnet for IPv6.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">CIDRMask</span>(<span style="color:#d19a66">64</span>, <span style="color:#d19a66">128</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">fffffffe</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">ffffffffffffffff0000000000000000</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-ipv4maskhttpscsopensourcegooglegogogo1201srcnetipgol65">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=65" target="_blank" rel="noopener">IPv4Mask</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">IPv4Mask</span>(<span style="color:#e06c75">a</span>, <span style="color:#e06c75">b</span>, <span style="color:#e06c75">c</span>, <span style="color:#e06c75">d</span> <span style="color:#e5c07b">byte</span>) <span style="color:#e06c75">IPMask</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IPv4Mask函数返回IPv4掩码a.b.c.d的IP掩码(以4字节形式)。</p>
<h5 id="ipv4mask-example">IPv4Mask Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">IPv4Mask</span>(<span style="color:#d19a66">255</span>, <span style="color:#d19a66">255</span>, <span style="color:#d19a66">255</span>, <span style="color:#d19a66">0</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">ffffff00</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ipmask-sizehttpscsopensourcegooglegogogo1201srcnetipgol481">(IPMask) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=481" target="_blank" rel="noopener">Size</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">m</span> <span style="color:#e06c75">IPMask</span>) <span style="color:#61afef;font-weight:bold">Size</span>() (<span style="color:#e06c75">ones</span>, <span style="color:#e06c75">bits</span> <span style="color:#e5c07b">int</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Size方法返回掩码中前导1位和总位数。如果掩码不在规范形式——1位后面是0位——那么Size将返回0, 0。</p>
<h4 id="ipmask-stringhttpscsopensourcegooglegogogo1201srcnetipgol490">(IPMask) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=490" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">m</span> <span style="color:#e06c75">IPMask</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	String方法以无标点符号的十六进制形式返回m。</p>
<h3 id="type-ipnethttpscsopensourcegooglegogogo1201srcnetipgol44">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=44" target="_blank" rel="noopener">IPNet</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">IPNet</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IP</span>   <span style="color:#e06c75">IP</span>     <span style="color:#7f848e">// 网络号
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Mask</span> <span style="color:#e06c75">IPMask</span> <span style="color:#7f848e">// 网络掩码
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	IPNet表示IP网络。</p>
<h4 id="ipnet-containshttpscsopensourcegooglegogogo1201srcnetipgol521">(*IPNet) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=521" target="_blank" rel="noopener">Contains</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">n</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPNet</span>) <span style="color:#61afef;font-weight:bold">Contains</span>(<span style="color:#e06c75">ip</span> <span style="color:#e06c75">IP</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Contains方法报告网络是否包含ip。</p>
<h4 id="ipnet-networkhttpscsopensourcegooglegogogo1201srcnetipgol539">(*IPNet) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=539" target="_blank" rel="noopener">Network</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">n</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPNet</span>) <span style="color:#61afef;font-weight:bold">Network</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Network方法返回地址的网络名称，&ldquo;ip+net&rdquo;。</p>
<h4 id="ipnet-stringhttpscsopensourcegooglegogogo1201srcnetipgol547">(*IPNet) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/ip.go;l=547" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">n</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">IPNet</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	String方法返回n的CIDR表示形式，例如&quot;192.0.2.0/24&quot;或&quot;2001:db8::/48&quot;，如<a href="https://rfc-editor.org/rfc/rfc4632.html" target="_blank" rel="noopener">RFC 4632</a>和<a href="https://rfc-editor.org/rfc/rfc4291.html" target="_blank" rel="noopener">RFC 4291</a>所定义。如果掩码不在规范形式中，则返回的字符串由IP地址和斜杠字符和表示为十六进制形式且无标点符号的掩码组成，例如&quot;198.51.100.0/c000ff00&quot;。</p>
<h3 id="type-interfacehttpscsopensourcegooglegogogo1201srcnetinterfacegol31">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=31" target="_blank" rel="noopener">Interface</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Interface</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Index</span>        <span style="color:#e5c07b">int</span>          <span style="color:#7f848e">// 正整数，从1开始，0永远不使用
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">MTU</span>          <span style="color:#e5c07b">int</span>          <span style="color:#7f848e">// 最大传输单元
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Name</span>         <span style="color:#e5c07b">string</span>       <span style="color:#7f848e">// 例如&#34;en0&#34;，&#34;lo0&#34;，&#34;eth0.100&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">HardwareAddr</span> <span style="color:#e06c75">HardwareAddr</span> <span style="color:#7f848e">// IEEE MAC-48、EUI-48和EUI-64形式
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Flags</span>        <span style="color:#e06c75">Flags</span>        <span style="color:#7f848e">// 例如FlagUp、FlagLoopback、FlagMulticast
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Interface结构体表示网络接口名称和索引之间的映射。它还表示网络接口设施信息。</p>
<h4 id="func-interfacebyindexhttpscsopensourcegooglegogogo1201srcnetinterfacegol131">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=131" target="_blank" rel="noopener">InterfaceByIndex</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">InterfaceByIndex</span>(<span style="color:#e06c75">index</span> <span style="color:#e5c07b">int</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Interface</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	InterfaceByIndex函数返回指定索引的接口。</p>
<p>​	在Solaris上，它返回共享逻辑数据链路的逻辑网络接口之一；要获得更精确的结果，请使用InterfaceByName。</p>
<h4 id="func-interfacebynamehttpscsopensourcegooglegogogo1201srcnetinterfacegol156">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=156" target="_blank" rel="noopener">InterfaceByName</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">InterfaceByName</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Interface</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	InterfaceByName函数返回指定名称的接口。</p>
<h4 id="func-interfaceshttpscsopensourcegooglegogogo1201srcnetinterfacegol102">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=102" target="_blank" rel="noopener">Interfaces</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Interfaces</span>() ([]<span style="color:#e06c75">Interface</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Interfaces函数返回系统的网络接口列表。</p>
<h4 id="interface-addrshttpscsopensourcegooglegogogo1201srcnetinterfacegol77">(*Interface) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=77" target="_blank" rel="noopener">Addrs</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ifi</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Interface</span>) <span style="color:#61afef;font-weight:bold">Addrs</span>() ([]<span style="color:#e06c75">Addr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Addrs方法返回特定接口的单播接口地址列表。</p>
<h4 id="interface-multicastaddrshttpscsopensourcegooglegogogo1201srcnetinterfacegol90">(*Interface) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/interface.go;l=90" target="_blank" rel="noopener">MulticastAddrs</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ifi</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Interface</span>) <span style="color:#61afef;font-weight:bold">MulticastAddrs</span>() ([]<span style="color:#e06c75">Addr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MulticastAddrs方法返回特定接口的多播、组播地址列表。</p>
<h3 id="type-invalidaddrerrorhttpscsopensourcegooglegogogo1201srcnetnetgol579">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=579" target="_blank" rel="noopener">InvalidAddrError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">InvalidAddrError</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="invalidaddrerror-errorhttpscsopensourcegooglegogogo1201srcnetnetgol581">(InvalidAddrError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=581" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">InvalidAddrError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="invalidaddrerror-temporaryhttpscsopensourcegooglegogogo1201srcnetnetgol583">(InvalidAddrError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=583" target="_blank" rel="noopener">Temporary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">InvalidAddrError</span>) <span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="invalidaddrerror-timeouthttpscsopensourcegooglegogogo1201srcnetnetgol582">(InvalidAddrError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=582" target="_blank" rel="noopener">Timeout</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">InvalidAddrError</span>) <span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-listenconfighttpscsopensourcegooglegogogo1201srcnetdialgol600----go111">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=600" target="_blank" rel="noopener">ListenConfig</a>  &lt;- go1.11</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ListenConfig</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 如果 Control 不是 nil，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则在创建网络连接但在将其绑定到操作系统之前调用它。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 传递给 Control 方法的网络和地址参数未必是传递给 Listen 的参数。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 例如，将 &#34;tcp&#34; 传递给 Listen 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 将导致 Control 函数使用 &#34;tcp4&#34; 或 &#34;tcp6&#34; 调用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Control</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">c</span> <span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// KeepAlive 指定此侦听器接受的网络连接的保活期。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为零，则如果协议和操作系统支持保活，则启用保活。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 不支持保活的网络协议或操作系统将忽略此字段。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为负，则禁用保活。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">KeepAlive</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenConfig结构体包含用于监听地址的选项。</p>
<h4 id="listenconfig-listenhttpscsopensourcegooglegogogo1201srcnetdialgol622----go111">(*ListenConfig) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=622" target="_blank" rel="noopener">Listen</a>  &lt;- go1.11</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">lc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ListenConfig</span>) <span style="color:#61afef;font-weight:bold">Listen</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Listener</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Listen方法在本地网络地址上进行侦听。</p>
<p>​	有关网络和地址参数的描述，请参见 func Listen。</p>
<h4 id="listenconfig-listenpackethttpscsopensourcegooglegogogo1201srcnetdialgol652----go111">(*ListenConfig) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=652" target="_blank" rel="noopener">ListenPacket</a>  &lt;- go1.11</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">lc</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ListenConfig</span>) <span style="color:#61afef;font-weight:bold">ListenPacket</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">PacketConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenPacket方法在本地网络地址上进行侦听。</p>
<p>​	有关网络和地址参数的描述，请参见 func ListenPacket。</p>
<h3 id="type-listenerhttpscsopensourcegooglegogogo1201srcnetnetgol384">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=384" target="_blank" rel="noopener">Listener</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Listener</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Accept 等待并返回到监听器的下一个连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Accept</span>() (<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Close 关闭监听器。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 任何已阻止的 Accept 操作将解除阻塞并返回错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Addr 返回监听器的网络地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Addr</span>() <span style="color:#e06c75">Addr</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Listener接口是面向流协议的通用网络监听器。</p>
<p>​	多个 goroutine 可同时调用 Listener 上的方法。</p>
<h5 id="listener-example">Listener Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;io&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Listen on TCP port 2000 on all available unicast and
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// anycast IP addresses of the local system.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">l</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">Listen</span>(<span style="color:#98c379">&#34;tcp&#34;</span>, <span style="color:#98c379">&#34;:2000&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">defer</span> <span style="color:#e06c75">l</span>.<span style="color:#61afef;font-weight:bold">Close</span>()
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">for</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#7f848e">// Wait for a connection.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#e06c75">conn</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">l</span>.<span style="color:#61afef;font-weight:bold">Accept</span>()
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#7f848e">// Handle the connection in a new goroutine.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#7f848e">// The loop then returns to accepting, so that
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#7f848e">// multiple connections may be served concurrently.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>		<span style="color:#c678dd">go</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">c</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#7f848e">// Echo all incoming data.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>			<span style="color:#e06c75">io</span>.<span style="color:#61afef;font-weight:bold">Copy</span>(<span style="color:#e06c75">c</span>, <span style="color:#e06c75">c</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#7f848e">// Shut down the connection.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>			<span style="color:#e06c75">c</span>.<span style="color:#61afef;font-weight:bold">Close</span>()
</span></span><span style="display:flex;"><span>		}(<span style="color:#e06c75">conn</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="func-filelistenerhttpscsopensourcegooglegogogo1201srcnetfilegol33">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/file.go;l=33" target="_blank" rel="noopener">FileListener</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">FileListener</span>(<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>) (<span style="color:#e06c75">ln</span> <span style="color:#e06c75">Listener</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	FileListener函数返回与已打开文件 f 相应的网络监听器的副本。调用者有责任在完成时关闭 ln。关闭 ln 不会影响 f，关闭 f 不会影响 ln。</p>
<h4 id="func-listenhttpscsopensourcegooglegogogo1201srcnetdialgol707">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=707" target="_blank" rel="noopener">Listen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Listen</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Listener</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Listen函数在本地网络地址上进行监听。</p>
<p>​	网络必须是 &ldquo;tcp&rdquo;、&ldquo;tcp4&rdquo;、&ldquo;tcp6&rdquo;、&ldquo;unix&rdquo; 或 &ldquo;unixpacket&rdquo;。</p>
<p>​	对于 TCP 网络，如果地址参数中的主机为空或为字面未指定 IP 地址，则 Listen 会侦听本地系统的所有可用单播和任播 IP 地址。要仅使用 IPv4，请使用网络 &ldquo;tcp4&rdquo;。地址可以使用主机名，但不建议这样做，因为它将仅为主机的一个 IP 地址创建侦听器。如果地址参数中的端口为空或为 &ldquo;0&rdquo;，例如 &ldquo;127.0.0.1:&rdquo; 或 &ldquo;[::1]:0&rdquo;，则会自动选择一个端口号。可以使用 Listener 的 Addr 方法来查找所选端口。</p>
<p>​	有关网络和地址参数的描述，请参见 func Dial。</p>
<p>​	Listen 在内部使用 context.Background；要指定上下文，请使用 ListenConfig.Listen。</p>
<h3 id="type-mxhttpscsopensourcegooglegogogo1201srcnetdnsclientgol204">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dnsclient.go;l=204" target="_blank" rel="noopener">MX</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">MX</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Host</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Pref</span> <span style="color:#e5c07b">uint16</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	MX结构体表示单个 DNS MX 记录。</p>
<h4 id="func-lookupmxhttpscsopensourcegooglegogogo1201srcnetlookupgol549">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=549" target="_blank" rel="noopener">LookupMX</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupMX</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#56b6c2">*</span><span style="color:#e06c75">MX</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupMX函数按优先级排序返回给定域名的 DNS MX 记录。</p>
<p>​	返回的邮件服务器名称已验证为格式正确的演示格式域名。如果响应包含无效名称，则这些记录将被过滤掉，并将在剩余结果(如果有)旁边返回错误。</p>
<p>​	LookupMX 在内部使用 context.Background；要指定上下文，请使用 Resolver.LookupMX。</p>
<h3 id="type-nshttpscsopensourcegooglegogogo1201srcnetdnsclientgol226----go11">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dnsclient.go;l=226" target="_blank" rel="noopener">NS</a>  &lt;- go1.1</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">NS</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Host</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	NS结构体表示单个 DNS NS 记录。</p>
<h4 id="func-lookupnshttpscsopensourcegooglegogogo1201srcnetlookupgol589----go11">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=589" target="_blank" rel="noopener">LookupNS</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupNS</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#56b6c2">*</span><span style="color:#e06c75">NS</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupNS 函数返回给定域名的 DNS NS 记录。</p>
<p>​	返回的名称服务器名称已验证为格式正确的演示格式域名。如果响应包含无效名称，则这些记录将被过滤掉，并将在剩余结果(如果有)旁边返回错误。</p>
<p>​	LookupNS 在内部使用 context.Background；要指定上下文，请使用 Resolver.LookupNS。</p>
<h3 id="type-operrorhttpscsopensourcegooglegogogo1201srcnetnetgol444">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=444" target="_blank" rel="noopener">OpError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">OpError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Op(操作)是引起错误的操作，例如&#34;read&#34;或&#34;write&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Op</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Net(网络)是发生此错误的网络类型，例如&#34;tcp&#34;或&#34;udp6&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Net</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 对于涉及远程网络连接的操作，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如Dial、Read或Write，Source是相应的本地网络地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Source</span> <span style="color:#e06c75">Addr</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Addr(地址)是发生此错误的网络地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于本地操作，如Listen或SetDeadline，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Addr是正在操作的本地端点的地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 对于涉及远程网络连接的操作，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 如Dial、Read或Write，Addr是该连接的远程地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Addr</span> <span style="color:#e06c75">Addr</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Err(错误)是操作期间发生的错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果错误为nil，则Error方法会引发panic。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Err</span> <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	OpError结构体是通常由net包中的函数返回的错误类型。它描述了错误的操作、网络类型和地址。</p>
<h4 id="operror-errorhttpscsopensourcegooglegogogo1201srcnetnetgol473">(*OpError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=473" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">OpError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="operror-temporaryhttpscsopensourcegooglegogogo1201srcnetnetgol524">(*OpError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=524" target="_blank" rel="noopener">Temporary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">OpError</span>) <span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="operror-timeouthttpscsopensourcegooglegogogo1201srcnetnetgol511">(*OpError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=511" target="_blank" rel="noopener">Timeout</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">OpError</span>) <span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="operror-unwraphttpscsopensourcegooglegogogo1201srcnetnetgol471----go113">(*OpError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=471" target="_blank" rel="noopener">Unwrap</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">OpError</span>) <span style="color:#61afef;font-weight:bold">Unwrap</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-packetconnhttpscsopensourcegooglegogogo1201srcnetnetgol309">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=309" target="_blank" rel="noopener">PacketConn</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">51
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">PacketConn</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// ReadFrom 从连接中读取一个数据包，将有效载荷复制到 p 中。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它返回复制到 p 中的字节数以及在数据包上的返回地址。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它返回读取的字节数(0 &lt;= n &lt;= len(p))和任何遇到的错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 调用者应该始终在考虑错误 err 之前处理返回的 n &gt; 0 字节。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// ReadFrom 可以在固定的时间限制后超时并返回一个错误；
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 参见 SetDeadline 和 SetReadDeadline。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">ReadFrom</span>(<span style="color:#e06c75">p</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">Addr</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// WriteTo 将有效载荷为 p 的数据包写入 addr。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// WriteTo 可以在固定的时间限制后超时并返回一个错误；
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 参见 SetDeadline 和 SetWriteDeadline。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 在面向数据包的连接中，写入超时很少发生。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">WriteTo</span>(<span style="color:#e06c75">p</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">Addr</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Close 关闭连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 任何被阻塞的 ReadFrom 或 WriteTo 操作都将被取消阻塞并返回错误。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// LocalAddr 返回本地网络地址(如果已知)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">LocalAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// SetDeadline 设置与连接关联的读取和写入截止时间。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它相当于调用 SetReadDeadline 和 SetWriteDeadline。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 截止时间是绝对时间，超过这个时间，I/O 操作将失败而不是阻塞。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 截止时间适用于所有未来和挂起的 I/O，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 而不仅仅是即将到来的 Read 或 Write 调用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 在超过截止时间后，可以通过将未来的截止时间设置为刷新连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果超过截止时间，调用 Read 或 Write 或其他 I/O 方法
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 将返回一个错误，该错误包装了 os.ErrDeadlineExceeded。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 可以使用 errors.Is(err, os.ErrDeadlineExceeded) 进行测试。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 错误的 Timeout 方法将返回 true，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 但请注意，即使未超过截止时间，也可能有其他可能的错误，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Timeout 方法将返回 true。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 空值 t 表示 I/O 操作不会超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">SetDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// SetReadDeadline 设置未来的 ReadFrom 调用的截止时间和
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 任何当前被阻塞的 ReadFrom 调用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// t 的零值表示 ReadFrom 不会超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">SetReadDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// SetWriteDeadline 设置未来的 WriteTo 调用的截止时间和
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 任何当前被阻塞的 WriteTo 调用。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 即使写入超时，它也可能返回 n &gt; 0，表示某些数据已成功写入。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// t 的零值表示 WriteTo 不会超时。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">SetWriteDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	PacketConn接口是一个通用的面向数据包的网络连接。</p>
<p>​	多个 goroutine 可以同时调用 PacketConn 上的方法。</p>
<h4 id="func-filepacketconnhttpscsopensourcegooglegogogo1201srcnetfilegol45">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/file.go;l=45" target="_blank" rel="noopener">FilePacketConn</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">FilePacketConn</span>(<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>) (<span style="color:#e06c75">c</span> <span style="color:#e06c75">PacketConn</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	FilePacketConn函数返回与打开的文件 f 对应的数据包网络连接的副本。当使用完毕时，调用方负责关闭 f。关闭 c 不影响 f，关闭 f 也不影响 c。</p>
<h4 id="func-listenpackethttpscsopensourcegooglegogogo1201srcnetdialgol737">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dial.go;l=737" target="_blank" rel="noopener">ListenPacket</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenPacket</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">PacketConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenPacket函数在本地网络地址上进行公告。</p>
<p>​	网络必须是 &ldquo;udp&rdquo;、&ldquo;udp4&rdquo;、&ldquo;udp6&rdquo;、&ldquo;unixgram&rdquo; 或 IP 传输。IP 传输为 &ldquo;ip&rdquo;、&ldquo;ip4&rdquo; 或 &ldquo;ip6&rdquo;，后跟冒号和字面协议号或协议名称，例如 &ldquo;ip:1&rdquo; 或 &ldquo;ip:icmp&rdquo;。</p>
<p>​	对于 UDP 和 IP 网络，如果 address 参数中的主机为空或为字面未指定的 IP 地址，则 ListenPacket 会在本地系统的所有可用 IP 地址上监听，但不包括多播 IP 地址。要仅使用 IPv4，请使用网络 &ldquo;udp4&rdquo; 或 &ldquo;ip4:proto&rdquo;。地址可以使用主机名，但不建议这样做，因为这将仅为主机的一个 IP 地址创建侦听器。如果地址参数中的端口为空或为 &ldquo;0&rdquo;，例如 &ldquo;127.0.0.1:&rdquo; 或 &ldquo;[::1]:0&rdquo;，则会自动选择一个端口号。可以使用 PacketConn 的 LocalAddr 方法来发现所选端口。</p>
<p>​	有关网络和地址参数的描述，请参见 func Dial。</p>
<p>​	ListenPacket 在内部使用 context.Background；要指定上下文，请使用 ListenConfig.ListenPacket。</p>
<h3 id="type-parseerrorhttpscsopensourcegooglegogogo1201srcnetnetgol540">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=540" target="_blank" rel="noopener">ParseError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ParseError</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Type 是预期的字符串类型，例如
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// &#34;IP 地址&#34;、&#34;CIDR 地址&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Type</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Text 是格式不正确的文本字符串。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Text</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ParseError结构体是文字网络地址解析器的错误类型。</p>
<h4 id="parseerror-errorhttpscsopensourcegooglegogogo1201srcnetnetgol549">(*ParseError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=549" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ParseError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="parseerror-temporaryhttpscsopensourcegooglegogogo1201srcnetnetgol552----go117">(*ParseError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=552" target="_blank" rel="noopener">Temporary</a>  &lt;- go1.17</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ParseError</span>) <span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="parseerror-timeouthttpscsopensourcegooglegogogo1201srcnetnetgol551----go117">(*ParseError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=551" target="_blank" rel="noopener">Timeout</a>  &lt;- go1.17</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ParseError</span>) <span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-resolverhttpscsopensourcegooglegogogo1201srcnetlookupgol123----go18">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=123" target="_blank" rel="noopener">Resolver</a>  &lt;- go1.8</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Resolver</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// PreferGo 控制在可用平台上是否优先使用 Go 的内置 DNS 解析器。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 它等效于设置 GODEBUG=netdns=go，但仅限于此解析器。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">PreferGo</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// StrictErrors 控制使用 Go 的内置解析器时临时错误的行为
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">//(包括超时、套接字错误和 SERVFAIL)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 对于由多个子查询(例如 A+AAAA 地址查找或遍历 DNS 搜索列表)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 组成的查询，此选项会导致这些错误中止整个查询，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 而不是返回部分结果。默认情况下未启用此选项，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 因为它可能会影响与处理 AAAA 查询不正确的解析器的兼容性。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">StrictErrors</span> <span style="color:#e5c07b">bool</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Dial 可选地指定供 Go 的内置 DNS 解析器使用的替代拨号器，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 以建立到 DNS 服务的 TCP 和 UDP 连接。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// address 参数中的主机将始终是字面 IP 地址而不是主机名，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// address 参数中的端口将是字面端口号而不是服务名称。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果返回的 Conn 也是一个 PacketConn，
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 则发送和接收的 DNS 消息必须遵守 RFC 1035 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 第 4.2.1 节 &#34;UDP usage&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 否则，通过 Conn 传输的 DNS 消息必须遵守 RFC 7766 
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// 第 5 节 &#34;Transport Protocol Selection&#34;。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// 如果为 nil，则使用默认拨号程序。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Dial</span> <span style="color:#c678dd">func</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含过滤或未公开的字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Resolver 查找名称和数字。</p>
<p>​	nil 的 *Resolver 等效于零 Resolver。</p>
<h4 id="resolver-lookupaddrhttpscsopensourcegooglegogogo1201srcnetlookupgol655----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=655" target="_blank" rel="noopener">LookupAddr</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupAddr</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupAddr方法执行给定地址的反向查找，返回映射到该地址的名称列表。</p>
<p>​	返回的名称经过验证，以确保格式正确的呈现格式域名。如果响应包含无效名称，则这些记录将被过滤掉，并在剩余结果(如果有)的同时返回错误。</p>
<h4 id="resolver-lookupcnamehttpscsopensourcegooglegogogo1201srcnetlookupgol473----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=473" target="_blank" rel="noopener">LookupCNAME</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupCNAME</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupCNAME方法返回给定主机的规范名称。不关心规范名称的调用方可以直接调用 LookupHost 或 LookupIP；它们都会在查找过程中解析规范名称。</p>
<p>​	规范名称是在遵循零个或多个 CNAME 记录后的最终名称。如果主机不包含 DNS &ldquo;CNAME&rdquo; 记录，LookupCNAME 不会返回错误，只要主机解析为地址记录即可。</p>
<p>​	返回的规范名称经过验证，以确保格式正确的呈现格式域名。</p>
<h4 id="resolver-lookuphosthttpscsopensourcegooglegogogo1201srcnetlookupgol182----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=182" target="_blank" rel="noopener">LookupHost</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupHost</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">addrs</span> []<span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupHost方法使用本地解析器查找给定的主机。它返回该主机的地址片段。</p>
<h4 id="resolver-lookupiphttpscsopensourcegooglegogogo1201srcnetlookupgol218----go115">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=218" target="_blank" rel="noopener">LookupIP</a>  &lt;- go1.15</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupIP</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e06c75">IP</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupIP方法使用本地解析器查找给定网络的主机。它返回该主机指定类型的 IP 地址的片段。network 必须是 &ldquo;ip&rdquo;、&ldquo;ip4&rdquo; 或 &ldquo;ip6&rdquo; 之一。</p>
<h4 id="resolver-lookupipaddrhttpscsopensourcegooglegogogo1201srcnetlookupgol210----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=210" target="_blank" rel="noopener">LookupIPAddr</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupIPAddr</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e06c75">IPAddr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupIPAddr方法使用本地解析器查找主机。它返回该主机的 IPv4 和 IPv6 地址的片段。</p>
<h4 id="resolver-lookupmxhttpscsopensourcegooglegogogo1201srcnetlookupgol559----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=559" target="_blank" rel="noopener">LookupMX</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupMX</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#56b6c2">*</span><span style="color:#e06c75">MX</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupMX方法返回给定域名的 DNS MX 记录，并按优先级排序。</p>
<p>​	返回的邮件服务器名称经过验证，以确保格式正确的呈现格式域名。如果响应包含无效名称，则这些记录将被过滤掉，并在剩余结果(如果有)的同时返回错误。</p>
<h4 id="resolver-lookupnshttpscsopensourcegooglegogogo1201srcnetlookupgol599----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=599" target="_blank" rel="noopener">LookupNS</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupNS</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#56b6c2">*</span><span style="color:#e06c75">NS</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupNS方法返回给定域名的 DNS NS 记录。</p>
<p>​	返回的名称服务器名称已验证为格式正确的演示格式域名。如果响应包含无效名称，则这些记录将被过滤，并将返回一个错误以及剩余结果(如果有)。</p>
<h4 id="resolver-lookupnetiphttpscsopensourcegooglegogogo1201srcnetlookupgol248----go118">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=248" target="_blank" rel="noopener">LookupNetIP</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupNetIP</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e06c75">netip</span>.<span style="color:#e06c75">Addr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupNetIP方法使用本地解析器查找主机。它返回指定网络类型的主机 IP 地址切片。网络类型必须是&quot;ip&quot;、&ldquo;ip4&quot;或&quot;ip6&rdquo;。</p>
<h4 id="resolver-lookupporthttpscsopensourcegooglegogogo1201srcnetlookupgol419----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=419" target="_blank" rel="noopener">LookupPort</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupPort</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">network</span>, <span style="color:#e06c75">service</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">port</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupPort方法查找给定网络和服务的端口。</p>
<h4 id="resolver-lookupsrvhttpscsopensourcegooglegogogo1201srcnetlookupgol516----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=516" target="_blank" rel="noopener">LookupSRV</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupSRV</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">service</span>, <span style="color:#e06c75">proto</span>, <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e5c07b">string</span>, []<span style="color:#56b6c2">*</span><span style="color:#e06c75">SRV</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupSRV方法尝试解析给定服务、协议和域名的 SRV 查询。proto 为&quot;tcp&quot;或&quot;udp&quot;。返回的记录按优先级排序，并在优先级内按权重随机排序。</p>
<p>​	LookupSRV 根据 <a href="https://rfc-editor.org/rfc/rfc2782.html" target="_blank" rel="noopener">RFC 2782</a>构造要查找的 DNS 名称。也就是说，它查找 _service._proto.name。为了适应在非标准名称下发布 SRV 记录的服务，如果服务和 proto 都为空字符串，则 LookupSRV 直接查找 name。</p>
<p>​	返回的服务名称已验证为格式正确的演示格式域名。如果响应包含无效名称，则这些记录将被过滤，并将返回一个错误以及剩余结果(如果有)。</p>
<h4 id="resolver-lookuptxthttpscsopensourcegooglegogogo1201srcnetlookupgol629----go18">(*Resolver) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=629" target="_blank" rel="noopener">LookupTXT</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Resolver</span>) <span style="color:#61afef;font-weight:bold">LookupTXT</span>(<span style="color:#e06c75">ctx</span> <span style="color:#e06c75">context</span>.<span style="color:#e06c75">Context</span>, <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) ([]<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupTXT方法返回给定域名的 DNS TXT 记录。</p>
<h3 id="type-srvhttpscsopensourcegooglegogogo1201srcnetdnsclientgol150">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/dnsclient.go;l=150" target="_blank" rel="noopener">SRV</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">SRV</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Target</span>   <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Port</span>     <span style="color:#e5c07b">uint16</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Priority</span> <span style="color:#e5c07b">uint16</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Weight</span>   <span style="color:#e5c07b">uint16</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SRV 表示单个 DNS SRV 记录。</p>
<h4 id="func-lookupsrvhttpscsopensourcegooglegogogo1201srcnetlookupgol498">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/lookup.go;l=498" target="_blank" rel="noopener">LookupSRV</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">LookupSRV</span>(<span style="color:#e06c75">service</span>, <span style="color:#e06c75">proto</span>, <span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">cname</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">addrs</span> []<span style="color:#56b6c2">*</span><span style="color:#e06c75">SRV</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LookupSRV函数尝试解析给定服务、协议和域名的 SRV 查询。proto 是 &ldquo;tcp&rdquo; 或 &ldquo;udp&rdquo;。返回的记录按优先级排序，并在优先级内按权重随机分布。</p>
<p>​	LookupSRV 构造了遵循 <a href="https://rfc-editor.org/rfc/rfc2782.html" target="_blank" rel="noopener">RFC 2782</a>的 DNS 名称进行查找。也就是说，它查找 <code>_service._proto.name</code>。为了适应发布非标准名称的 SRV 记录的服务，如果 service 和 proto 都是空字符串，则 LookupSRV 直接查找 name。</p>
<p>​	返回的服务名已验证为格式正确的表示格式的域名。如果响应包含无效名称，则这些记录将被过滤掉，并且将返回错误以及剩余结果(如果有)。</p>
<h3 id="type-tcpaddrhttpscsopensourcegooglegogogo1201srcnettcpsockgol21">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=21" target="_blank" rel="noopener">TCPAddr</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">TCPAddr</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IP</span>   <span style="color:#e06c75">IP</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Port</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Zone</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// IPv6 范围限定符
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	TCPAddr结构体表示 TCP 端点的地址。</p>
<h4 id="func-resolvetcpaddrhttpscsopensourcegooglegogogo1201srcnettcpsockgol84">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=84" target="_blank" rel="noopener">ResolveTCPAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ResolveTCPAddr</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPAddr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ResolveTCPAddr函数返回 TCP 端点的地址。</p>
<p>​	network 必须是 TCP 网络名称。</p>
<p>​	如果 address 参数中的主机不是字面 IP 地址，或者端口不是字面端口号，则 ResolveTCPAddr 将地址解析为 TCP 端点的地址。否则，它将地址解析为字面 IP 地址和端口号对。address 参数可以使用主机名，但不建议这样做，因为它最多只会返回主机名的一个 IP 地址。</p>
<p>​	有关 network 和 address 参数的说明，请参见 func Dial。</p>
<h4 id="func-tcpaddrfromaddrporthttpscsopensourcegooglegogogo1201srcnettcpsockgol102----go118">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=102" target="_blank" rel="noopener">TCPAddrFromAddrPort</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">TCPAddrFromAddrPort</span>(<span style="color:#e06c75">addr</span> <span style="color:#e06c75">netip</span>.<span style="color:#e06c75">AddrPort</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPAddr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	TCPAddrFromAddrPort函数将 addr 转换为 TCPAddr。如果 addr.IsValid() 为 false，则返回的 TCPAddr 将包含一个空的 IP 字段，表示不指定地址族的未指定地址。</p>
<h4 id="tcpaddr-addrporthttpscsopensourcegooglegogogo1201srcnettcpsockgol32----go118">(*TCPAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=32" target="_blank" rel="noopener">AddrPort</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPAddr</span>) <span style="color:#61afef;font-weight:bold">AddrPort</span>() <span style="color:#e06c75">netip</span>.<span style="color:#e06c75">AddrPort</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	AddrPort方法将 TCPAddr a 转换为 netip.AddrPort。</p>
<p>​	如果 a.Port 无法适应 uint16，则会静默截断。</p>
<p>​	如果 a 为 nil，则返回零值。</p>
<h4 id="tcpaddr-networkhttpscsopensourcegooglegogogo1201srcnettcpsockgol42">(*TCPAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=42" target="_blank" rel="noopener">Network</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPAddr</span>) <span style="color:#61afef;font-weight:bold">Network</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Network方法返回地址的网络名称，即&quot;tcp&quot;。</p>
<h4 id="tcpaddr-stringhttpscsopensourcegooglegogogo1201srcnettcpsockgol44">(*TCPAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=44" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPAddr</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-tcpconnhttpscsopensourcegooglegogogo1201srcnettcpsockgol112">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=112" target="_blank" rel="noopener">TCPConn</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">TCPConn</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含过滤或未公开的字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	TCPConn结构体是TCP网络连接的Conn接口实现。</p>
<h4 id="func-dialtcphttpscsopensourcegooglegogogo1201srcnettcpsockgol242">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=242" target="_blank" rel="noopener">DialTCP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DialTCP</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span>, <span style="color:#e06c75">raddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DialTCP函数用于TCP网络连接。</p>
<p>​	network参数必须是TCP网络的名称，有关详细信息，请参见func Dial。</p>
<p>​	如果laddr是nil，则会自动选择本地地址。如果raddr的IP字段为nil或未指定IP地址，则会假定为本地系统。</p>
<h4 id="tcpconn-closehttpscsopensourcegooglegogogo1201srcnetnetgol203">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=203" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Close方法关闭连接。</p>
<h4 id="tcpconn-closereadhttpscsopensourcegooglegogogo1201srcnettcpsockgol139">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=139" target="_blank" rel="noopener">CloseRead</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">CloseRead</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CloseRead方法关闭TCP连接的读取侧。大多数调用方应该使用Close。</p>
<h4 id="tcpconn-closewritehttpscsopensourcegooglegogogo1201srcnettcpsockgol151">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=151" target="_blank" rel="noopener">CloseWrite</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">CloseWrite</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CloseWrite方法关闭TCP连接的写入侧。大多数调用方应该使用Close。</p>
<h4 id="tcpconn-filehttpscsopensourcegooglegogogo1201srcnetnetgol298">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=298" target="_blank" rel="noopener">File</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">File</span>() (<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	File方法返回基础os.File的副本。调用方有责任在完成后关闭f。关闭c不会影响f，关闭f也不会影响c。</p>
<p>​	返回的os.File的文件描述符与连接的不同。尝试使用此副本更改原始文件的属性可能会或可能不会产生预期的效果。</p>
<h4 id="tcpconn-localaddrhttpscsopensourcegooglegogogo1201srcnetnetgol217">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=217" target="_blank" rel="noopener">LocalAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">LocalAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LocalAddr方法返回本地网络地址。返回的Addr被所有调用LocalAddr共享，因此请勿修改它。</p>
<h4 id="tcpconn-readhttpscsopensourcegooglegogogo1201srcnetnetgol179">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=179" target="_blank" rel="noopener">Read</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">Read</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Read方法实现了Conn的Read方法。</p>
<h4 id="tcpconn-readfromhttpscsopensourcegooglegogogo1201srcnettcpsockgol126">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=126" target="_blank" rel="noopener">ReadFrom</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">ReadFrom</span>(<span style="color:#e06c75">r</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>) (<span style="color:#e5c07b">int64</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadFrom方法实现了io.ReaderFrom的ReadFrom方法。</p>
<h4 id="tcpconn-remoteaddrhttpscsopensourcegooglegogogo1201srcnetnetgol227">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=227" target="_blank" rel="noopener">RemoteAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">RemoteAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RemoteAddr方法返回远程网络地址。返回的Addr由所有RemoteAddr调用共享，因此请不要修改它。</p>
<h4 id="tcpconn-setdeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol235">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=235" target="_blank" rel="noopener">SetDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetDeadline方法实现了Conn的SetDeadline方法。</p>
<h4 id="tcpconn-setkeepalivehttpscsopensourcegooglegogogo1201srcnettcpsockgol185">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=185" target="_blank" rel="noopener">SetKeepAlive</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetKeepAlive</span>(<span style="color:#e06c75">keepalive</span> <span style="color:#e5c07b">bool</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetKeepAlive方法设置操作系统是否应在连接上发送保持活动消息。</p>
<h4 id="tcpconn-setkeepaliveperiodhttpscsopensourcegooglegogogo1201srcnettcpsockgol196----go12">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=196" target="_blank" rel="noopener">SetKeepAlivePeriod</a>  &lt;- go1.2</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetKeepAlivePeriod</span>(<span style="color:#e06c75">d</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Duration</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetKeepAlivePeriod方法设置保持活动消息之间的时间间隔。</p>
<h4 id="tcpconn-setlingerhttpscsopensourcegooglegogogo1201srcnettcpsockgol173">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=173" target="_blank" rel="noopener">SetLinger</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetLinger</span>(<span style="color:#e06c75">sec</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetLinger方法设置在仍有等待发送或确认的数据的连接上执行Close时的行为。</p>
<p>​	如果sec &lt; 0(默认值)，则操作系统在后台完成发送数据。</p>
<p>​	如果sec == 0，则操作系统丢弃任何未发送或未确认的数据。</p>
<p>​	如果sec &gt; 0，则数据像sec &lt; 0一样在后台发送。在某些操作系统上，经过sec秒后，任何剩余的未发送数据可能会被丢弃。</p>
<h4 id="tcpconn-setnodelayhttpscsopensourcegooglegogogo1201srcnettcpsockgol210">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=210" target="_blank" rel="noopener">SetNoDelay</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetNoDelay</span>(<span style="color:#e06c75">noDelay</span> <span style="color:#e5c07b">bool</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetNoDelay方法控制操作系统是否应推迟数据包传输，以期望发送较少的数据包(Nagle算法)。默认值为true(无延迟)，这意味着在Write之后尽快发送数据。</p>
<h4 id="tcpconn-setreadbufferhttpscsopensourcegooglegogogo1201srcnetnetgol269">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=269" target="_blank" rel="noopener">SetReadBuffer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetReadBuffer</span>(<span style="color:#e06c75">bytes</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadBuffer方法设置与连接关联的操作系统接收缓冲区的大小。</p>
<h4 id="tcpconn-setreaddeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol246">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=246" target="_blank" rel="noopener">SetReadDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetReadDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadDeadline方法实现Conn SetReadDeadline方法。</p>
<h4 id="tcpconn-setwritebufferhttpscsopensourcegooglegogogo1201srcnetnetgol281">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=281" target="_blank" rel="noopener">SetWriteBuffer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetWriteBuffer</span>(<span style="color:#e06c75">bytes</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteBuffer方法设置与连接关联的操作系统传输缓冲区的大小。</p>
<h4 id="tcpconn-setwritedeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol257">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=257" target="_blank" rel="noopener">SetWriteDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SetWriteDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteDeadline方法实现Conn SetWriteDeadline方法。</p>
<h4 id="tcpconn-syscallconnhttpscsopensourcegooglegogogo1201srcnettcpsockgol118----go19">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=118" target="_blank" rel="noopener">SyscallConn</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">SyscallConn</span>() (<span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SyscallConn方法返回一个原始的网络连接。这实现了syscall.Conn接口。</p>
<h4 id="tcpconn-writehttpscsopensourcegooglegogogo1201srcnetnetgol191">(*TCPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=191" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Write方法实现了Conn接口的Write方法。</p>
<h3 id="type-tcplistenerhttpscsopensourcegooglegogogo1201srcnettcpsockgol261">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=261" target="_blank" rel="noopener">TCPListener</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">TCPListener</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	TCPListener结构体是TCP网络侦听器。客户端通常应该使用类型为Listener的变量，而不是假定为TCP。</p>
<h4 id="func-listentcphttpscsopensourcegooglegogogo1201srcnettcpsockgol360">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=360" target="_blank" rel="noopener">ListenTCP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenTCP</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPListener</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenTCP函数像TCP网络的Listen一样工作。</p>
<p>​	网络必须是TCP网络名称;有关详细信息，请参阅func Dial。</p>
<p>​	如果laddr的IP字段为nil或未指定的IP地址，则ListenTCP将侦听本地系统的所有可用单播和任播IP地址。如果laddr的Port字段为0，则自动选择端口号。</p>
<h4 id="tcplistener-accepthttpscsopensourcegooglegogogo1201srcnettcpsockgol293">(*TCPListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=293" target="_blank" rel="noopener">Accept</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPListener</span>) <span style="color:#61afef;font-weight:bold">Accept</span>() (<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Accept方法实现了 Listener 接口的 Accept 方法；它等待下一个呼叫并返回一个通用的 Conn。</p>
<h4 id="tcplistener-accepttcphttpscsopensourcegooglegogogo1201srcnettcpsockgol280">(*TCPListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=280" target="_blank" rel="noopener">AcceptTCP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPListener</span>) <span style="color:#61afef;font-weight:bold">AcceptTCP</span>() (<span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	AcceptTCP方法接受下一个传入的呼叫并返回新连接。</p>
<h4 id="tcplistener-addrhttpscsopensourcegooglegogogo1201srcnettcpsockgol319">(*TCPListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=319" target="_blank" rel="noopener">Addr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPListener</span>) <span style="color:#61afef;font-weight:bold">Addr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Addr方法返回监听器的网络地址，即 *TCPAddr。返回的 Addr 在所有调用 Addr 的地方都是共享的，因此不要修改它。</p>
<h4 id="tcplistener-closehttpscsopensourcegooglegogogo1201srcnettcpsockgol306">(*TCPListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=306" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPListener</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Close方法停止在 TCP 地址上的监听。已经接受的连接不会关闭。</p>
<h4 id="tcplistener-filehttpscsopensourcegooglegogogo1201srcnettcpsockgol340">(*TCPListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=340" target="_blank" rel="noopener">File</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPListener</span>) <span style="color:#61afef;font-weight:bold">File</span>() (<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	File方法返回底层的 os.File 的副本。调用者有责任在完成后关闭 f。关闭 l 不影响 f，关闭 f 不影响 l。</p>
<p>​	返回的 os.File 的文件描述符与连接的不同。尝试使用此副本更改原始连接的属性可能会或可能不会产生预期的效果。</p>
<h4 id="tcplistener-setdeadlinehttpscsopensourcegooglegogogo1201srcnettcpsockgol323">(*TCPListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=323" target="_blank" rel="noopener">SetDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPListener</span>) <span style="color:#61afef;font-weight:bold">SetDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetDeadline方法设置监听器关联的截止日期。零时间值禁用截止日期。</p>
<h4 id="tcplistener-syscallconnhttpscsopensourcegooglegogogo1201srcnettcpsockgol271----go110">(*TCPListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/tcpsock.go;l=271" target="_blank" rel="noopener">SyscallConn</a>  &lt;- go1.10</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">TCPListener</span>) <span style="color:#61afef;font-weight:bold">SyscallConn</span>() (<span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SyscallConn方法返回原始网络连接。这实现了 syscall.Conn 接口。</p>
<p>​	返回的 RawConn 仅支持调用 Control。Read 和 Write 返回一个错误。</p>
<h3 id="type-udpaddrhttpscsopensourcegooglegogogo1201srcnetudpsockgol24">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=24" target="_blank" rel="noopener">UDPAddr</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UDPAddr</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">IP</span>   <span style="color:#e06c75">IP</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Port</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Zone</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// IPv6 范围地址区域
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UDPAddr结构体表示 UDP 端点的地址。</p>
<h4 id="func-resolveudpaddrhttpscsopensourcegooglegogogo1201srcnetudpsockgol87">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=87" target="_blank" rel="noopener">ResolveUDPAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ResolveUDPAddr</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ResolveUDPAddr函数返回 UDP 终点地址。</p>
<p>​	network 必须是 UDP 网络名称。</p>
<p>​	如果 address 参数中的主机不是字面 IP 地址或端口不是字面端口号，则 ResolveUDPAddr 将地址解析为 UDP 终点地址。否则，它将地址解析为字面 IP 地址和端口号的一对。地址参数可以使用主机名，但不建议这样做，因为它最多只会返回主机名的一个 IP 地址。</p>
<p>​	有关网络和地址参数的说明，请参见 func Dial。</p>
<h4 id="func-udpaddrfromaddrporthttpscsopensourcegooglegogogo1201srcnetudpsockgol105----go118">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=105" target="_blank" rel="noopener">UDPAddrFromAddrPort</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">UDPAddrFromAddrPort</span>(<span style="color:#e06c75">addr</span> <span style="color:#e06c75">netip</span>.<span style="color:#e06c75">AddrPort</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UDPAddrFromAddrPort函数将 addr 转换为 UDPAddr。如果 addr.IsValid() 为 false，则返回的 UDPAddr 将包含一个 nil IP 字段，表示未指定地址簇的未指定地址。</p>
<h4 id="udpaddr-addrporthttpscsopensourcegooglegogogo1201srcnetudpsockgol35----go118">(*UDPAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=35" target="_blank" rel="noopener">AddrPort</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>) <span style="color:#61afef;font-weight:bold">AddrPort</span>() <span style="color:#e06c75">netip</span>.<span style="color:#e06c75">AddrPort</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	AddrPort方法将 UDPAddr a 转换为 netip.AddrPort。</p>
<p>​	如果 a.Port 不适合 uint16，则它将被静默截断。</p>
<p>​	如果 a 为 nil，则返回零值。</p>
<h4 id="udpaddr-networkhttpscsopensourcegooglegogogo1201srcnetudpsockgol45">(*UDPAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=45" target="_blank" rel="noopener">Network</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>) <span style="color:#61afef;font-weight:bold">Network</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Network方法返回地址的网络名称，即 &ldquo;udp&rdquo;。</p>
<h4 id="udpaddr-stringhttpscsopensourcegooglegogogo1201srcnetudpsockgol47">(*UDPAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=47" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-udpconnhttpscsopensourcegooglegogogo1201srcnetudpsockgol122">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=122" target="_blank" rel="noopener">UDPConn</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UDPConn</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UDPConn结构体是 UDP 网络连接的 Conn 和 PacketConn 接口实现。</p>
<h4 id="func-dialudphttpscsopensourcegooglegogogo1201srcnetudpsockgol290">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=290" target="_blank" rel="noopener">DialUDP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DialUDP</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span>, <span style="color:#e06c75">raddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DialUDP函数用于 UDP 网络的 Dial。</p>
<p>​	network 必须是 UDP 网络名称；有关详细信息，请参见 func Dial。</p>
<p>​	如果 laddr 为 nil，则自动选择本地地址。如果 raddr 的 IP 字段为 nil 或未指定 IP 地址，则假定为本地系统。</p>
<h4 id="func-listenmulticastudphttpscsopensourcegooglegogogo1201srcnetudpsockgol353">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=353" target="_blank" rel="noopener">ListenMulticastUDP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenMulticastUDP</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">ifi</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Interface</span>, <span style="color:#e06c75">gaddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenMulticastUDP函数用于 UDP 网络的 ListenPacket，但它接受特定网络接口上的组地址。</p>
<p>​	network 必须是 UDP 网络名称；有关详细信息，请参见 func Dial。</p>
<p>​	ListenMulticastUDP 监听本地系统的所有可用 IP 地址，包括组播 IP 地址。如果 ifi 为 nil，则 ListenMulticastUDP 使用系统分配的多播接口，尽管这不被推荐，因为分配取决于平台，有时可能需要路由配置。如果 gaddr 的 Port 字段为 0，则自动选择端口号。</p>
<p>​	ListenMulticastUDP 只是简单、小型应用的方便。对于一般用途，有 golang.org/x/net/ipv4 和 golang.org/x/net/ipv6 包。</p>
<p>​	请注意，ListenMulticastUDP将在IPPROTO_IP下将IP_MULTICAST_LOOP套接字选项设置为0，以禁用组播数据包的回送。</p>
<h4 id="func-listenudphttpscsopensourcegooglegogogo1201srcnetudpsockgol316">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=316" target="_blank" rel="noopener">ListenUDP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenUDP</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenUDP函数的行为类似于UDP网络的ListenPacket。</p>
<p>​	网络必须是UDP网络名称；有关详细信息，请参见Dial函数。</p>
<p>​	如果laddr的IP字段为nil或未指定的IP地址，则ListenUDP会在本地系统的所有可用IP地址上进行侦听，但不包括多播IP地址。如果laddr的Port字段为0，则自动选择端口号。</p>
<h4 id="udpconn-closehttpscsopensourcegooglegogogo1201srcnetnetgol203">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=203" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Close方法关闭连接。</p>
<h4 id="udpconn-filehttpscsopensourcegooglegogogo1201srcnetnetgol298">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=298" target="_blank" rel="noopener">File</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">File</span>() (<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	File方法返回底层os.File的副本。调用者有责任在完成后关闭f。关闭c不会影响f，关闭f也不会影响c。</p>
<p>​	返回的os.File的文件描述符与连接的不同。尝试使用此副本更改原始的属性可能会产生预期或非预期的影响。</p>
<h4 id="udpconn-localaddrhttpscsopensourcegooglegogogo1201srcnetnetgol217">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=217" target="_blank" rel="noopener">LocalAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">LocalAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LocalAddr方法返回本地网络地址。返回的Addr由LocalAddr的所有调用共享，因此不要修改它。</p>
<h4 id="udpconn-readhttpscsopensourcegooglegogogo1201srcnetnetgol179">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=179" target="_blank" rel="noopener">Read</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">Read</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Read方法实现Conn Read方法。</p>
<h4 id="udpconn-readfromhttpscsopensourcegooglegogogo1201srcnetudpsockgol157">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=157" target="_blank" rel="noopener">ReadFrom</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">ReadFrom</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e06c75">Addr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadFrom方法实现PacketConn ReadFrom方法。</p>
<h4 id="udpconn-readfromudphttpscsopensourcegooglegogogo1201srcnetudpsockgol136">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=136" target="_blank" rel="noopener">ReadFromUDP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">ReadFromUDP</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadFromUDP方法的行为类似于ReadFrom，但返回一个UDPAddr。</p>
<h4 id="udpconn-readfromudpaddrporthttpscsopensourcegooglegogogo1201srcnetudpsockgol171----go118">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=171" target="_blank" rel="noopener">ReadFromUDPAddrPort</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">ReadFromUDPAddrPort</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">netip</span>.<span style="color:#e06c75">AddrPort</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadFromUDPAddrPort方法的行为类似于ReadFrom，但返回一个netip.AddrPort。</p>
<p>​	如果c绑定到未指定的地址，则返回的netip.AddrPort的地址可能是一个IPv4映射的IPv6地址。使用netip.Addr.Unmap获取不带IPv6前缀的地址。</p>
<h4 id="udpconn-readmsgudphttpscsopensourcegooglegogogo1201srcnetudpsockgol189----go11">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=189" target="_blank" rel="noopener">ReadMsgUDP</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">ReadMsgUDP</span>(<span style="color:#e06c75">b</span>, <span style="color:#e06c75">oob</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span>, <span style="color:#e06c75">oobn</span>, <span style="color:#e06c75">flags</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadMsgUDP方法从c读取消息，将有效负载复制到b中，并将关联的带外数据复制到oob中。它返回复制到b中的字节数，复制到oob中的字节数，设置在消息上的标志以及消息的源地址。</p>
<p>​	可以使用golang.org/x/net/ipv4和golang.org/x/net/ipv6包来操作oob中的IP级套接字选项。</p>
<h4 id="udpconn-readmsgudpaddrporthttpscsopensourcegooglegogogo1201srcnetudpsockgol199----go118">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=199" target="_blank" rel="noopener">ReadMsgUDPAddrPort</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">ReadMsgUDPAddrPort</span>(<span style="color:#e06c75">b</span>, <span style="color:#e06c75">oob</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span>, <span style="color:#e06c75">oobn</span>, <span style="color:#e06c75">flags</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">netip</span>.<span style="color:#e06c75">AddrPort</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadMsgUDPAddrPort方法与ReadMsgUDP方法类似，但返回的是netip.AddrPort而不是UDPAddr。</p>
<h4 id="udpconn-remoteaddrhttpscsopensourcegooglegogogo1201srcnetnetgol227">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=227" target="_blank" rel="noopener">RemoteAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">RemoteAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RemoteAddr方法返回远程网络地址。返回的 Addr 在所有 RemoteAddr 的调用中共享，因此不要修改它。</p>
<h4 id="udpconn-setdeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol235">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=235" target="_blank" rel="noopener">SetDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">SetDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetDeadline方法实现了 Conn SetDeadline 方法。</p>
<h4 id="udpconn-setreadbufferhttpscsopensourcegooglegogogo1201srcnetnetgol269">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=269" target="_blank" rel="noopener">SetReadBuffer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">SetReadBuffer</span>(<span style="color:#e06c75">bytes</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadBuffer方法设置与连接关联的操作系统接收缓冲区的大小。</p>
<h4 id="udpconn-setreaddeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol246">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=246" target="_blank" rel="noopener">SetReadDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">SetReadDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadDeadline方法实现了 Conn SetReadDeadline 方法。</p>
<h4 id="udpconn-setwritebufferhttpscsopensourcegooglegogogo1201srcnetnetgol281">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=281" target="_blank" rel="noopener">SetWriteBuffer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">SetWriteBuffer</span>(<span style="color:#e06c75">bytes</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteBuffer方法设置与连接关联的操作系统传输缓冲区的大小。</p>
<h4 id="udpconn-setwritedeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol257">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=257" target="_blank" rel="noopener">SetWriteDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">SetWriteDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteDeadline方法实现了 Conn SetWriteDeadline 方法。</p>
<h4 id="udpconn-syscallconnhttpscsopensourcegooglegogogo1201srcnetudpsockgol128----go19">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=128" target="_blank" rel="noopener">SyscallConn</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">SyscallConn</span>() (<span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SyscallConn方法返回原始网络连接。这实现了 syscall.Conn 接口。</p>
<h4 id="udpconn-writehttpscsopensourcegooglegogogo1201srcnetnetgol191">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=191" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Write方法实现了 Conn Write 方法。</p>
<h4 id="udpconn-writemsgudphttpscsopensourcegooglegogogo1201srcnetudpsockgol258----go11">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=258" target="_blank" rel="noopener">WriteMsgUDP</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">WriteMsgUDP</span>(<span style="color:#e06c75">b</span>, <span style="color:#e06c75">oob</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>) (<span style="color:#e06c75">n</span>, <span style="color:#e06c75">oobn</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteMsgUDP方法向 addr 写入消息，如果 c 未连接，则通过 c 写入，否则通过 c 的远程地址写入(此时 addr 必须为 nil)。从 b 复制有效载荷，从 oob 复制关联的带外数据。返回写入的有效载荷和带外字节数。</p>
<p>​	包 golang.org/x/net/ipv4 和 golang.org/x/net/ipv6 可用于操作 oob 中的 IP 级 socket 选项。</p>
<h4 id="udpconn-writemsgudpaddrporthttpscsopensourcegooglegogogo1201srcnetudpsockgol270----go118">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=270" target="_blank" rel="noopener">WriteMsgUDPAddrPort</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">WriteMsgUDPAddrPort</span>(<span style="color:#e06c75">b</span>, <span style="color:#e06c75">oob</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">netip</span>.<span style="color:#e06c75">AddrPort</span>) (<span style="color:#e06c75">n</span>, <span style="color:#e06c75">oobn</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteMsgUDPAddrPort方法与WriteMsgUDP方法类似，但是接受netip.AddrPort而不是UDPAddr。</p>
<h4 id="udpconn-writetohttpscsopensourcegooglegogogo1201srcnetudpsockgol235">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=235" target="_blank" rel="noopener">WriteTo</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">WriteTo</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">Addr</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteTo方法实现了PacketConn WriteTo方法。</p>
<h5 id="writeto-example">WriteTo Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;log&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Unlike Dial, ListenPacket creates a connection without any
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// association with peers.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">conn</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ListenPacket</span>(<span style="color:#98c379">&#34;udp&#34;</span>, <span style="color:#98c379">&#34;:0&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">defer</span> <span style="color:#e06c75">conn</span>.<span style="color:#61afef;font-weight:bold">Close</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">dst</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">ResolveUDPAddr</span>(<span style="color:#98c379">&#34;udp&#34;</span>, <span style="color:#98c379">&#34;192.0.2.1:2000&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// The connection can write data to the desired address.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">_</span>, <span style="color:#e06c75">err</span> = <span style="color:#e06c75">conn</span>.<span style="color:#61afef;font-weight:bold">WriteTo</span>([]<span style="color:#e5c07b">byte</span>(<span style="color:#98c379">&#34;data&#34;</span>), <span style="color:#e06c75">dst</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="udpconn-writetoudphttpscsopensourcegooglegogogo1201srcnetudpsockgol211">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=211" target="_blank" rel="noopener">WriteToUDP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">WriteToUDP</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPAddr</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteToUDP方法类似于WriteTo，但是需要一个UDPAddr参数。</p>
<h4 id="udpconn-writetoudpaddrporthttpscsopensourcegooglegogogo1201srcnetudpsockgol223----go118">(*UDPConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/udpsock.go;l=223" target="_blank" rel="noopener">WriteToUDPAddrPort</a>  &lt;- go1.18</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UDPConn</span>) <span style="color:#61afef;font-weight:bold">WriteToUDPAddrPort</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">netip</span>.<span style="color:#e06c75">AddrPort</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteToUDPAddrPort方法类似于WriteTo，但是需要一个netip.AddrPort参数。</p>
<h3 id="type-unixaddrhttpscsopensourcegooglegogogo1201srcnetunixsockgol22">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=22" target="_blank" rel="noopener">UnixAddr</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnixAddr</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Net</span>  <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UnixAddr结构体表示Unix域套接字终端的地址。</p>
<h4 id="func-resolveunixaddrhttpscsopensourcegooglegogogo1201srcnetunixsockgol57">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=57" target="_blank" rel="noopener">ResolveUnixAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ResolveUnixAddr</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ResolveUnixAddr函数返回Unix域套接字终端的地址。</p>
<p>​	network参数必须是Unix网络名称。</p>
<p>​	有关network和address参数的说明，请参见func Dial。</p>
<h4 id="unixaddr-networkhttpscsopensourcegooglegogogo1201srcnetunixsockgol29">(*UnixAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=29" target="_blank" rel="noopener">Network</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>) <span style="color:#61afef;font-weight:bold">Network</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Network方法返回地址的网络名称，即&quot;unix&quot;、&ldquo;unixgram&quot;或&quot;unixpacket&rdquo;。</p>
<h4 id="unixaddr-stringhttpscsopensourcegooglegogogo1201srcnetunixsockgol33">(*UnixAddr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=33" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">a</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-unixconnhttpscsopensourcegooglegogogo1201srcnetunixsockgol68">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=68" target="_blank" rel="noopener">UnixConn</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnixConn</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含过滤或未公开的字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UnixConn结构体是用于Unix域套接字连接的Conn接口的实现。</p>
<h4 id="func-dialunixhttpscsopensourcegooglegogogo1201srcnetunixsockgol203">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=203" target="_blank" rel="noopener">DialUnix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DialUnix</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span>, <span style="color:#e06c75">raddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	DialUnix函数类似于Unix网络的Dial函数。</p>
<p>​	network参数必须是Unix网络名称；有关详细信息，请参见func Dial。</p>
<p>​	如果laddr非nil，则用作连接的本地地址。</p>
<h4 id="func-listenunixgramhttpscsopensourcegooglegogogo1201srcnetunixsockgol337">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=337" target="_blank" rel="noopener">ListenUnixgram</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenUnixgram</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenUnixgram函数类似于Unix网络的ListenPacket函数。</p>
<p>​	network参数必须是&quot;unixgram&quot;。</p>
<h4 id="unixconn-closehttpscsopensourcegooglegogogo1201srcnetnetgol203">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=203" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Close方法关闭连接。</p>
<h4 id="unixconn-closereadhttpscsopensourcegooglegogogo1201srcnetunixsockgol83----go11">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=83" target="_blank" rel="noopener">CloseRead</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">CloseRead</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CloseRead方法关闭Unix域连接的读取端。大多数调用方应该只使用Close。</p>
<h4 id="unixconn-closewritehttpscsopensourcegooglegogogo1201srcnetunixsockgol95----go11">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=95" target="_blank" rel="noopener">CloseWrite</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">CloseWrite</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	CloseWrite方法关闭Unix域连接的写入端。大多数调用方应该只使用Close。</p>
<h4 id="unixconn-filehttpscsopensourcegooglegogogo1201srcnetnetgol298">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=298" target="_blank" rel="noopener">File</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">File</span>() (<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	File方法返回底层os.File的副本。调用方有责任在完成后关闭f。关闭c不会影响f，关闭f也不会影响c。</p>
<p>​	返回的os.File的文件描述符与连接的不同。尝试使用此副本更改原始文件的属性可能会或可能不会产生所需的效果。</p>
<h4 id="unixconn-localaddrhttpscsopensourcegooglegogogo1201srcnetnetgol217">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=217" target="_blank" rel="noopener">LocalAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">LocalAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	LocalAddr方法返回本地网络地址。返回的Addr由LocalAddr的所有调用共享，因此不要修改它。</p>
<h4 id="unixconn-readhttpscsopensourcegooglegogogo1201srcnetnetgol179">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=179" target="_blank" rel="noopener">Read</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">Read</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Read方法实现了Conn Read方法。</p>
<h4 id="unixconn-readfromhttpscsopensourcegooglegogogo1201srcnetunixsockgol118">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=118" target="_blank" rel="noopener">ReadFrom</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">ReadFrom</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e06c75">Addr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadFrom方法实现了PacketConn ReadFrom方法。</p>
<h4 id="unixconn-readfromunixhttpscsopensourcegooglegogogo1201srcnetunixsockgol106">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=106" target="_blank" rel="noopener">ReadFromUnix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">ReadFromUnix</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadFromUnix方法类似于ReadFrom，但返回一个UnixAddr。</p>
<h4 id="unixconn-readmsgunixhttpscsopensourcegooglegogogo1201srcnetunixsockgol139">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=139" target="_blank" rel="noopener">ReadMsgUnix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">ReadMsgUnix</span>(<span style="color:#e06c75">b</span>, <span style="color:#e06c75">oob</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">n</span>, <span style="color:#e06c75">oobn</span>, <span style="color:#e06c75">flags</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ReadMsgUnix方法从c读取消息，将有效负载复制到b，将相关的带外数据复制到oob。它返回复制到b的字节数，复制到oob的字节数，消息上设置的标志以及消息的源地址。</p>
<p>​	请注意，如果len(b) == 0且len(oob) &gt; 0，则此函数仍将从连接中读取(并丢弃)1个字节。</p>
<h4 id="unixconn-remoteaddrhttpscsopensourcegooglegogogo1201srcnetnetgol227">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=227" target="_blank" rel="noopener">RemoteAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">RemoteAddr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	RemoteAddr方法返回远程网络地址。返回的Addr由RemoteAddr的所有调用共享，因此不要修改它。</p>
<h4 id="unixconn-setdeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol235">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=235" target="_blank" rel="noopener">SetDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">SetDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetDeadline方法实现了Conn SetDeadline方法。</p>
<h4 id="unixconn-setreadbufferhttpscsopensourcegooglegogogo1201srcnetnetgol269">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=269" target="_blank" rel="noopener">SetReadBuffer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">SetReadBuffer</span>(<span style="color:#e06c75">bytes</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadBuffer方法设置与连接关联的操作系统接收缓冲区的大小。</p>
<h4 id="unixconn-setreaddeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol246">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=246" target="_blank" rel="noopener">SetReadDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">SetReadDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetReadDeadline方法实现了Conn SetReadDeadline方法。</p>
<h4 id="unixconn-setwritebufferhttpscsopensourcegooglegogogo1201srcnetnetgol281">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=281" target="_blank" rel="noopener">SetWriteBuffer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">SetWriteBuffer</span>(<span style="color:#e06c75">bytes</span> <span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteBuffer方法设置与连接关联的操作系统传输缓冲区的大小。</p>
<h4 id="unixconn-setwritedeadlinehttpscsopensourcegooglegogogo1201srcnetnetgol257">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=257" target="_blank" rel="noopener">SetWriteDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">SetWriteDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetWriteDeadline方法实现了Conn SetWriteDeadline方法。</p>
<h4 id="unixconn-syscallconnhttpscsopensourcegooglegogogo1201srcnetunixsockgol74----go19">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=74" target="_blank" rel="noopener">SyscallConn</a>  &lt;- go1.9</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">SyscallConn</span>() (<span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SyscallConn方法返回原始网络连接。这实现了syscall.Conn接口。</p>
<h4 id="unixconn-writehttpscsopensourcegooglegogogo1201srcnetnetgol191">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=191" target="_blank" rel="noopener">Write</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">Write</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Write方法实现了Conn Write方法。</p>
<h4 id="unixconn-writemsgunixhttpscsopensourcegooglegogogo1201srcnetunixsockgol184">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=184" target="_blank" rel="noopener">WriteMsgUnix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">WriteMsgUnix</span>(<span style="color:#e06c75">b</span>, <span style="color:#e06c75">oob</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>) (<span style="color:#e06c75">n</span>, <span style="color:#e06c75">oobn</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteMsgUnix方法向addr通过c写入消息，从b复制有效负载，从oob复制相关的带外数据。它返回已写入有效负载和带外字节数。</p>
<p>​	请注意，如果len(b) == 0且len(oob) &gt; 0，则此函数仍将向连接写入1个字节。</p>
<h4 id="unixconn-writetohttpscsopensourcegooglegogogo1201srcnetunixsockgol163">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=163" target="_blank" rel="noopener">WriteTo</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">WriteTo</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#e06c75">Addr</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteTo方法实现了PacketConn WriteTo方法。</p>
<h4 id="unixconn-writetounixhttpscsopensourcegooglegogogo1201srcnetunixsockgol151">(*UnixConn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=151" target="_blank" rel="noopener">WriteToUnix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>) <span style="color:#61afef;font-weight:bold">WriteToUnix</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">addr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>) (<span style="color:#e5c07b">int</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	WriteToUnix方法类似于WriteTo，但需要一个UnixAddr参数。</p>
<h3 id="type-unixlistenerhttpscsopensourcegooglegogogo1201srcnetunixsockgol220">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=220" target="_blank" rel="noopener">UnixListener</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnixListener</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// 包含过滤或未公开的字段
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	UnixListener结构体是Unix域套接字侦听器。客户端通常应使用类型为Listener的变量，而不是假定Unix域套接字。</p>
<h4 id="func-listenunixhttpscsopensourcegooglegogogo1201srcnetunixsockgol317">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=317" target="_blank" rel="noopener">ListenUnix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ListenUnix</span>(<span style="color:#e06c75">network</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">laddr</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixAddr</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	ListenUnix函数类似于Unix网络的Listen函数。</p>
<p>​	network必须是&quot;unix&quot;或&quot;unixpacket&quot;。</p>
<h4 id="unixlistener-accepthttpscsopensourcegooglegogogo1201srcnetunixsockgol256">(*UnixListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=256" target="_blank" rel="noopener">Accept</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>) <span style="color:#61afef;font-weight:bold">Accept</span>() (<span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Accept方法实现了Listener接口中的Accept方法。返回的连接将是*UnixConn类型。</p>
<h4 id="unixlistener-acceptunixhttpscsopensourcegooglegogogo1201srcnetunixsockgol243">(*UnixListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=243" target="_blank" rel="noopener">AcceptUnix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>) <span style="color:#61afef;font-weight:bold">AcceptUnix</span>() (<span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	AcceptUnix方法接受下一个传入的调用并返回新的连接。</p>
<h4 id="unixlistener-addrhttpscsopensourcegooglegogogo1201srcnetunixsockgol282">(*UnixListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=282" target="_blank" rel="noopener">Addr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>) <span style="color:#61afef;font-weight:bold">Addr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Addr方法返回侦听器的网络地址。返回的Addr由所有Addr调用共享，因此不要修改它。</p>
<h4 id="unixlistener-closehttpscsopensourcegooglegogogo1201srcnetunixsockgol269">(*UnixListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=269" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	Close方法停止侦听Unix地址。已接受的连接不会关闭。</p>
<h4 id="unixlistener-filehttpscsopensourcegooglegogogo1201srcnetunixsockgol303">(*UnixListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=303" target="_blank" rel="noopener">File</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>) <span style="color:#61afef;font-weight:bold">File</span>() (<span style="color:#e06c75">f</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">os</span>.<span style="color:#e06c75">File</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	File方法返回底层os.File的副本。调用者有责任在完成后关闭f。关闭l不影响f，关闭f也不影响l。</p>
<p>​	返回的os.File的文件描述符与连接的不同。尝试使用此副本更改原始文件的属性可能会产生预期的效果，也可能不会。</p>
<h4 id="unixlistener-setdeadlinehttpscsopensourcegooglegogogo1201srcnetunixsockgol286">(*UnixListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=286" target="_blank" rel="noopener">SetDeadline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>) <span style="color:#61afef;font-weight:bold">SetDeadline</span>(<span style="color:#e06c75">t</span> <span style="color:#e06c75">time</span>.<span style="color:#e06c75">Time</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetDeadline方法设置与侦听器关联的截止日期。零时间值禁用截止日期。</p>
<h4 id="unixlistener-setunlinkonclosehttpscsopensourcegooglegogogo1201srcnetunixsock_posixgol215----go18">(*UnixListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock_posix.go;l=215" target="_blank" rel="noopener">SetUnlinkOnClose</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>) <span style="color:#61afef;font-weight:bold">SetUnlinkOnClose</span>(<span style="color:#e06c75">unlink</span> <span style="color:#e5c07b">bool</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SetUnlinkOnClose方法设置在关闭侦听器时是否应从文件系统中删除底层套接字文件。</p>
<p>​	默认行为是仅在包net创建它时取消连接套接字文件。也就是说，当使用调用Listen或ListenUnix创建侦听器和底层套接字文件时，默认情况下，关闭侦听器将删除套接字文件。但是，如果通过调用FileListener创建侦听器来使用已经存在的套接字文件，则默认情况下，关闭侦听器不会删除套接字文件。</p>
<h4 id="unixlistener-syscallconnhttpscsopensourcegooglegogogo1201srcnetunixsockgol234----go110">(*UnixListener) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/unixsock.go;l=234" target="_blank" rel="noopener">SyscallConn</a>  &lt;- go1.10</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">l</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">UnixListener</span>) <span style="color:#61afef;font-weight:bold">SyscallConn</span>() (<span style="color:#e06c75">syscall</span>.<span style="color:#e06c75">RawConn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>​	SyscallConn方法返回原始网络连接。这实现了syscall.Conn接口。</p>
<p>​	返回的RawConn仅支持调用Control。读取和写入返回错误。</p>
<h3 id="type-unknownnetworkerrorhttpscsopensourcegooglegogogo1201srcnetnetgol573">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=573" target="_blank" rel="noopener">UnknownNetworkError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">UnknownNetworkError</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="unknownnetworkerror-errorhttpscsopensourcegooglegogogo1201srcnetnetgol575">(UnknownNetworkError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=575" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">UnknownNetworkError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="unknownnetworkerror-temporaryhttpscsopensourcegooglegogogo1201srcnetnetgol577">(UnknownNetworkError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=577" target="_blank" rel="noopener">Temporary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">UnknownNetworkError</span>) <span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="unknownnetworkerror-timeouthttpscsopensourcegooglegogogo1201srcnetnetgol576">(UnknownNetworkError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/net.go;l=576" target="_blank" rel="noopener">Timeout</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">UnknownNetworkError</span>) <span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="notes">Notes</h2>
<h2 id="缺陷">缺陷</h2>
<ul>
<li>在JS和Windows上，未实现FileConn、FileListener和FilePacketConn函数。</li>
<li>在JS上，未实现与Interface相关的方法和函数。</li>
<li>在AIX、DragonFly BSD、NetBSD、OpenBSD、Plan 9和Solaris上，未实现Interface的MulticastAddrs方法。</li>
<li>在每个POSIX平台上，使用ReadFrom或ReadFromIP方法从&quot;ip4&quot;网络读取可能不会返回完整的IPv4数据包，包括其标头，即使有空间可用。即使Read或ReadMsgIP可以返回完整的数据包，这也可能发生。因此，如果接收完整数据包很重要，则建议不使用这些方法。</li>
<li>Go 1兼容性指南使我们无法更改这些方法的行为。请改用Read或ReadMsgIP。</li>
<li>在JS和Plan 9上，未实现与IPConn相关的方法和函数。</li>
<li>在Windows上，未实现IPConn的File方法。</li>
<li>在DragonFly BSD和OpenBSD上，侦听&quot;tcp&quot;和&quot;udp&quot;网络不会同时侦听IPv4和IPv6连接。这是因为IPv4流量不会被路由到IPv6套接字——如果要支持两个地址家族，则需要两个单独的套接字。有关详细信息，请参见inet6(4)。</li>
<li>在Windows上，syscall.RawConn的Write方法无法与运行时的网络轮询器集成。它不能等待连接变为可写，并且不尊重期限。如果用户提供的回调返回false，则Write方法将立即失败。</li>
<li>在JS和Plan 9上，未实现syscall.RawConn的Control、Read和Write方法。</li>
<li>在JS和Windows上，未实现TCPConn和TCPListener的File方法。</li>
<li>在Plan 9上，未实现UDPConn的ReadMsgUDP和WriteMsgUDP方法。</li>
<li>在Windows上，未实现UDPConn的File方法。</li>
<li>在JS上，未实现与UDPConn相关的方法和函数。</li>
<li>在JS和Plan 9上，未实现与UnixConn和UnixListener相关的方法和函数。</li>
<li>在Windows上，与UnixConn和UnixListener相关的方法和函数不适用于&quot;unixgram&quot;和&quot;unixpacket&quot;。</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5bc0b8f86dff7d0bdfdf0ca4aa3e623e">10 - netip</h1>
    
	<h1 id="netip">netip</h1>
<p><a href="https://pkg.go.dev/net/netip@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/netip@go1.20.1</a></p>
<p>Package netip defines an IP address type that&rsquo;s a small value type. Building on that Addr type, the package also defines AddrPort (an IP address and a port), and Prefix (an IP address and a bit length prefix).</p>
<p>Compared to the net.IP type, this package&rsquo;s Addr type takes less memory, is immutable, and is comparable (supports == and being a map key).</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<p>This section is empty.</p>
<h2 id="类型">类型</h2>
<h3 id="type-addrhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol38">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=38" target="_blank" rel="noopener">Addr</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Addr</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Addr represents an IPv4 or IPv6 address (with or without a scoped addressing zone), similar to net.IP or net.IPAddr.</p>
<p>Unlike net.IP or net.IPAddr, Addr is a comparable value type (it supports == and can be a map key) and is immutable.</p>
<p>The zero Addr is not a valid IP address. Addr{} is distinct from both 0.0.0.0 and ::.</p>
<h4 id="func-addrfrom16httpscsopensourcegooglegogogo1201srcnetnetipnetipgol102">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=102" target="_blank" rel="noopener">AddrFrom16</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">AddrFrom16</span>(<span style="color:#e06c75">addr</span> [<span style="color:#d19a66">16</span>]<span style="color:#e5c07b">byte</span>) <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AddrFrom16 returns the IPv6 address given by the bytes in addr. An IPv4-mapped IPv6 address is left as an IPv6 address. (Use Unmap to convert them if needed.)</p>
<h4 id="func-addrfrom4httpscsopensourcegooglegogogo1201srcnetnetipnetipgol92">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=92" target="_blank" rel="noopener">AddrFrom4</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">AddrFrom4</span>(<span style="color:#e06c75">addr</span> [<span style="color:#d19a66">4</span>]<span style="color:#e5c07b">byte</span>) <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AddrFrom4 returns the address of the IPv4 address given by the bytes in addr.</p>
<h4 id="func-addrfromslicehttpscsopensourcegooglegogogo1201srcnetnetipnetipgol340">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=340" target="_blank" rel="noopener">AddrFromSlice</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">AddrFromSlice</span>(<span style="color:#e06c75">slice</span> []<span style="color:#e5c07b">byte</span>) (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>, <span style="color:#e06c75">ok</span> <span style="color:#e5c07b">bool</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>AddrFromSlice parses the 4- or 16-byte byte slice as an IPv4 or IPv6 address. Note that a net.IP can be passed directly as the []byte argument. If slice&rsquo;s length is not 4 or 16, AddrFromSlice returns Addr{}, false.</p>
<h4 id="func-ipv4unspecifiedhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol89">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=89" target="_blank" rel="noopener">IPv4Unspecified</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">IPv4Unspecified</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IPv4Unspecified returns the IPv4 unspecified address &ldquo;0.0.0.0&rdquo;.</p>
<h4 id="func-ipv6linklocalallnodeshttpscsopensourcegooglegogogo1201srcnetnetipnetipgol76">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=76" target="_blank" rel="noopener">IPv6LinkLocalAllNodes</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">IPv6LinkLocalAllNodes</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IPv6LinkLocalAllNodes returns the IPv6 link-local all nodes multicast address ff02::1.</p>
<h4 id="func-ipv6linklocalallroutershttpscsopensourcegooglegogogo1201srcnetnetipnetipgol80----go120">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=80" target="_blank" rel="noopener">IPv6LinkLocalAllRouters</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">IPv6LinkLocalAllRouters</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IPv6LinkLocalAllRouters returns the IPv6 link-local all routers multicast address ff02::2.</p>
<h4 id="func-ipv6loopbackhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol83----go120">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=83" target="_blank" rel="noopener">IPv6Loopback</a>  &lt;- go1.20</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">IPv6Loopback</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IPv6Loopback returns the IPv6 loopback address ::1.</p>
<h4 id="func-ipv6unspecifiedhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol86">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=86" target="_blank" rel="noopener">IPv6Unspecified</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">IPv6Unspecified</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IPv6Unspecified returns the IPv6 unspecified address &ldquo;::&rdquo;.</p>
<h4 id="func-mustparseaddrhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol133">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=133" target="_blank" rel="noopener">MustParseAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MustParseAddr</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>MustParseAddr calls ParseAddr(s) and panics on error. It is intended for use in tests with hard-coded strings.</p>
<h4 id="func-parseaddrhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol115">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=115" target="_blank" rel="noopener">ParseAddr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseAddr</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Addr</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParseAddr parses s as an IP address, returning the result. The string s can be in dotted decimal (&ldquo;192.0.2.1&rdquo;), IPv6 (&ldquo;2001:db8::68&rdquo;), or IPv6 with a scoped addressing zone (&ldquo;fe80::1cc0:3e8c:119f:c2e1%ens18&rdquo;).</p>
<h4 id="addr-appendtohttpscsopensourcegooglegogogo1201srcnetnetipnetipgol777">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=777" target="_blank" rel="noopener">AppendTo</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">AppendTo</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AppendTo appends a text encoding of ip, as generated by MarshalText, to b and returns the extended buffer.</p>
<h4 id="addr-as16httpscsopensourcegooglegogogo1201srcnetnetipnetipgol675">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=675" target="_blank" rel="noopener">As16</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">As16</span>() (<span style="color:#e06c75">a16</span> [<span style="color:#d19a66">16</span>]<span style="color:#e5c07b">byte</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>As16 returns the IP address in its 16-byte representation. IPv4 addresses are returned as IPv4-mapped IPv6 addresses. IPv6 addresses with zones are returned without their zone (use the Zone method to get it). The ip zero value returns all zeroes.</p>
<h4 id="addr-as4httpscsopensourcegooglegogogo1201srcnetnetipnetipgol684">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=684" target="_blank" rel="noopener">As4</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">As4</span>() (<span style="color:#e06c75">a4</span> [<span style="color:#d19a66">4</span>]<span style="color:#e5c07b">byte</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>As4 returns an IPv4 or IPv4-in-IPv6 address in its 4-byte representation. If ip is the zero Addr or an IPv6 address, As4 panics. Note that 0.0.0.0 is not the zero Addr.</p>
<h4 id="addr-asslicehttpscsopensourcegooglegogogo1201srcnetnetipnetipgol696">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=696" target="_blank" rel="noopener">AsSlice</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">AsSlice</span>() []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AsSlice returns an IPv4 or IPv6 address in its respective 4-byte or 16-byte representation.</p>
<h4 id="addr-bitlenhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol389">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=389" target="_blank" rel="noopener">BitLen</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">BitLen</span>() <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>BitLen returns the number of bits in the IP address: 128 for IPv6, 32 for IPv4, and 0 for the zero Addr.</p>
<p>Note that IPv4-mapped IPv6 addresses are considered IPv6 addresses and therefore have bit length 128.</p>
<h4 id="addr-comparehttpscsopensourcegooglegogogo1201srcnetnetipnetipgol411">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=411" target="_blank" rel="noopener">Compare</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Compare</span>(<span style="color:#e06c75">ip2</span> <span style="color:#e06c75">Addr</span>) <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Compare returns an integer comparing two IPs. The result will be 0 if ip == ip2, -1 if ip &lt; ip2, and +1 if ip &gt; ip2. The definition of &ldquo;less than&rdquo; is the same as the Less method.</p>
<h4 id="addr-is4httpscsopensourcegooglegogogo1201srcnetnetipnetipgol453">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=453" target="_blank" rel="noopener">Is4</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Is4</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Is4 reports whether ip is an IPv4 address.</p>
<p>It returns false for IPv4-mapped IPv6 addresses. See Addr.Unmap.</p>
<h4 id="addr-is4in6httpscsopensourcegooglegogogo1201srcnetnetipnetipgol458">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=458" target="_blank" rel="noopener">Is4In6</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Is4In6</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Is4In6 reports whether ip is an IPv4-mapped IPv6 address.</p>
<h4 id="addr-is6httpscsopensourcegooglegogogo1201srcnetnetipnetipgol464">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=464" target="_blank" rel="noopener">Is6</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Is6</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Is6 reports whether ip is an IPv6 address, including IPv4-mapped IPv6 addresses.</p>
<h4 id="addr-isglobalunicasthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol589">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=589" target="_blank" rel="noopener">IsGlobalUnicast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsGlobalUnicast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsGlobalUnicast reports whether ip is a global unicast address.</p>
<p>It returns true for IPv6 addresses which fall outside of the current IANA-allocated 2000::/3 global unicast space, with the exception of the link-local address space. It also returns true even if ip is in the IPv4 private address space or IPv6 unique local address space. It returns false for the zero Addr.</p>
<p>For reference, see <a href="https://rfc-editor.org/rfc/rfc1122.html" target="_blank" rel="noopener">RFC 1122</a>, <a href="https://rfc-editor.org/rfc/rfc4291.html" target="_blank" rel="noopener">RFC 4291</a>, and <a href="https://rfc-editor.org/rfc/rfc4632.html" target="_blank" rel="noopener">RFC 4632</a>.</p>
<h4 id="addr-isinterfacelocalmulticasthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol556">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=556" target="_blank" rel="noopener">IsInterfaceLocalMulticast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsInterfaceLocalMulticast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsInterfaceLocalMulticast reports whether ip is an IPv6 interface-local multicast address.</p>
<h4 id="addr-islinklocalmulticasthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol566">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=566" target="_blank" rel="noopener">IsLinkLocalMulticast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsLinkLocalMulticast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsLinkLocalMulticast reports whether ip is a link-local multicast address.</p>
<h4 id="addr-islinklocalunicasthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol510">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=510" target="_blank" rel="noopener">IsLinkLocalUnicast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsLinkLocalUnicast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsLinkLocalUnicast reports whether ip is a link-local unicast address.</p>
<h4 id="addr-isloopbackhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol525">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=525" target="_blank" rel="noopener">IsLoopback</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsLoopback</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsLoopback reports whether ip is a loopback address.</p>
<h4 id="addr-ismulticasthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol540">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=540" target="_blank" rel="noopener">IsMulticast</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsMulticast</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsMulticast reports whether ip is a multicast address.</p>
<h4 id="addr-isprivatehttpscsopensourcegooglegogogo1201srcnetnetipnetipgol611">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=611" target="_blank" rel="noopener">IsPrivate</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsPrivate</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsPrivate reports whether ip is a private address, according to <a href="https://rfc-editor.org/rfc/rfc1918.html" target="_blank" rel="noopener">RFC 1918</a> (IPv4 addresses) and <a href="https://rfc-editor.org/rfc/rfc4193.html" target="_blank" rel="noopener">RFC 4193</a> (IPv6 addresses). That is, it reports whether ip is in 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16, or fc00::/7. This is the same as net.IP.IsPrivate.</p>
<h4 id="addr-isunspecifiedhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol634">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=634" target="_blank" rel="noopener">IsUnspecified</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsUnspecified</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsUnspecified reports whether ip is an unspecified address, either the IPv4 address &ldquo;0.0.0.0&rdquo; or the IPv6 address &ldquo;::&rdquo;.</p>
<p>Note that the zero Addr is not an unspecified address.</p>
<h4 id="addr-isvalidhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol382">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=382" target="_blank" rel="noopener">IsValid</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">IsValid</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsValid reports whether the Addr is an initialized address (not the zero Addr).</p>
<p>Note that &ldquo;0.0.0.0&rdquo; and &ldquo;::&rdquo; are both valid values.</p>
<h4 id="addr-lesshttpscsopensourcegooglegogogo1201srcnetnetipnetipgol448">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=448" target="_blank" rel="noopener">Less</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Less</span>(<span style="color:#e06c75">ip2</span> <span style="color:#e06c75">Addr</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Less reports whether ip sorts before ip2. IP addresses sort first by length, then their address. IPv6 addresses with zones sort just after the same address without a zone.</p>
<h4 id="addr-marshalbinaryhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1000">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1000" target="_blank" rel="noopener">MarshalBinary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">MarshalBinary</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalBinary implements the encoding.BinaryMarshaler interface. It returns a zero-length slice for the zero Addr, the 4-byte form for an IPv4 address, and the 16-byte form with zone appended for an IPv6 address.</p>
<h4 id="addr-marshaltexthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol938">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=938" target="_blank" rel="noopener">MarshalText</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">MarshalText</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalText implements the encoding.TextMarshaler interface, The encoding is the same as returned by String, with one exception: If ip is the zero Addr, the encoding is the empty string.</p>
<h4 id="addr-nexthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol714">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=714" target="_blank" rel="noopener">Next</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Next</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Next returns the address following ip. If there is none, it returns the zero Addr.</p>
<h4 id="addr-prefixhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol643">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=643" target="_blank" rel="noopener">Prefix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Prefix</span>(<span style="color:#e06c75">b</span> <span style="color:#e5c07b">int</span>) (<span style="color:#e06c75">Prefix</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Prefix keeps only the top b bits of IP, producing a Prefix of the specified length. If ip is a zero Addr, Prefix always returns a zero Prefix and a nil error. Otherwise, if bits is less than zero or greater than ip.BitLen(), Prefix returns an error.</p>
<h4 id="addr-prevhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol732">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=732" target="_blank" rel="noopener">Prev</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Prev</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Prev returns the IP before ip. If there is none, it returns the IP zero value.</p>
<h4 id="addr-stringhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol756">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=756" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>String returns the string form of the IP address ip. It returns one of 5 forms:</p>
<ul>
<li>&ldquo;invalid IP&rdquo;, if ip is the zero Addr</li>
<li>IPv4 dotted decimal (&ldquo;192.0.2.1&rdquo;)</li>
<li>IPv6 (&ldquo;2001:db8::1&rdquo;)</li>
<li>&ldquo;::ffff:1.2.3.4&rdquo; (if Is4In6)</li>
<li>IPv6 with zone (&ldquo;fe80:db8::1%eth0&rdquo;)</li>
</ul>
<p>Note that unlike package net&rsquo;s IP.String method, IPv4-mapped IPv6 addresses format with a &ldquo;::ffff:&rdquo; prefix before the dotted quad.</p>
<h4 id="addr-stringexpandedhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol910">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=910" target="_blank" rel="noopener">StringExpanded</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">StringExpanded</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>StringExpanded is like String but IPv6 addresses are expanded with leading zeroes and no &ldquo;::&rdquo; compression. For example, &ldquo;2001:db8::1&rdquo; becomes &ldquo;2001:0db8:0000:0000:0000:0000:0000:0001&rdquo;.</p>
<h4 id="addr-unmaphttpscsopensourcegooglegogogo1201srcnetnetipnetipgol472">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=472" target="_blank" rel="noopener">Unmap</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Unmap</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Unmap returns ip with any IPv4-mapped IPv6 address prefix removed.</p>
<p>That is, if ip is an IPv6 address wrapping an IPv4 address, it returns the wrapped IPv4 address. Otherwise it returns ip unmodified.</p>
<h4 id="addr-unmarshalbinaryhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1006">(*Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1006" target="_blank" rel="noopener">UnmarshalBinary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">UnmarshalBinary</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnmarshalBinary implements the encoding.BinaryUnmarshaler interface. It expects data in the form generated by MarshalBinary.</p>
<h4 id="addr-unmarshaltexthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol968">(*Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=968" target="_blank" rel="noopener">UnmarshalText</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">UnmarshalText</span>(<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnmarshalText implements the encoding.TextUnmarshaler interface. The IP address is expected in a form accepted by ParseAddr.</p>
<p>If text is empty, UnmarshalText sets *ip to the zero Addr and returns no error.</p>
<h4 id="addr-withzonehttpscsopensourcegooglegogogo1201srcnetnetipnetipgol482">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=482" target="_blank" rel="noopener">WithZone</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">WithZone</span>(<span style="color:#e06c75">zone</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>WithZone returns an IP that&rsquo;s the same as ip but with the provided zone. If zone is empty, the zone is removed. If ip is an IPv4 address, WithZone is a no-op and returns ip unchanged.</p>
<h4 id="addr-zonehttpscsopensourcegooglegogogo1201srcnetnetipnetipgol400">(Addr) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=400" target="_blank" rel="noopener">Zone</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#61afef;font-weight:bold">Zone</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Zone returns ip&rsquo;s IPv6 scoped addressing zone, if any.</p>
<h3 id="type-addrporthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1026">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1026" target="_blank" rel="noopener">AddrPort</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">AddrPort</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>AddrPort is an IP and a port number.</p>
<h4 id="func-addrportfromhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1033">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1033" target="_blank" rel="noopener">AddrPortFrom</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">AddrPortFrom</span>(<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>, <span style="color:#e06c75">port</span> <span style="color:#e5c07b">uint16</span>) <span style="color:#e06c75">AddrPort</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AddrPortFrom returns an AddrPort with the provided IP and port. It does not allocate.</p>
<h4 id="func-mustparseaddrporthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1099">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1099" target="_blank" rel="noopener">MustParseAddrPort</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MustParseAddrPort</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">AddrPort</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>MustParseAddrPort calls ParseAddrPort(s) and panics on error. It is intended for use in tests with hard-coded strings.</p>
<h4 id="func-parseaddrporthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1074">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1074" target="_blank" rel="noopener">ParseAddrPort</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseAddrPort</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">AddrPort</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParseAddrPort parses s as an AddrPort.</p>
<p>It doesn&rsquo;t do any name resolution: both the address and the port must be numeric.</p>
<h4 id="addrport-addrhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1036">(AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1036" target="_blank" rel="noopener">Addr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">Addr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Addr returns p&rsquo;s IP address.</p>
<h4 id="addrport-appendtohttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1142">(AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1142" target="_blank" rel="noopener">AppendTo</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">AppendTo</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AppendTo appends a text encoding of p, as generated by MarshalText, to b and returns the extended buffer.</p>
<h4 id="addrport-isvalidhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1109">(AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1109" target="_blank" rel="noopener">IsValid</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">IsValid</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsValid reports whether p.Addr() is valid. All ports are valid, including zero.</p>
<h4 id="addrport-marshalbinaryhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1200">(AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1200" target="_blank" rel="noopener">MarshalBinary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">MarshalBinary</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalBinary implements the encoding.BinaryMarshaler interface. It returns Addr.MarshalBinary with an additional two bytes appended containing the port in little-endian.</p>
<h4 id="addrport-marshaltexthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1170">(AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1170" target="_blank" rel="noopener">MarshalText</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">MarshalText</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalText implements the encoding.TextMarshaler interface. The encoding is the same as returned by String, with one exception: if p.Addr() is the zero Addr, the encoding is the empty string.</p>
<h4 id="addrport-porthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1039">(AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1039" target="_blank" rel="noopener">Port</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">Port</span>() <span style="color:#e5c07b">uint16</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Port returns p&rsquo;s port.</p>
<h4 id="addrport-stringhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1111">(AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1111" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="addrport-unmarshalbinaryhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1208">(*AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1208" target="_blank" rel="noopener">UnmarshalBinary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">UnmarshalBinary</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnmarshalBinary implements the encoding.BinaryUnmarshaler interface. It expects data in the form generated by MarshalBinary.</p>
<h4 id="addrport-unmarshaltexthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1187">(*AddrPort) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1187" target="_blank" rel="noopener">UnmarshalText</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">AddrPort</span>) <span style="color:#61afef;font-weight:bold">UnmarshalText</span>(<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnmarshalText implements the encoding.TextUnmarshaler interface. The AddrPort is expected in a form generated by MarshalText or accepted by ParseAddrPort.</p>
<h3 id="type-prefixhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1225">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1225" target="_blank" rel="noopener">Prefix</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Prefix</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Prefix is an IP address prefix (CIDR) representing an IP network.</p>
<p>The first Bits() of Addr() are specified. The remaining bits match any address. The range of Bits() is [0,32] for IPv4 or [0,128] for IPv6.</p>
<h4 id="func-mustparseprefixhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1317">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1317" target="_blank" rel="noopener">MustParsePrefix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">MustParsePrefix</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">Prefix</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>MustParsePrefix calls ParsePrefix(s) and panics on error. It is intended for use in tests with hard-coded strings.</p>
<h4 id="func-parseprefixhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1286">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1286" target="_blank" rel="noopener">ParsePrefix</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParsePrefix</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Prefix</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParsePrefix parses s as an IP address prefix. The string can be in the form &ldquo;192.168.1.0/24&rdquo; or &ldquo;2001:db8::/32&rdquo;, the CIDR notation defined in <a href="https://rfc-editor.org/rfc/rfc4632.html" target="_blank" rel="noopener">RFC 4632</a> and <a href="https://rfc-editor.org/rfc/rfc4291.html" target="_blank" rel="noopener">RFC 4291</a>. IPv6 zones are not permitted in prefixes, and an error will be returned if a zone is present.</p>
<p>Note that masked address bits are not zeroed. Use Masked for that.</p>
<h4 id="func-prefixfromhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1250">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1250" target="_blank" rel="noopener">PrefixFrom</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">PrefixFrom</span>(<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>, <span style="color:#e06c75">bits</span> <span style="color:#e5c07b">int</span>) <span style="color:#e06c75">Prefix</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>PrefixFrom returns a Prefix with the provided IP address and bit prefix length.</p>
<p>It does not allocate. Unlike Addr.Prefix, PrefixFrom does not mask off the host bits of ip.</p>
<p>If bits is less than zero or greater than ip.BitLen, Prefix.Bits will return an invalid value -1.</p>
<h4 id="prefix-addrhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1262">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1262" target="_blank" rel="noopener">Addr</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">Addr</span>() <span style="color:#e06c75">Addr</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Addr returns p&rsquo;s IP address.</p>
<h4 id="prefix-appendtohttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1409">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1409" target="_blank" rel="noopener">AppendTo</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">AppendTo</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>AppendTo appends a text encoding of p, as generated by MarshalText, to b and returns the extended buffer.</p>
<h4 id="prefix-bitshttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1267">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1267" target="_blank" rel="noopener">Bits</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">Bits</span>() <span style="color:#e5c07b">int</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Bits returns p&rsquo;s prefix length.</p>
<p>It reports -1 if invalid.</p>
<h4 id="prefix-containshttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1343">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1343" target="_blank" rel="noopener">Contains</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">Contains</span>(<span style="color:#e06c75">ip</span> <span style="color:#e06c75">Addr</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Contains reports whether the network p includes ip.</p>
<p>An IPv4 address will not match an IPv6 prefix. An IPv4-mapped IPv6 address will not match an IPv4 prefix. A zero-value IP will not match any prefix. If ip has an IPv6 zone, Contains returns false, because Prefixes strip zones.</p>
<h4 id="prefix-issingleiphttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1277">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1277" target="_blank" rel="noopener">IsSingleIP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">IsSingleIP</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsSingleIP reports whether p contains exactly one IP.</p>
<h4 id="prefix-isvalidhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1272">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1272" target="_blank" rel="noopener">IsValid</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">IsValid</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsValid reports whether p.Bits() has a valid range for p.Addr(). If p.Addr() is the zero Addr, IsValid returns false. Note that if p is the zero Prefix, then p.IsValid() == false.</p>
<h4 id="prefix-marshalbinaryhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1467">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1467" target="_blank" rel="noopener">MarshalBinary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">MarshalBinary</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalBinary implements the encoding.BinaryMarshaler interface. It returns Addr.MarshalBinary with an additional byte appended containing the prefix bits.</p>
<h4 id="prefix-marshaltexthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1437">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1437" target="_blank" rel="noopener">MarshalText</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">MarshalText</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>MarshalText implements the encoding.TextMarshaler interface, The encoding is the same as returned by String, with one exception: If p is the zero value, the encoding is the empty string.</p>
<h4 id="prefix-maskedhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1329">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1329" target="_blank" rel="noopener">Masked</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">Masked</span>() <span style="color:#e06c75">Prefix</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Masked returns p in its canonical form, with all but the high p.Bits() bits of p.Addr() masked off.</p>
<p>If p is zero or otherwise invalid, Masked returns the zero Prefix.</p>
<h4 id="prefix-overlapshttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1373">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1373" target="_blank" rel="noopener">Overlaps</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">Overlaps</span>(<span style="color:#e06c75">o</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Overlaps reports whether p and o contain any IP addresses in common.</p>
<p>If p and o are of different address families or either have a zero IP, it reports false. Like the Contains method, a prefix with an IPv4-mapped IPv6 address is still treated as an IPv6 mask.</p>
<h4 id="prefix-stringhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1489">(Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1489" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>String returns the CIDR notation of p: &ldquo;<ip>/<bits>&rdquo;.</p>
<h4 id="prefix-unmarshalbinaryhttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1475">(*Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1475" target="_blank" rel="noopener">UnmarshalBinary</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">UnmarshalBinary</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnmarshalBinary implements the encoding.BinaryUnmarshaler interface. It expects data in the form generated by MarshalBinary.</p>
<h4 id="prefix-unmarshaltexthttpscsopensourcegooglegogogo1201srcnetnetipnetipgol1454">(*Prefix) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/netip/netip.go;l=1454" target="_blank" rel="noopener">UnmarshalText</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Prefix</span>) <span style="color:#61afef;font-weight:bold">UnmarshalText</span>(<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>UnmarshalText implements the encoding.TextUnmarshaler interface. The IP address is expected in a form accepted by ParsePrefix or generated by MarshalText.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-bae78cf600ee4c2981bdc336ff98ce41">11 - pprof</h1>
    
	<h1 id="pprof">pprof</h1>
<p><a href="https://pkg.go.dev/net/http/pprof@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/http/pprof@go1.20.1</a></p>
<p>Package pprof serves via its HTTP server runtime profiling data in the format expected by the pprof visualization tool.</p>
<p>The package is typically only imported for the side effect of registering its HTTP handlers. The handled paths all begin with /debug/pprof/.</p>
<p>To use pprof, link this package into your program:</p>
<pre tabindex="0"><code>import _ &#34;net/http/pprof&#34;
</code></pre><p>If your application is not already running an http server, you need to start one. Add &ldquo;net/http&rdquo; and &ldquo;log&rdquo; to your imports and the following code to your main function:</p>
<pre tabindex="0"><code>go func() {
	log.Println(http.ListenAndServe(&#34;localhost:6060&#34;, nil))
}()
</code></pre><p>By default, all the profiles listed in <a href="https://pkg.go.dev/runtime/pprof#Profile" target="_blank" rel="noopener">runtime/pprof.Profile</a> are available (via <a href="https://pkg.go.dev/net/http/pprof@go1.20.1#Handler" target="_blank" rel="noopener">Handler</a>), in addition to the <a href="https://pkg.go.dev/net/http/pprof@go1.20.1#Cmdline" target="_blank" rel="noopener">Cmdline</a>, <a href="https://pkg.go.dev/net/http/pprof@go1.20.1#Profile" target="_blank" rel="noopener">Profile</a>, <a href="https://pkg.go.dev/net/http/pprof@go1.20.1#Symbol" target="_blank" rel="noopener">Symbol</a>, and <a href="https://pkg.go.dev/net/http/pprof@go1.20.1#Trace" target="_blank" rel="noopener">Trace</a> profiles defined in this package. If you are not using DefaultServeMux, you will have to register handlers with the mux you are using.</p>
<h4 id="usage-examples">Usage examples</h4>
<p>Use the pprof tool to look at the heap profile:</p>
<pre tabindex="0"><code>go tool pprof http://localhost:6060/debug/pprof/heap
</code></pre><p>Or to look at a 30-second CPU profile:</p>
<pre tabindex="0"><code>go tool pprof http://localhost:6060/debug/pprof/profile?seconds=30
</code></pre><p>Or to look at the goroutine blocking profile, after calling runtime.SetBlockProfileRate in your program:</p>
<pre tabindex="0"><code>go tool pprof http://localhost:6060/debug/pprof/block
</code></pre><p>Or to look at the holders of contended mutexes, after calling runtime.SetMutexProfileFraction in your program:</p>
<pre tabindex="0"><code>go tool pprof http://localhost:6060/debug/pprof/mutex
</code></pre><p>The package also exports a handler that serves execution trace data for the &ldquo;go tool trace&rdquo; command. To collect a 5-second execution trace:</p>
<pre tabindex="0"><code>curl -o trace.out http://localhost:6060/debug/pprof/trace?seconds=5
go tool trace trace.out
</code></pre><p>To view all available profiles, open http://localhost:6060/debug/pprof/ in your browser.</p>
<p>For a study of the facility in action, visit</p>
<pre tabindex="0"><code>https://blog.golang.org/2011/06/profiling-go-programs.html
</code></pre><h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-cmdlinehttpscsopensourcegooglegogogo1201srcnethttppprofpprofgol96">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/pprof/pprof.go;l=96" target="_blank" rel="noopener">Cmdline</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Cmdline</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Cmdline responds with the running program&rsquo;s command line, with arguments separated by NUL bytes. The package initialization registers it as /debug/pprof/cmdline.</p>
<h4 id="func-handlerhttpscsopensourcegooglegogogo1201srcnethttppprofpprofgol231">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/pprof/pprof.go;l=231" target="_blank" rel="noopener">Handler</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Handler</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">http</span>.<span style="color:#e06c75">Handler</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Handler returns an HTTP handler that serves the named profile. Available profiles can be found in <a href="https://pkg.go.dev/runtime/pprof#Profile" target="_blank" rel="noopener">runtime/pprof.Profile</a>.</p>
<h4 id="func-indexhttpscsopensourcegooglegogogo1201srcnethttppprofpprofgol373">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/pprof/pprof.go;l=373" target="_blank" rel="noopener">Index</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Index</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Index responds with the pprof-formatted profile named by the request. For example, &ldquo;/debug/pprof/heap&rdquo; serves the &ldquo;heap&rdquo; profile. Index responds to a request for &ldquo;/debug/pprof/&rdquo; with an HTML page listing the available profiles.</p>
<h4 id="func-profilehttpscsopensourcegooglegogogo1201srcnethttppprofpprofgol125">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/pprof/pprof.go;l=125" target="_blank" rel="noopener">Profile</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Profile</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Profile responds with the pprof-formatted cpu profile. Profiling lasts for duration specified in seconds GET parameter, or for 30 seconds if not specified. The package initialization registers it as /debug/pprof/profile.</p>
<h4 id="func-symbolhttpscsopensourcegooglegogogo1201srcnethttppprofpprofgol183">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/pprof/pprof.go;l=183" target="_blank" rel="noopener">Symbol</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Symbol</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Symbol looks up the program counters listed in the request, responding with a table mapping program counters to function names. The package initialization registers it as /debug/pprof/symbol.</p>
<h4 id="func-tracehttpscsopensourcegooglegogogo1201srcnethttppprofpprofgol154----go15">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/http/pprof/pprof.go;l=154" target="_blank" rel="noopener">Trace</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Trace</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Trace responds with the execution trace in binary form. Tracing lasts for duration specified in seconds GET parameter, or for 1 second if not specified. The package initialization registers it as /debug/pprof/trace.</p>
<h2 id="类型">类型</h2>
<p>This section is empty.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9bea481715b4c6f677f772d95bc1830b">12 - rpc</h1>
    
	<h1 id="rpc">rpc</h1>
<p><a href="https://pkg.go.dev/net/rpc@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/rpc@go1.20.1</a></p>
<p>Package rpc provides access to the exported methods of an object across a network or other I/O connection. A server registers an object, making it visible as a service with the name of the type of the object. After registration, exported methods of the object will be accessible remotely. A server may register multiple objects (services) of different types but it is an error to register multiple objects of the same type.</p>
<p>​	rpc包提供了通过网络或其他I/O连接访问对象导出方法的方式。服务器注册一个对象，使其作为一个带有该对象类型名称的服务可见。注册后，对象的导出方法将可以远程访问。服务器可以注册多个不同类型的对象(服务)，但注册多个相同类型的对象是错误的。</p>
<p>Only methods that satisfy these criteria will be made available for remote access; other methods will be ignored:</p>
<p>仅满足以下条件的方法才可供远程访问，其他方法将被忽略：</p>
<ul>
<li>the method&rsquo;s type is exported.</li>
<li>the method is exported.</li>
<li>the method has two arguments, both exported (or builtin) types.</li>
<li>the method&rsquo;s second argument is a pointer.</li>
<li>the method has return type error.</li>
<li>方法的类型是导出的。</li>
<li>方法是导出的。</li>
<li>方法有两个参数，均为导出(或内置)类型。</li>
<li>方法的第二个参数是一个指针。</li>
<li>方法有返回类型错误。</li>
</ul>
<p>In effect, the method must look schematically like</p>
<p>实际上，方法的原型应该看起来像这样：</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">T</span>) <span style="color:#61afef;font-weight:bold">MethodName</span>(<span style="color:#e06c75">argType</span> <span style="color:#e06c75">T1</span>, <span style="color:#e06c75">replyType</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">T2</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>where T1 and T2 can be marshaled by encoding/gob. These requirements apply even if a different codec is used. (In the future, these requirements may soften for custom codecs.)</p>
<p>其中T1和T2可以通过encoding/gob编组。即使使用不同的编解码器，这些要求也适用。(未来，这些要求可能会放宽以用于自定义编解码器。)</p>
<p>The method&rsquo;s first argument represents the arguments provided by the caller; the second argument represents the result parameters to be returned to the caller. The method&rsquo;s return value, if non-nil, is passed back as a string that the client sees as if created by errors.New. If an error is returned, the reply parameter will not be sent back to the client.</p>
<p>方法的第一个参数表示调用者提供的参数；第二个参数表示要返回给调用者的结果参数。如果方法的返回值非空，则作为字符串传回给客户端，客户端将看到它如同由errors.New创建。如果返回一个错误，则回复参数不会发送回客户端。</p>
<p>The server may handle requests on a single connection by calling ServeConn. More typically it will create a network listener and call Accept or, for an HTTP listener, HandleHTTP and http.Serve.</p>
<p>服务器可以通过调用ServeConn在单个连接上处理请求。更典型的是，它将创建一个网络监听器并调用Accept或对于HTTP监听器，则为HandleHTTP和http.Serve。</p>
<p>A client wishing to use the service establishes a connection and then invokes NewClient on the connection. The convenience function Dial (DialHTTP) performs both steps for a raw network connection (an HTTP connection). The resulting Client object has two methods, Call and Go, that specify the service and method to call, a pointer containing the arguments, and a pointer to receive the result parameters.</p>
<p>希望使用服务的客户端建立连接，然后在连接上调用NewClient。便捷函数Dial(DialHTTP)为原始网络连接(HTTP连接)执行两个步骤。生成的Client对象有两个方法，Call和Go，指定要调用的服务和方法，一个指向参数的指针以及一个指向接收结果参数的指针。</p>
<p>The Call method waits for the remote call to complete while the Go method launches the call asynchronously and signals completion using the Call structure&rsquo;s Done channel.</p>
<p>Call方法等待远程调用完成，而Go方法以异步方式启动调用，并使用Call结构体的Done通道表示完成。</p>
<p>Unless an explicit codec is set up, package encoding/gob is used to transport the data.</p>
<p>除非设置了显式编解码器，否则使用encoding/gob包传输数据。</p>
<p>Here is a simple example. A server wishes to export an object of type Arith:</p>
<p>以下是一个简单的示例。服务器希望导出Arith类型的对象：</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">server</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> <span style="color:#98c379">&#34;errors&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Args</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">A</span>, <span style="color:#e06c75">B</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Quotient</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Quo</span>, <span style="color:#e06c75">Rem</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Arith</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Arith</span>) <span style="color:#61afef;font-weight:bold">Multiply</span>(<span style="color:#e06c75">args</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Args</span>, <span style="color:#e06c75">reply</span> <span style="color:#56b6c2">*</span><span style="color:#e5c07b">int</span>) <span style="color:#e5c07b">error</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#56b6c2">*</span><span style="color:#e06c75">reply</span> = <span style="color:#e06c75">args</span>.<span style="color:#e06c75">A</span> <span style="color:#56b6c2">*</span> <span style="color:#e06c75">args</span>.<span style="color:#e06c75">B</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e5c07b">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">t</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Arith</span>) <span style="color:#61afef;font-weight:bold">Divide</span>(<span style="color:#e06c75">args</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Args</span>, <span style="color:#e06c75">quo</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Quotient</span>) <span style="color:#e5c07b">error</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">if</span> <span style="color:#e06c75">args</span>.<span style="color:#e06c75">B</span> <span style="color:#56b6c2">==</span> <span style="color:#d19a66">0</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#c678dd">return</span> <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;divide by zero&#34;</span>)
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">quo</span>.<span style="color:#e06c75">Quo</span> = <span style="color:#e06c75">args</span>.<span style="color:#e06c75">A</span> <span style="color:#56b6c2">/</span> <span style="color:#e06c75">args</span>.<span style="color:#e06c75">B</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">quo</span>.<span style="color:#e06c75">Rem</span> = <span style="color:#e06c75">args</span>.<span style="color:#e06c75">A</span> <span style="color:#56b6c2">%</span> <span style="color:#e06c75">args</span>.<span style="color:#e06c75">B</span>
</span></span><span style="display:flex;"><span>	<span style="color:#c678dd">return</span> <span style="color:#e5c07b">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>The server calls (for HTTP service):</p>
<p>服务器调用(用于 HTTP 服务)：</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#e06c75">arith</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">new</span>(<span style="color:#e06c75">Arith</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">rpc</span>.<span style="color:#61afef;font-weight:bold">Register</span>(<span style="color:#e06c75">arith</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">rpc</span>.<span style="color:#61afef;font-weight:bold">HandleHTTP</span>()
</span></span><span style="display:flex;"><span><span style="color:#e06c75">l</span>, <span style="color:#e06c75">e</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">net</span>.<span style="color:#61afef;font-weight:bold">Listen</span>(<span style="color:#98c379">&#34;tcp&#34;</span>, <span style="color:#98c379">&#34;:1234&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#c678dd">if</span> <span style="color:#e06c75">e</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#98c379">&#34;listen error:&#34;</span>, <span style="color:#e06c75">e</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">go</span> <span style="color:#e06c75">http</span>.<span style="color:#61afef;font-weight:bold">Serve</span>(<span style="color:#e06c75">l</span>, <span style="color:#e5c07b">nil</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>At this point, clients can see a service &ldquo;Arith&rdquo; with methods &ldquo;Arith.Multiply&rdquo; and &ldquo;Arith.Divide&rdquo;. To invoke one, a client first dials the server:</p>
<p>此时，客户端可以看到一个名为&quot;Arith&quot;的服务，其具有&quot;Arith.Multiply&quot;和&quot;Arith.Divide&quot;方法。要调用其中一个，客户端首先要拨号到服务器：</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#e06c75">client</span>, <span style="color:#e06c75">err</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">rpc</span>.<span style="color:#61afef;font-weight:bold">DialHTTP</span>(<span style="color:#98c379">&#34;tcp&#34;</span>, <span style="color:#e06c75">serverAddress</span> <span style="color:#56b6c2">+</span> <span style="color:#98c379">&#34;:1234&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#98c379">&#34;dialing:&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Then it can make a remote call:</p>
<p>然后可以进行远程调用：</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 同步调用
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">args</span> <span style="color:#56b6c2">:=</span> <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">server</span>.<span style="color:#e06c75">Args</span>{<span style="color:#d19a66">7</span>,<span style="color:#d19a66">8</span>}
</span></span><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">reply</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span><span style="color:#e06c75">err</span> = <span style="color:#e06c75">client</span>.<span style="color:#61afef;font-weight:bold">Call</span>(<span style="color:#98c379">&#34;Arith.Multiply&#34;</span>, <span style="color:#e06c75">args</span>, <span style="color:#56b6c2">&amp;</span><span style="color:#e06c75">reply</span>)
</span></span><span style="display:flex;"><span><span style="color:#c678dd">if</span> <span style="color:#e06c75">err</span> <span style="color:#56b6c2">!=</span> <span style="color:#e5c07b">nil</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">log</span>.<span style="color:#61afef;font-weight:bold">Fatal</span>(<span style="color:#98c379">&#34;arith error:&#34;</span>, <span style="color:#e06c75">err</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Printf</span>(<span style="color:#98c379">&#34;Arith: %d*%d=%d&#34;</span>, <span style="color:#e06c75">args</span>.<span style="color:#e06c75">A</span>, <span style="color:#e06c75">args</span>.<span style="color:#e06c75">B</span>, <span style="color:#e06c75">reply</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>或</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#7f848e">// 异步调用
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span><span style="color:#e06c75">quotient</span> <span style="color:#56b6c2">:=</span> <span style="color:#e5c07b">new</span>(<span style="color:#e06c75">Quotient</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">divCall</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">client</span>.<span style="color:#61afef;font-weight:bold">Go</span>(<span style="color:#98c379">&#34;Arith.Divide&#34;</span>, <span style="color:#e06c75">args</span>, <span style="color:#e06c75">quotient</span>, <span style="color:#e5c07b">nil</span>)
</span></span><span style="display:flex;"><span><span style="color:#e06c75">replyCall</span> <span style="color:#56b6c2">:=</span> <span style="color:#56b6c2">&lt;-</span><span style="color:#e06c75">divCall</span>.<span style="color:#e06c75">Done</span>	<span style="color:#7f848e">//  将等于 divCall
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e">// 检查错误，打印等等
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>A server implementation will often provide a simple, type-safe wrapper for the client.</p>
<p>服务器实现通常会为客户端提供一个简单、类型安全的包装器。</p>
<p>The net/rpc package is frozen and is not accepting new features.</p>
<p>net/rpc 包已经被冻结，不再接受新功能。</p>
<h2 id="常量">常量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=143" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">const</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// HandleHTTP使用的默认值
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">DefaultRPCPath</span>   = <span style="color:#98c379">&#34;/_goRPC_&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">DefaultDebugPath</span> = <span style="color:#98c379">&#34;/debug/rpc&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="变量">变量</h2>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=202" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">DefaultServer</span> = <span style="color:#61afef;font-weight:bold">NewServer</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>DefaultServer is the default instance of *Server.</p>
<p>​	DefaultServer是<code>*Server</code>的默认实例。</p>
<p><a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=26" target="_blank" rel="noopener">View Source</a></p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">var</span> <span style="color:#e06c75">ErrShutdown</span> = <span style="color:#e06c75">errors</span>.<span style="color:#61afef;font-weight:bold">New</span>(<span style="color:#98c379">&#34;connection is shut down&#34;</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="函数">函数</h2>
<h4 id="func-accepthttpscsopensourcegooglegogogo1201srcnetrpcservergol690">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=690" target="_blank" rel="noopener">Accept</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Accept</span>(<span style="color:#e06c75">lis</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Accept accepts connections on the listener and serves requests to DefaultServer for each incoming connection. Accept blocks; the caller typically invokes it in a go statement.</p>
<p>​	Accept函数在侦听器上接受连接，并为每个传入连接为DefaultServer提供请求。 Accept将阻塞； 调用者通常在go语句中调用它。</p>
<h4 id="func-handlehttphttpscsopensourcegooglegogogo1201srcnetrpcservergol723">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=723" target="_blank" rel="noopener">HandleHTTP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">HandleHTTP</span>()
</span></span></code></pre></td></tr></table>
</div>
</div><p>HandleHTTP registers an HTTP handler for RPC messages to DefaultServer on DefaultRPCPath and a debugging handler on DefaultDebugPath. It is still necessary to invoke http.Serve(), typically in a go statement.</p>
<p>​	HandleHTTP函数在DefaultRPCPath上为RPC消息注册HTTP处理程序到DefaultServer，并在DefaultDebugPath上注册调试处理程序。 仍然需要调用http.Serve()，通常在go语句中调用。</p>
<h4 id="func-registerhttpscsopensourcegooglegogogo1201srcnetrpcservergol640">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=640" target="_blank" rel="noopener">Register</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Register</span>(<span style="color:#e06c75">rcvr</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Register publishes the receiver&rsquo;s methods in the DefaultServer.</p>
<p>​	Register函数在DefaultServer中发布接收器的方法。</p>
<h4 id="func-registernamehttpscsopensourcegooglegogogo1201srcnetrpcservergol644">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=644" target="_blank" rel="noopener">RegisterName</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">RegisterName</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">rcvr</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>RegisterName is like Register but uses the provided name for the type instead of the receiver&rsquo;s concrete type.</p>
<p>​	RegisterName函数类似于Register函数，但使用提供的名称替换接收器的具体类型。</p>
<h4 id="func-servecodechttpscsopensourcegooglegogogo1201srcnetrpcservergol677">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=677" target="_blank" rel="noopener">ServeCodec</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ServeCodec</span>(<span style="color:#e06c75">codec</span> <span style="color:#e06c75">ServerCodec</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServeCodec is like ServeConn but uses the specified codec to decode requests and encode responses.</p>
<p>​	ServeCodec函数类似于ServeConn函数，但使用指定的编解码器解码请求和编码响应。</p>
<h4 id="func-serveconnhttpscsopensourcegooglegogogo1201srcnetrpcservergol671">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=671" target="_blank" rel="noopener">ServeConn</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ServeConn</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadWriteCloser</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServeConn runs the DefaultServer on a single connection. ServeConn blocks, serving the connection until the client hangs up. The caller typically invokes ServeConn in a go statement. ServeConn uses the gob wire format (see package gob) on the connection. To use an alternate codec, use ServeCodec. See NewClient&rsquo;s comment for information about concurrent access.</p>
<p>​	ServeConn函数在单个连接上运行 DefaultServer。ServeConn函数会阻塞，直到客户端挂断连接。通常调用者会在go语句中调用ServeConn。ServeConn函数在连接上使用gob wire格式(请参见package gob)。要使用替代编解码器，请使用ServeCodec函数。有关并发访问的信息，请参阅NewClient函数的注释。</p>
<h4 id="func-serverequesthttpscsopensourcegooglegogogo1201srcnetrpcservergol683">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=683" target="_blank" rel="noopener">ServeRequest</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ServeRequest</span>(<span style="color:#e06c75">codec</span> <span style="color:#e06c75">ServerCodec</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServeRequest is like ServeCodec but synchronously serves a single request. It does not close the codec upon completion.</p>
<p>​	ServeRequest函数类似于ServeCodec函数，但是同步服务一个单一请求。完成后不会关闭编解码器。</p>
<h2 id="类型">类型</h2>
<h3 id="type-callhttpscsopensourcegooglegogogo1201srcnetrpcclientgol29">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=29" target="_blank" rel="noopener">Call</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Call</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ServiceMethod</span> <span style="color:#e5c07b">string</span>     <span style="color:#7f848e">// The name of the service and method to call.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Args</span>          <span style="color:#e06c75">any</span>        <span style="color:#7f848e">// The argument to the function (*struct).
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Reply</span>         <span style="color:#e06c75">any</span>        <span style="color:#7f848e">// The reply from the function (*struct).
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Error</span>         <span style="color:#e5c07b">error</span>      <span style="color:#7f848e">// After completion, the error status.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Done</span>          <span style="color:#c678dd">chan</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Call</span> <span style="color:#7f848e">// Receives *Call when Go is complete.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Call represents an active RPC.</p>
<p>​	Call代表一个活动的RPC。</p>
<h3 id="type-clienthttpscsopensourcegooglegogogo1201srcnetrpcclientgol41">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=41" target="_blank" rel="noopener">Client</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Client</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Client represents an RPC Client. There may be multiple outstanding Calls associated with a single Client, and a Client may be used by multiple goroutines simultaneously.</p>
<p>​	Client代表一个RPC客户端。一个Client可能与多个Outstanding Calls相关联，并且一个Client可能被多个goroutine同时使用。</p>
<h4 id="func-dialhttpscsopensourcegooglegogogo1201srcnetrpcclientgol273">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=273" target="_blank" rel="noopener">Dial</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Dial</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Dial connects to an RPC server at the specified network address.</p>
<p>​	Dial函数连接到指定网络地址的RPC服务器。</p>
<h4 id="func-dialhttphttpscsopensourcegooglegogogo1201srcnetrpcclientgol241">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=241" target="_blank" rel="noopener">DialHTTP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DialHTTP</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>DialHTTP connects to an HTTP RPC server at the specified network address listening on the default HTTP RPC path.</p>
<p>​	DialHTTP函数连接到指定网络地址上的HTTP RPC服务器，监听默认的HTTP RPC路径。</p>
<h4 id="func-dialhttppathhttpscsopensourcegooglegogogo1201srcnetrpcclientgol247">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=247" target="_blank" rel="noopener">DialHTTPPath</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">DialHTTPPath</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span>, <span style="color:#e06c75">path</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>DialHTTPPath connects to an HTTP RPC server at the specified network address and path.</p>
<p>​	DialHTTPPath函数连接到指定网络地址和路径的HTTP RPC服务器。</p>
<h4 id="func-newclienthttpscsopensourcegooglegogogo1201srcnetrpcclientgol193">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=193" target="_blank" rel="noopener">NewClient</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewClient</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadWriteCloser</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewClient returns a new Client to handle requests to the set of services at the other end of the connection. It adds a buffer to the write side of the connection so the header and payload are sent as a unit.</p>
<p>​	NewClient函数返回一个新的Client，以处理连接另一端的服务集合的请求。它在连接的写入端添加一个缓冲区，以便标头和负载作为一个单元发送。</p>
<p>The read and write halves of the connection are serialized independently, so no interlocking is required. However each half may be accessed concurrently so the implementation of conn should protect against concurrent reads or concurrent writes.</p>
<p>​	连接的读取和写入部分独立进行序列化，因此不需要交错。但是，每个部分可能会同时访问，因此conn的实现应保护并发读取或并发写入。</p>
<h4 id="func-newclientwithcodechttpscsopensourcegooglegogogo1201srcnetrpcclientgol201">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=201" target="_blank" rel="noopener">NewClientWithCodec</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewClientWithCodec</span>(<span style="color:#e06c75">codec</span> <span style="color:#e06c75">ClientCodec</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewClientWithCodec is like NewClient but uses the specified codec to encode requests and decode responses.</p>
<p>​	NewClientWithCodec函数与 NewClient函数类似，但使用指定的编解码器对请求进行编码和响应进行解码。</p>
<h4 id="client-callhttpscsopensourcegooglegogogo1201srcnetrpcclientgol320">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=320" target="_blank" rel="noopener">Call</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">client</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Call</span>(<span style="color:#e06c75">serviceMethod</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">args</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">reply</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Call invokes the named function, waits for it to complete, and returns its error status.</p>
<p>​	Call方法调用指定的函数，等待它完成，并返回其错误状态。</p>
<h4 id="client-closehttpscsopensourcegooglegogogo1201srcnetrpcclientgol283">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=283" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">client</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Close calls the underlying codec&rsquo;s Close method. If the connection is already shutting down, ErrShutdown is returned.</p>
<p>​	Close方法调用底层编解码器的 Close 方法。如果连接已经在关闭，则返回 ErrShutdown。</p>
<h4 id="client-gohttpscsopensourcegooglegogogo1201srcnetrpcclientgol298">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=298" target="_blank" rel="noopener">Go</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">client</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Go</span>(<span style="color:#e06c75">serviceMethod</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">args</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">reply</span> <span style="color:#e06c75">any</span>, <span style="color:#e06c75">done</span> <span style="color:#c678dd">chan</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Call</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Call</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Go invokes the function asynchronously. It returns the Call structure representing the invocation. The done channel will signal when the call is complete by returning the same Call object. If done is nil, Go will allocate a new channel. If non-nil, done must be buffered or Go will deliberately crash.</p>
<p>​	Go方法异步地调用函数。它返回表示调用的 Call 结构体。当调用完成时，done 信道会通过返回相同的 Call 对象来发出信号。如果 done 是 nil，则 Go 会分配一个新的信道。如果 done 不是 nil，则必须是有缓冲的，否则 Go 将会故意崩溃。</p>
<h3 id="type-clientcodechttpscsopensourcegooglegogogo1201srcnetrpcclientgol63">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=63" target="_blank" rel="noopener">ClientCodec</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ClientCodec</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">WriteRequest</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>, <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">ReadResponseHeader</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">ReadResponseBody</span>(<span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A ClientCodec implements writing of RPC requests and reading of RPC responses for the client side of an RPC session. The client calls WriteRequest to write a request to the connection and calls ReadResponseHeader and ReadResponseBody in pairs to read responses. The client calls Close when finished with the connection. ReadResponseBody may be called with a nil argument to force the body of the response to be read and then discarded. See NewClient&rsquo;s comment for information about concurrent access.</p>
<p>​	ClientCodec 实现了 RPC 会话的客户端一侧的 RPC 请求的写入和响应的读取。客户端调用 WriteRequest 将请求写入连接，调用 ReadResponseHeader 和 ReadResponseBody 成对地读取响应。客户端在完成连接时调用 Close。可以将 ReadResponseBody 调用为 nil 参数，以强制读取响应体并随后丢弃。有关并发访问的信息，请参见 NewClient 的注释。</p>
<h3 id="type-requesthttpscsopensourcegooglegogogo1201srcnetrpcservergol171">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=171" target="_blank" rel="noopener">Request</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Request</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ServiceMethod</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// format: &#34;Service.Method&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Seq</span>           <span style="color:#e5c07b">uint64</span> <span style="color:#7f848e">// 由客户端选择的序列号
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Request is a header written before every RPC call. It is used internally but documented here as an aid to debugging, such as when analyzing network traffic.</p>
<p>​	Request 是每个 RPC 调用前写入的头。它在内部使用，但在此文档中作为调试辅助工具进行记录，例如在分析网络流量时使用。</p>
<h3 id="type-responsehttpscsopensourcegooglegogogo1201srcnetrpcservergol180">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=180" target="_blank" rel="noopener">Response</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Response</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">ServiceMethod</span> <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// 与 Request 相同
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Seq</span>           <span style="color:#e5c07b">uint64</span> <span style="color:#7f848e">// 与请求的序列号相同
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Error</span>         <span style="color:#e5c07b">string</span> <span style="color:#7f848e">// 错误(如果有)。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Response is a header written before every RPC return. It is used internally but documented here as an aid to debugging, such as when analyzing network traffic.</p>
<p>​	Response 是每个 RPC 返回前写入的头。它在内部使用，但在此文档中作为调试辅助工具进行记录，例如在分析网络流量时使用。</p>
<h3 id="type-serverhttpscsopensourcegooglegogogo1201srcnetrpcservergol188">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=188" target="_blank" rel="noopener">Server</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Server</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Server represents an RPC Server.</p>
<p>​	Server 表示一个 RPC 服务器。</p>
<h4 id="func-newserverhttpscsopensourcegooglegogogo1201srcnetrpcservergol197">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=197" target="_blank" rel="noopener">NewServer</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewServer</span>() <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewServer returns a new Server.</p>
<p>​	NewServer函数返回一个新的 Server。</p>
<h4 id="server-accepthttpscsopensourcegooglegogogo1201srcnetrpcservergol628">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=628" target="_blank" rel="noopener">Accept</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Accept</span>(<span style="color:#e06c75">lis</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Listener</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Accept accepts connections on the listener and serves requests for each incoming connection. Accept blocks until the listener returns a non-nil error. The caller typically invokes Accept in a go statement.</p>
<p>​	Accept方法在侦听器上接受连接并为每个传入的连接提供请求服务。Accept 阻塞，直到侦听器返回非 nil 错误。通常在 go 语句中调用 Accept。</p>
<h4 id="server-handlehttphttpscsopensourcegooglegogogo1201srcnetrpcservergol715">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=715" target="_blank" rel="noopener">HandleHTTP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">HandleHTTP</span>(<span style="color:#e06c75">rpcPath</span>, <span style="color:#e06c75">debugPath</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>HandleHTTP registers an HTTP handler for RPC messages on rpcPath, and a debugging handler on debugPath. It is still necessary to invoke http.Serve(), typically in a go statement.</p>
<p>​	HandleHTTP方法为 rpcPath 上的 RPC 消息注册一个 HTTP 处理程序，并在 debugPath 上注册一个调试处理程序。仍然需要调用 http.Serve()，通常在 go 语句中。</p>
<h4 id="server-registerhttpscsopensourcegooglegogogo1201srcnetrpcservergol225">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=225" target="_blank" rel="noopener">Register</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">Register</span>(<span style="color:#e06c75">rcvr</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Register publishes in the server the set of methods of the receiver value that satisfy the following conditions:</p>
<p>​	Register方法在服务器中发布接收器值的方法集，这些方法满足以下条件：</p>
<ul>
<li>exported method of exported type</li>
<li>two arguments, both of exported type</li>
<li>the second argument is a pointer</li>
<li>one return value, of type error</li>
<li>导出类型的导出方法</li>
<li>两个参数，均为导出类型</li>
<li>第二个参数是一个指针</li>
<li>一个返回类型为 error 的返回值</li>
</ul>
<p>It returns an error if the receiver is not an exported type or has no suitable methods. It also logs the error using package log. The client accesses each method using a string of the form &ldquo;Type.Method&rdquo;, where Type is the receiver&rsquo;s concrete type.</p>
<p>​	如果接收器不是导出类型或没有合适的方法，则返回错误。它还使用包记录记录错误。客户端使用&quot;Type.Method&quot;格式的字符串访问每个方法，其中 Type 是接收器的具体类型。</p>
<h4 id="server-registernamehttpscsopensourcegooglegogogo1201srcnetrpcservergol231">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=231" target="_blank" rel="noopener">RegisterName</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">RegisterName</span>(<span style="color:#e06c75">name</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">rcvr</span> <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>RegisterName is like Register but uses the provided name for the type instead of the receiver&rsquo;s concrete type.</p>
<p>​	RegisterName方法类似于 Register方法，但使用提供的名称替换接收器的具体类型。</p>
<h4 id="server-servecodechttpscsopensourcegooglegogogo1201srcnetrpcservergol459">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=459" target="_blank" rel="noopener">ServeCodec</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">ServeCodec</span>(<span style="color:#e06c75">codec</span> <span style="color:#e06c75">ServerCodec</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServeCodec is like ServeConn but uses the specified codec to decode requests and encode responses.</p>
<p>​	ServeCodec方法类似 ServeConn方法，但使用指定的编解码器解码请求和编码响应。</p>
<h4 id="server-serveconnhttpscsopensourcegooglegogogo1201srcnetrpcservergol446">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=446" target="_blank" rel="noopener">ServeConn</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">ServeConn</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadWriteCloser</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServeConn runs the server on a single connection. ServeConn blocks, serving the connection until the client hangs up. The caller typically invokes ServeConn in a go statement. ServeConn uses the gob wire format (see package gob) on the connection. To use an alternate codec, use ServeCodec. See NewClient&rsquo;s comment for information about concurrent access.</p>
<p>​	ServeConn方法在单个连接上运行服务器。ServeConn方法阻塞，直到客户端挂断连接为止。调用方通常在一个 go 语句中调用 ServeConn方法。ServeConn方法在连接上使用 gob wire 格式(参见 gob 包)。要使用其他编解码器，请使用 ServeCodec方法。有关并发访问的信息，请参见 NewClient 的注释。</p>
<h4 id="server-servehttphttpscsopensourcegooglegogogo1201srcnetrpcservergol696">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=696" target="_blank" rel="noopener">ServeHTTP</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">ServeHTTP</span>(<span style="color:#e06c75">w</span> <span style="color:#e06c75">http</span>.<span style="color:#e06c75">ResponseWriter</span>, <span style="color:#e06c75">req</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">http</span>.<span style="color:#e06c75">Request</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServeHTTP implements an http.Handler that answers RPC requests.</p>
<p>ServeHTTP 实现了一个 http.Handler，用于响应 RPC 请求。</p>
<h4 id="server-serverequesthttpscsopensourcegooglegogogo1201srcnetrpcservergol489">(*Server) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=489" target="_blank" rel="noopener">ServeRequest</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Server</span>) <span style="color:#61afef;font-weight:bold">ServeRequest</span>(<span style="color:#e06c75">codec</span> <span style="color:#e06c75">ServerCodec</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServeRequest is like ServeCodec but synchronously serves a single request. It does not close the codec upon completion.</p>
<p>​	ServeRequest方法类似 ServeCodec，但同步地提供单个请求服务。完成后不关闭编解码器。</p>
<h3 id="type-servercodechttpscsopensourcegooglegogogo1201srcnetrpcservergol656">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/server.go;l=656" target="_blank" rel="noopener">ServerCodec</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ServerCodec</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">ReadRequestHeader</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">Request</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">ReadRequestBody</span>(<span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>	<span style="color:#61afef;font-weight:bold">WriteResponse</span>(<span style="color:#56b6c2">*</span><span style="color:#e06c75">Response</span>, <span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Close can be called multiple times and must be idempotent.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>    <span style="color:#7f848e">// Close 可以被多次调用，必须是幂等的。
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A ServerCodec implements reading of RPC requests and writing of RPC responses for the server side of an RPC session. The server calls ReadRequestHeader and ReadRequestBody in pairs to read requests from the connection, and it calls WriteResponse to write a response back. The server calls Close when finished with the connection. ReadRequestBody may be called with a nil argument to force the body of the request to be read and discarded. See NewClient&rsquo;s comment for information about concurrent access.</p>
<p>​	ServerCodec 实现了读取 RPC 请求和写入 RPC 响应的功能，用于 RPC 会话的服务器端。服务器以成对的方式调用 ReadRequestHeader 和 ReadRequestBody 从连接中读取请求，并调用 WriteResponse 写入响应。服务器在完成连接后调用 Close。可以使用 nil 参数调用 ReadRequestBody，以强制读取并丢弃请求的正文。有关并发访问的信息，请参见 NewClient 的注释。</p>
<h3 id="type-servererrorhttpscsopensourcegooglegogogo1201srcnetrpcclientgol20">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=20" target="_blank" rel="noopener">ServerError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ServerError</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServerError represents an error that has been returned from the remote side of the RPC connection.</p>
<p>ServerError 表示从 RPC 连接的远程一侧返回的错误。</p>
<h4 id="servererror-errorhttpscsopensourcegooglegogogo1201srcnetrpcclientgol22">(ServerError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/client.go;l=22" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">ServerError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e52459f96373b1ae37a94d681e912d3b">13 - rpc/jsonrpc</h1>
    
	<h1 id="jsonrpc">jsonrpc</h1>
<p><a href="https://pkg.go.dev/net/rpc/jsonrpc@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/rpc/jsonrpc@go1.20.1</a></p>
<p>Package jsonrpc implements a JSON-RPC 1.0 ClientCodec and ServerCodec for the rpc package. For JSON-RPC 2.0 support, see <a href="https://godoc.org/?q=json-rpc&#43;2.0" target="_blank" rel="noopener">https://godoc.org/?q=json-rpc+2.0</a></p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-dialhttpscsopensourcegooglegogogo1201srcnetrpcjsonrpcclientgol118">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/jsonrpc/client.go;l=118" target="_blank" rel="noopener">Dial</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Dial</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">address</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">rpc</span>.<span style="color:#e06c75">Client</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Dial connects to a JSON-RPC server at the specified network address.</p>
<h4 id="func-newclienthttpscsopensourcegooglegogogo1201srcnetrpcjsonrpcclientgol113">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/jsonrpc/client.go;l=113" target="_blank" rel="noopener">NewClient</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewClient</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadWriteCloser</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">rpc</span>.<span style="color:#e06c75">Client</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewClient returns a new rpc.Client to handle requests to the set of services at the other end of the connection.</p>
<h4 id="func-newclientcodechttpscsopensourcegooglegogogo1201srcnetrpcjsonrpcclientgol37">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/jsonrpc/client.go;l=37" target="_blank" rel="noopener">NewClientCodec</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewClientCodec</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadWriteCloser</span>) <span style="color:#e06c75">rpc</span>.<span style="color:#e06c75">ClientCodec</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewClientCodec returns a new rpc.ClientCodec using JSON-RPC on conn.</p>
<h4 id="func-newservercodechttpscsopensourcegooglegogogo1201srcnetrpcjsonrpcservergol37">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/jsonrpc/server.go;l=37" target="_blank" rel="noopener">NewServerCodec</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewServerCodec</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadWriteCloser</span>) <span style="color:#e06c75">rpc</span>.<span style="color:#e06c75">ServerCodec</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewServerCodec returns a new rpc.ServerCodec using JSON-RPC on conn.</p>
<h4 id="func-serveconnhttpscsopensourcegooglegogogo1201srcnetrpcjsonrpcservergol132">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/rpc/jsonrpc/server.go;l=132" target="_blank" rel="noopener">ServeConn</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ServeConn</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadWriteCloser</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServeConn runs the JSON-RPC server on a single connection. ServeConn blocks, serving the connection until the client hangs up. The caller typically invokes ServeConn in a go statement.</p>
<h2 id="类型">类型</h2>
<p>This section is empty.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-38d868b5afe19f6268f2ca6f425bcdf7">14 - smtp</h1>
    
	<h1 id="smtp">smtp</h1>
<p><a href="https://pkg.go.dev/net/smtp@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/smtp@go1.20.1</a></p>
<p>Package smtp implements the Simple Mail Transfer Protocol as defined in <a href="https://rfc-editor.org/rfc/rfc5321.html" target="_blank" rel="noopener">RFC 5321</a>. It also implements the following extensions:</p>
<pre tabindex="0"><code>8BITMIME  RFC 1652
AUTH      RFC 2554
STARTTLS  RFC 3207
</code></pre><p>Additional extensions may be handled by clients.</p>
<p>The smtp package is frozen and is not accepting new features. Some external packages provide more functionality. See:</p>
<pre tabindex="0"><code>https://godoc.org/?q=smtp
</code></pre><h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-sendmailhttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol321">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=321" target="_blank" rel="noopener">SendMail</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">SendMail</span>(<span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">a</span> <span style="color:#e06c75">Auth</span>, <span style="color:#e06c75">from</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">to</span> []<span style="color:#e5c07b">string</span>, <span style="color:#e06c75">msg</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>SendMail connects to the server at addr, switches to TLS if possible, authenticates with the optional mechanism a if possible, and then sends an email from address from, to addresses to, with message msg. The addr must include a port, as in &ldquo;mail.example.com:smtp&rdquo;.</p>
<p>The addresses in the to parameter are the SMTP RCPT addresses.</p>
<p>The msg parameter should be an <a href="https://rfc-editor.org/rfc/rfc822.html" target="_blank" rel="noopener">RFC 822</a>-style email with headers first, a blank line, and then the message body. The lines of msg should be CRLF terminated. The msg headers should usually include fields such as &ldquo;From&rdquo;, &ldquo;To&rdquo;, &ldquo;Subject&rdquo;, and &ldquo;Cc&rdquo;. Sending &ldquo;Bcc&rdquo; messages is accomplished by including an email address in the to parameter but not including it in the msg headers.</p>
<p>The SendMail function and the net/smtp package are low-level mechanisms and provide no support for DKIM signing, MIME attachments (see the mime/multipart package), or other mail functionality. Higher-level packages exist outside of the standard library.</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="类型">类型</h2>
<h3 id="type-authhttpscsopensourcegooglegogogo1201srcnetsmtpauthgol15">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/auth.go;l=15" target="_blank" rel="noopener">Auth</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Auth</span> <span style="color:#c678dd">interface</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Start begins an authentication with a server.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// It returns the name of the authentication protocol
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// and optionally data to include in the initial AUTH message
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// sent to the server.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If it returns a non-nil error, the SMTP client aborts
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the authentication attempt and closes the connection.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Start</span>(<span style="color:#e06c75">server</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">ServerInfo</span>) (<span style="color:#e06c75">proto</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">toServer</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Next continues the authentication. The server has just sent
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the fromServer data. If more is true, the server expects a
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// response, which Next should return as toServer; otherwise
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// Next should return toServer == nil.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// If Next returns a non-nil error, the SMTP client aborts
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// the authentication attempt and closes the connection.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#61afef;font-weight:bold">Next</span>(<span style="color:#e06c75">fromServer</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">more</span> <span style="color:#e5c07b">bool</span>) (<span style="color:#e06c75">toServer</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Auth is implemented by an SMTP authentication mechanism.</p>
<h4 id="func-crammd5authhttpscsopensourcegooglegogogo1201srcnetsmtpauthgol93">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/auth.go;l=93" target="_blank" rel="noopener">CRAMMD5Auth</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">CRAMMD5Auth</span>(<span style="color:#e06c75">username</span>, <span style="color:#e06c75">secret</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">Auth</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>CRAMMD5Auth returns an Auth that implements the CRAM-MD5 authentication mechanism as defined in <a href="https://rfc-editor.org/rfc/rfc2195.html" target="_blank" rel="noopener">RFC 2195</a>. The returned Auth uses the given username and secret to authenticate to the server using the challenge-response mechanism.</p>
<h4 id="func-plainauthhttpscsopensourcegooglegogogo1201srcnetsmtpauthgol53">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/auth.go;l=53" target="_blank" rel="noopener">PlainAuth</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">PlainAuth</span>(<span style="color:#e06c75">identity</span>, <span style="color:#e06c75">username</span>, <span style="color:#e06c75">password</span>, <span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) <span style="color:#e06c75">Auth</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>PlainAuth returns an Auth that implements the PLAIN authentication mechanism as defined in <a href="https://rfc-editor.org/rfc/rfc4616.html" target="_blank" rel="noopener">RFC 4616</a>. The returned Auth uses the given username and password to authenticate to host and act as identity. Usually identity should be the empty string, to act as username.</p>
<p>PlainAuth will only send the credentials if the connection is using TLS or is connected to localhost. Otherwise authentication will fail with an error, without sending the credentials.</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h3 id="type-clienthttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol32">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=32" target="_blank" rel="noopener">Client</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Client</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// Text is the textproto.Conn used by the Client. It is exported to allow for
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#7f848e">// clients to add extensions.
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Text</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">textproto</span>.<span style="color:#e06c75">Conn</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Client represents a client connection to an SMTP server.</p>
<h4 id="func-dialhttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol53">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=53" target="_blank" rel="noopener">Dial</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Dial</span>(<span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Dial returns a new Client connected to an SMTP server at addr. The addr must include a port, as in &ldquo;mail.example.com:smtp&rdquo;.</p>
<h4 id="func-newclienthttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol64">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=64" target="_blank" rel="noopener">NewClient</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewClient</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">net</span>.<span style="color:#e06c75">Conn</span>, <span style="color:#e06c75">host</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewClient returns a new Client using an existing connection and host as a server name to be used when authenticating.</p>
<h4 id="client-authhttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol197">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=197" target="_blank" rel="noopener">Auth</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Auth</span>(<span style="color:#e06c75">a</span> <span style="color:#e06c75">Auth</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Auth authenticates a client using the provided authentication mechanism. A failed authentication closes the connection. Only servers that advertise the AUTH extension support this function.</p>
<h4 id="client-closehttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol77----go12">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=77" target="_blank" rel="noopener">Close</a>  &lt;- go1.2</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Close closes the connection.</p>
<h4 id="client-datahttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol291">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=291" target="_blank" rel="noopener">Data</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Data</span>() (<span style="color:#e06c75">io</span>.<span style="color:#e06c75">WriteCloser</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Data issues a DATA command to the server and returns a writer that can be used to write the mail headers and body. The caller should close the writer before calling any more methods on c. A call to Data must be preceded by one or more calls to Rcpt.</p>
<h4 id="client-extensionhttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol382">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=382" target="_blank" rel="noopener">Extension</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Extension</span>(<span style="color:#e06c75">ext</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e5c07b">bool</span>, <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Extension reports whether an extension is support by the server. The extension name is case-insensitive. If the extension is supported, Extension also returns a string that contains any parameters the server specifies for the extension.</p>
<h4 id="client-hellohttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol98----go11">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=98" target="_blank" rel="noopener">Hello</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Hello</span>(<span style="color:#e06c75">localName</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hello sends a HELO or EHLO to the server as the given host name. Calling this method is only necessary if the client needs control over the host name used. The client will introduce itself as &ldquo;localhost&rdquo; automatically otherwise. If Hello is called, it must be called before any of the other methods.</p>
<h4 id="client-mailhttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol245">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=245" target="_blank" rel="noopener">Mail</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Mail</span>(<span style="color:#e06c75">from</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Mail issues a MAIL command to the server using the provided email address. If the server supports the 8BITMIME extension, Mail adds the BODY=8BITMIME parameter. If the server supports the SMTPUTF8 extension, Mail adds the SMTPUTF8 parameter. This initiates a mail transaction and is followed by one or more Rcpt calls.</p>
<h4 id="client-noophttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol406----go110">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=406" target="_blank" rel="noopener">Noop</a>  &lt;- go1.10</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Noop</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Noop sends the NOOP command to the server. It does nothing but check that the connection to the server is okay.</p>
<h4 id="client-quithttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol415">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=415" target="_blank" rel="noopener">Quit</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Quit</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Quit sends the QUIT command and closes the connection to the server.</p>
<h4 id="client-rcpthttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol268">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=268" target="_blank" rel="noopener">Rcpt</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Rcpt</span>(<span style="color:#e06c75">to</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Rcpt issues a RCPT command to the server using the provided email address. A call to Rcpt must be preceded by a call to Mail and may be followed by a Data call or another Rcpt call.</p>
<h4 id="client-resethttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol396">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=396" target="_blank" rel="noopener">Reset</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Reset</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Reset sends the RSET command to the server, aborting the current mail transaction.</p>
<h4 id="client-starttlshttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol154">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=154" target="_blank" rel="noopener">StartTLS</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">StartTLS</span>(<span style="color:#e06c75">config</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">tls</span>.<span style="color:#e06c75">Config</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>StartTLS sends the STARTTLS command and encrypts all further communication. Only servers that advertise the STARTTLS extension support this function.</p>
<h4 id="client-tlsconnectionstatehttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol171----go15">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=171" target="_blank" rel="noopener">TLSConnectionState</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">TLSConnectionState</span>() (<span style="color:#e06c75">state</span> <span style="color:#e06c75">tls</span>.<span style="color:#e06c75">ConnectionState</span>, <span style="color:#e06c75">ok</span> <span style="color:#e5c07b">bool</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>TLSConnectionState returns the client&rsquo;s TLS connection state. The return values are their zero values if StartTLS did not succeed.</p>
<h4 id="client-verifyhttpscsopensourcegooglegogogo1201srcnetsmtpsmtpgol183">(*Client) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/smtp.go;l=183" target="_blank" rel="noopener">Verify</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Client</span>) <span style="color:#61afef;font-weight:bold">Verify</span>(<span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Verify checks the validity of an email address on the server. If Verify returns nil, the address is valid. A non-nil return does not necessarily indicate an invalid address. Many servers will not verify addresses for security reasons.</p>
<h3 id="type-serverinfohttpscsopensourcegooglegogogo1201srcnetsmtpauthgol34">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/smtp/auth.go;l=34" target="_blank" rel="noopener">ServerInfo</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ServerInfo</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Name</span> <span style="color:#e5c07b">string</span>   <span style="color:#7f848e">// SMTP server name
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">TLS</span>  <span style="color:#e5c07b">bool</span>     <span style="color:#7f848e">// using TLS, with valid certificate for Name
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Auth</span> []<span style="color:#e5c07b">string</span> <span style="color:#7f848e">// advertised authentication mechanisms
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>ServerInfo records information about an SMTP server.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-db75a0c60bbb76e542a805cfa15196c4">15 - textproto</h1>
    
	<h1 id="textproto">textproto</h1>
<p><a href="https://pkg.go.dev/net/textproto@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/textproto@go1.20.1</a></p>
<p>Package textproto implements generic support for text-based request/response protocols in the style of HTTP, NNTP, and SMTP.</p>
<p>The package provides:</p>
<p>Error, which represents a numeric error response from a server.</p>
<p>Pipeline, to manage pipelined requests and responses in a client.</p>
<p>Reader, to read numeric response code lines, key: value headers, lines wrapped with leading spaces on continuation lines, and whole text blocks ending with a dot on a line by itself.</p>
<p>Writer, to write dot-encoded text blocks.</p>
<p>Conn, a convenient packaging of Reader, Writer, and Pipeline for use with a single network connection.</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-canonicalmimeheaderkeyhttpscsopensourcegooglegogogo1201srcnettextprotoreadergol605">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=605" target="_blank" rel="noopener">CanonicalMIMEHeaderKey</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">CanonicalMIMEHeaderKey</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>CanonicalMIMEHeaderKey returns the canonical format of the MIME header key s. The canonicalization converts the first letter and any letter following a hyphen to upper case; the rest are converted to lowercase. For example, the canonical key for &ldquo;accept-encoding&rdquo; is &ldquo;Accept-Encoding&rdquo;. MIME header keys are assumed to be ASCII only. If s contains a space or invalid header field bytes, it is returned without modifications.</p>
<h4 id="func-trimbyteshttpscsopensourcegooglegogogo1201srcnettextprototextprotogol135----go11">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=135" target="_blank" rel="noopener">TrimBytes</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">TrimBytes</span>(<span style="color:#e06c75">b</span> []<span style="color:#e5c07b">byte</span>) []<span style="color:#e5c07b">byte</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>TrimBytes returns b without leading and trailing ASCII space.</p>
<h4 id="func-trimstringhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol124----go11">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=124" target="_blank" rel="noopener">TrimString</a>  &lt;- go1.1</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">TrimString</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>TrimString returns s without leading and trailing ASCII space.</p>
<h2 id="类型">类型</h2>
<h3 id="type-connhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol57">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=57" target="_blank" rel="noopener">Conn</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Conn</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Reader</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Writer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Pipeline</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Conn represents a textual network protocol connection. It consists of a Reader and Writer to manage I/O and a Pipeline to sequence concurrent requests on the connection. These embedded types carry methods with them; see the documentation of those types for details.</p>
<h4 id="func-dialhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol80">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=80" target="_blank" rel="noopener">Dial</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Dial</span>(<span style="color:#e06c75">network</span>, <span style="color:#e06c75">addr</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">Conn</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Dial connects to the given address on the given network using net.Dial and then returns a new Conn for the connection.</p>
<h4 id="func-newconnhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol65">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=65" target="_blank" rel="noopener">NewConn</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewConn</span>(<span style="color:#e06c75">conn</span> <span style="color:#e06c75">io</span>.<span style="color:#e06c75">ReadWriteCloser</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Conn</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewConn returns a new Conn using conn for I/O.</p>
<h4 id="conn-closehttpscsopensourcegooglegogogo1201srcnettextprototextprotogol74">(*Conn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=74" target="_blank" rel="noopener">Close</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Conn</span>) <span style="color:#61afef;font-weight:bold">Close</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Close closes the connection.</p>
<h4 id="conn-cmdhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol112">(*Conn) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=112" target="_blank" rel="noopener">Cmd</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">c</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Conn</span>) <span style="color:#61afef;font-weight:bold">Cmd</span>(<span style="color:#e06c75">format</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">args</span> <span style="color:#56b6c2">...</span><span style="color:#e06c75">any</span>) (<span style="color:#e06c75">id</span> <span style="color:#e5c07b">uint</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Cmd is a convenience method that sends a command after waiting its turn in the pipeline. The command text is the result of formatting format with args and appending \r\n. Cmd returns the id of the command, for use with StartResponse and EndResponse.</p>
<p>For example, a client might run a HELP command that returns a dot-body by using:</p>
<pre tabindex="0"><code>id, err := c.Cmd(&#34;HELP&#34;)
if err != nil {
	return nil, err
}

c.StartResponse(id)
defer c.EndResponse(id)

if _, _, err = c.ReadCodeLine(110); err != nil {
	return nil, err
}
text, err := c.ReadDotBytes()
if err != nil {
	return nil, err
}
return c.ReadCodeLine(250)
</code></pre><h3 id="type-errorhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol35">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=35" target="_blank" rel="noopener">Error</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Error</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Code</span> <span style="color:#e5c07b">int</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Msg</span>  <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>An Error represents a numeric error response from a server.</p>
<h4 id="error-errorhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol40">(*Error) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=40" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Error</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-mimeheaderhttpscsopensourcegooglegogogo1201srcnettextprotoheadergol9">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/header.go;l=9" target="_blank" rel="noopener">MIMEHeader</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">MIMEHeader</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>][]<span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>A MIMEHeader represents a MIME-style header mapping keys to sets of values.</p>
<h4 id="mimeheader-addhttpscsopensourcegooglegogogo1201srcnettextprotoheadergol13">(MIMEHeader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/header.go;l=13" target="_blank" rel="noopener">Add</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">MIMEHeader</span>) <span style="color:#61afef;font-weight:bold">Add</span>(<span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Add adds the key, value pair to the header. It appends to any existing values associated with key.</p>
<h4 id="mimeheader-delhttpscsopensourcegooglegogogo1201srcnettextprotoheadergol54">(MIMEHeader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/header.go;l=54" target="_blank" rel="noopener">Del</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">MIMEHeader</span>) <span style="color:#61afef;font-weight:bold">Del</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Del deletes the values associated with key.</p>
<h4 id="mimeheader-gethttpscsopensourcegooglegogogo1201srcnettextprotoheadergol30">(MIMEHeader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/header.go;l=30" target="_blank" rel="noopener">Get</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">MIMEHeader</span>) <span style="color:#61afef;font-weight:bold">Get</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Get gets the first value associated with the given key. It is case insensitive; CanonicalMIMEHeaderKey is used to canonicalize the provided key. If there are no values associated with the key, Get returns &ldquo;&rdquo;. To use non-canonical keys, access the map directly.</p>
<h4 id="mimeheader-sethttpscsopensourcegooglegogogo1201srcnettextprotoheadergol21">(MIMEHeader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/header.go;l=21" target="_blank" rel="noopener">Set</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">MIMEHeader</span>) <span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Set sets the header entries associated with key to the single element value. It replaces any existing values associated with key.</p>
<h4 id="mimeheader-valueshttpscsopensourcegooglegogogo1201srcnettextprotoheadergol46----go114">(MIMEHeader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/header.go;l=46" target="_blank" rel="noopener">Values</a>  &lt;- go1.14</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">h</span> <span style="color:#e06c75">MIMEHeader</span>) <span style="color:#61afef;font-weight:bold">Values</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) []<span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Values returns all values associated with the given key. It is case insensitive; CanonicalMIMEHeaderKey is used to canonicalize the provided key. To use non-canonical keys, access the map directly. The returned slice is not a copy.</p>
<h3 id="type-pipelinehttpscsopensourcegooglegogogo1201srcnettextprotopipelinegol28">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/pipeline.go;l=28" target="_blank" rel="noopener">Pipeline</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Pipeline</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Pipeline manages a pipelined in-order request/response sequence.</p>
<p>To use a Pipeline p to manage multiple clients on a connection, each client should run:</p>
<pre tabindex="0"><code>id := p.Next()	// take a number

p.StartRequest(id)	// wait for turn to send request
«send request»
p.EndRequest(id)	// notify Pipeline that request is sent

p.StartResponse(id)	// wait for turn to read response
«read response»
p.EndResponse(id)	// notify Pipeline that response is read
</code></pre><p>A pipelined server can use the same calls to ensure that responses computed in parallel are written in the correct order.</p>
<h4 id="pipeline-endrequesthttpscsopensourcegooglegogogo1201srcnettextprotopipelinegol52">(*Pipeline) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/pipeline.go;l=52" target="_blank" rel="noopener">EndRequest</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Pipeline</span>) <span style="color:#61afef;font-weight:bold">EndRequest</span>(<span style="color:#e06c75">id</span> <span style="color:#e5c07b">uint</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>EndRequest notifies p that the request with the given id has been sent (or, if this is a server, received).</p>
<h4 id="pipeline-endresponsehttpscsopensourcegooglegogogo1201srcnettextprotopipelinegol64">(*Pipeline) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/pipeline.go;l=64" target="_blank" rel="noopener">EndResponse</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Pipeline</span>) <span style="color:#61afef;font-weight:bold">EndResponse</span>(<span style="color:#e06c75">id</span> <span style="color:#e5c07b">uint</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>EndResponse notifies p that the response with the given id has been received (or, if this is a server, sent).</p>
<h4 id="pipeline-nexthttpscsopensourcegooglegogogo1201srcnettextprotopipelinegol36">(*Pipeline) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/pipeline.go;l=36" target="_blank" rel="noopener">Next</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Pipeline</span>) <span style="color:#61afef;font-weight:bold">Next</span>() <span style="color:#e5c07b">uint</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Next returns the next id for a request/response pair.</p>
<h4 id="pipeline-startrequesthttpscsopensourcegooglegogogo1201srcnettextprotopipelinegol46">(*Pipeline) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/pipeline.go;l=46" target="_blank" rel="noopener">StartRequest</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Pipeline</span>) <span style="color:#61afef;font-weight:bold">StartRequest</span>(<span style="color:#e06c75">id</span> <span style="color:#e5c07b">uint</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>StartRequest blocks until it is time to send (or, if this is a server, receive) the request with the given id.</p>
<h4 id="pipeline-startresponsehttpscsopensourcegooglegogogo1201srcnettextprotopipelinegol58">(*Pipeline) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/pipeline.go;l=58" target="_blank" rel="noopener">StartResponse</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Pipeline</span>) <span style="color:#61afef;font-weight:bold">StartResponse</span>(<span style="color:#e06c75">id</span> <span style="color:#e5c07b">uint</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>StartResponse blocks until it is time to receive (or, if this is a server, send) the request with the given id.</p>
<h3 id="type-protocolerrorhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol46">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=46" target="_blank" rel="noopener">ProtocolError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">ProtocolError</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>A ProtocolError describes a protocol violation such as an invalid response or a hung-up connection.</p>
<h4 id="protocolerror-errorhttpscsopensourcegooglegogogo1201srcnettextprototextprotogol48">(ProtocolError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/textproto.go;l=48" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">p</span> <span style="color:#e06c75">ProtocolError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-readerhttpscsopensourcegooglegogogo1201srcnettextprotoreadergol21">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=21" target="_blank" rel="noopener">Reader</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Reader</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">R</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">Reader</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Reader implements convenience methods for reading requests or responses from a text protocol network connection.</p>
<h4 id="func-newreaderhttpscsopensourcegooglegogogo1201srcnettextprotoreadergol32">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=32" target="_blank" rel="noopener">NewReader</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewReader</span>(<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">Reader</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewReader returns a new Reader reading from r.</p>
<p>To avoid denial of service attacks, the provided bufio.Reader should be reading from an io.LimitReader or similar Reader to bound the size of responses.</p>
<h4 id="reader-dotreaderhttpscsopensourcegooglegogogo1201srcnettextprotoreadergol308">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=308" target="_blank" rel="noopener">DotReader</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">DotReader</span>() <span style="color:#e06c75">io</span>.<span style="color:#e06c75">Reader</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>DotReader returns a new Reader that satisfies Reads using the decoded text of a dot-encoded block read from r. The returned Reader is only valid until the next call to a method on r.</p>
<p>Dot encoding is a common framing used for data blocks in text protocols such as SMTP. The data consists of a sequence of lines, each of which ends in &ldquo;\r\n&rdquo;. The sequence itself ends at a line containing just a dot: &ldquo;.\r\n&rdquo;. Lines beginning with a dot are escaped with an additional dot to avoid looking like the end of the sequence.</p>
<p>The decoded form returned by the Reader&rsquo;s Read method rewrites the &ldquo;\r\n&rdquo; line endings into the simpler &ldquo;\n&rdquo;, removes leading dot escapes if present, and stops with error io.EOF after consuming (and discarding) the end-of-sequence line.</p>
<h4 id="reader-readcodelinehttpscsopensourcegooglegogogo1201srcnettextprotoreadergol232">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=232" target="_blank" rel="noopener">ReadCodeLine</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadCodeLine</span>(<span style="color:#e06c75">expectCode</span> <span style="color:#e5c07b">int</span>) (<span style="color:#e06c75">code</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">message</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadCodeLine reads a response code line of the form</p>
<pre tabindex="0"><code>code message
</code></pre><p>where code is a three-digit status code and the message extends to the rest of the line. An example of such a line is:</p>
<pre tabindex="0"><code>220 plan9.bell-labs.com ESMTP
</code></pre><p>If the prefix of the status does not match the digits in expectCode, ReadCodeLine returns with err set to &amp;Error{code, message}. For example, if expectCode is 31, an error will be returned if the status is not in the range [310,319].</p>
<p>If the response is multi-line, ReadCodeLine returns an error.</p>
<p>An expectCode &lt;= 0 disables the check of the status code.</p>
<h4 id="reader-readcontinuedlinehttpscsopensourcegooglegogogo1201srcnettextprotoreadergol90">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=90" target="_blank" rel="noopener">ReadContinuedLine</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadContinuedLine</span>() (<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadContinuedLine reads a possibly continued line from r, eliding the final trailing ASCII white space. Lines after the first are considered continuations if they begin with a space or tab character. In the returned data, continuation lines are separated from the previous line only by a single space: the newline and leading white space are removed.</p>
<p>For example, consider this input:</p>
<pre tabindex="0"><code>Line 1
  continued...
Line 2
</code></pre><p>The first call to ReadContinuedLine will return &ldquo;Line 1 continued&hellip;&rdquo; and the second will return &ldquo;Line 2&rdquo;.</p>
<p>Empty lines are never continued.</p>
<h4 id="reader-readcontinuedlinebyteshttpscsopensourcegooglegogogo1201srcnettextprotoreadergol111">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=111" target="_blank" rel="noopener">ReadContinuedLineBytes</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadContinuedLineBytes</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadContinuedLineBytes is like ReadContinuedLine but returns a []byte instead of a string.</p>
<h4 id="reader-readdotbyteshttpscsopensourcegooglegogogo1201srcnettextprotoreadergol424">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=424" target="_blank" rel="noopener">ReadDotBytes</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadDotBytes</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadDotBytes reads a dot-encoding and returns the decoded data.</p>
<p>See the documentation for the DotReader method for details about dot-encoding.</p>
<h4 id="reader-readdotlineshttpscsopensourcegooglegogogo1201srcnettextprotoreadergol432">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=432" target="_blank" rel="noopener">ReadDotLines</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadDotLines</span>() ([]<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadDotLines reads a dot-encoding and returns a slice containing the decoded lines, with the final \r\n or \n elided from each.</p>
<p>See the documentation for the DotReader method for details about dot-encoding.</p>
<h4 id="reader-readlinehttpscsopensourcegooglegogogo1201srcnettextprotoreadergol38">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=38" target="_blank" rel="noopener">ReadLine</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadLine</span>() (<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadLine reads a single line from r, eliding the final \n or \r\n from the returned string.</p>
<h4 id="reader-readlinebyteshttpscsopensourcegooglegogogo1201srcnettextprotoreadergol44">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=44" target="_blank" rel="noopener">ReadLineBytes</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadLineBytes</span>() ([]<span style="color:#e5c07b">byte</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadLineBytes is like ReadLine but returns a []byte instead of a string.</p>
<h4 id="reader-readmimeheaderhttpscsopensourcegooglegogogo1201srcnettextprotoreadergol481">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=481" target="_blank" rel="noopener">ReadMIMEHeader</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadMIMEHeader</span>() (<span style="color:#e06c75">MIMEHeader</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadMIMEHeader reads a MIME-style header from r. The header is a sequence of possibly continued Key: Value lines ending in a blank line. The returned map m maps CanonicalMIMEHeaderKey(key) to a sequence of values in the same order encountered in the input.</p>
<p>For example, consider this input:</p>
<pre tabindex="0"><code>My-Key: Value 1
Long-Key: Even
       Longer Value
My-Key: Value 2
</code></pre><p>Given that input, ReadMIMEHeader returns the map:</p>
<pre tabindex="0"><code>map[string][]string{
	&#34;My-Key&#34;: {&#34;Value 1&#34;, &#34;Value 2&#34;},
	&#34;Long-Key&#34;: {&#34;Even Longer Value&#34;},
}
</code></pre><h4 id="reader-readresponsehttpscsopensourcegooglegogogo1201srcnettextprotoreadergol266">(*Reader) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/reader.go;l=266" target="_blank" rel="noopener">ReadResponse</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">r</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Reader</span>) <span style="color:#61afef;font-weight:bold">ReadResponse</span>(<span style="color:#e06c75">expectCode</span> <span style="color:#e5c07b">int</span>) (<span style="color:#e06c75">code</span> <span style="color:#e5c07b">int</span>, <span style="color:#e06c75">message</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ReadResponse reads a multi-line response of the form:</p>
<pre tabindex="0"><code>code-message line 1
code-message line 2
...
code message line n
</code></pre><p>where code is a three-digit status code. The first line starts with the code and a hyphen. The response is terminated by a line that starts with the same code followed by a space. Each line in message is separated by a newline (\n).</p>
<p>See page 36 of <a href="https://rfc-editor.org/rfc/rfc959.html" target="_blank" rel="noopener">RFC 959</a> (<a href="https://www.ietf.org/rfc/rfc959.txt" target="_blank" rel="noopener">https://www.ietf.org/rfc/rfc959.txt</a>) for details of another form of response accepted:</p>
<pre tabindex="0"><code>code-message line 1
message line 2
...
code message line n
</code></pre><p>If the prefix of the status does not match the digits in expectCode, ReadResponse returns with err set to &amp;Error{code, message}. For example, if expectCode is 31, an error will be returned if the status is not in the range [310,319].</p>
<p>An expectCode &lt;= 0 disables the check of the status code.</p>
<h3 id="type-writerhttpscsopensourcegooglegogogo1201srcnettextprotowritergol15">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/writer.go;l=15" target="_blank" rel="noopener">Writer</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Writer</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">W</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">Writer</span>
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A Writer implements convenience methods for writing requests or responses to a text protocol network connection.</p>
<h4 id="func-newwriterhttpscsopensourcegooglegogogo1201srcnettextprotowritergol21">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/writer.go;l=21" target="_blank" rel="noopener">NewWriter</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">NewWriter</span>(<span style="color:#e06c75">w</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">bufio</span>.<span style="color:#e06c75">Writer</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Writer</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>NewWriter returns a new Writer writing to w.</p>
<h4 id="writer-dotwriterhttpscsopensourcegooglegogogo1201srcnettextprotowritergol43">(*Writer) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/writer.go;l=43" target="_blank" rel="noopener">DotWriter</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">w</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Writer</span>) <span style="color:#61afef;font-weight:bold">DotWriter</span>() <span style="color:#e06c75">io</span>.<span style="color:#e06c75">WriteCloser</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>DotWriter returns a writer that can be used to write a dot-encoding to w. It takes care of inserting leading dots when necessary, translating line-ending \n into \r\n, and adding the final .\r\n line when the DotWriter is closed. The caller should close the DotWriter before the next call to a method on w.</p>
<p>See the documentation for Reader&rsquo;s DotReader method for details about dot-encoding.</p>
<h4 id="writer-printflinehttpscsopensourcegooglegogogo1201srcnettextprotowritergol29">(*Writer) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/textproto/writer.go;l=29" target="_blank" rel="noopener">PrintfLine</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">w</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Writer</span>) <span style="color:#61afef;font-weight:bold">PrintfLine</span>(<span style="color:#e06c75">format</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">args</span> <span style="color:#56b6c2">...</span><span style="color:#e06c75">any</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>PrintfLine writes the formatted output followed by \r\n.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2a20afd5223256f7356597b86d8178b3">16 - url</h1>
    
	<h1 id="url">url</h1>
<p><a href="https://pkg.go.dev/net/url@go1.20.1" target="_blank" rel="noopener">https://pkg.go.dev/net/url@go1.20.1</a></p>
<p>Package url parses URLs and implements query escaping.</p>
<h2 id="常量">常量</h2>
<p>This section is empty.</p>
<h2 id="变量">变量</h2>
<p>This section is empty.</p>
<h2 id="函数">函数</h2>
<h4 id="func-joinpathhttpscsopensourcegooglegogogo1201srcneturlurlgol1261----go119">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1261" target="_blank" rel="noopener">JoinPath</a>  &lt;- go1.19</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">JoinPath</span>(<span style="color:#e06c75">base</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">elem</span> <span style="color:#56b6c2">...</span><span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">result</span> <span style="color:#e5c07b">string</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>JoinPath returns a URL string with the provided path elements joined to the existing path of base and the resulting path cleaned of any ./ or ../ elements.</p>
<h4 id="func-pathescapehttpscsopensourcegooglegogogo1201srcneturlurlgol281----go18">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=281" target="_blank" rel="noopener">PathEscape</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">PathEscape</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>PathEscape escapes the string so it can be safely placed inside a URL path segment, replacing special characters (including /) with %XX sequences as needed.</p>
<h5 id="example">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-pathunescapehttpscsopensourcegooglegogogo1201srcneturlurlgol194----go18">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=194" target="_blank" rel="noopener">PathUnescape</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">PathUnescape</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>PathUnescape does the inverse transformation of PathEscape, converting each 3-byte encoded substring of the form &ldquo;%AB&rdquo; into the hex-decoded byte 0xAB. It returns an error if any % is not followed by two hexadecimal digits.</p>
<p>PathUnescape is identical to QueryUnescape except that it does not unescape &lsquo;+&rsquo; to &rsquo; &rsquo; (space).</p>
<h5 id="example-1">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-queryescapehttpscsopensourcegooglegogogo1201srcneturlurlgol275">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=275" target="_blank" rel="noopener">QueryEscape</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">QueryEscape</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>QueryEscape escapes the string so it can be safely placed inside a URL query.</p>
<h5 id="example-2">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-queryunescapehttpscsopensourcegooglegogogo1201srcneturlurlgol183">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=183" target="_blank" rel="noopener">QueryUnescape</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">QueryUnescape</span>(<span style="color:#e06c75">s</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>QueryUnescape does the inverse transformation of QueryEscape, converting each 3-byte encoded substring of the form &ldquo;%AB&rdquo; into the hex-decoded byte 0xAB. It returns an error if any % is not followed by two hexadecimal digits.</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h2 id="类型">类型</h2>
<h3 id="type-errorhttpscsopensourcegooglegogogo1201srcneturlurlgol23">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=23" target="_blank" rel="noopener">Error</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Error</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Op</span>  <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">URL</span> <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Err</span> <span style="color:#e5c07b">error</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>Error reports an error and the operation and URL that caused it.</p>
<h4 id="error-errorhttpscsopensourcegooglegogogo1201srcneturlurlgol30">(*Error) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=30" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Error</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="error-temporaryhttpscsopensourcegooglegogogo1201srcneturlurlgol39----go16">(*Error) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=39" target="_blank" rel="noopener">Temporary</a>  &lt;- go1.6</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Error</span>) <span style="color:#61afef;font-weight:bold">Temporary</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="error-timeouthttpscsopensourcegooglegogogo1201srcneturlurlgol32----go16">(*Error) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=32" target="_blank" rel="noopener">Timeout</a>  &lt;- go1.6</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Error</span>) <span style="color:#61afef;font-weight:bold">Timeout</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="error-unwraphttpscsopensourcegooglegogogo1201srcneturlurlgol29----go113">(*Error) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=29" target="_blank" rel="noopener">Unwrap</a>  &lt;- go1.13</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Error</span>) <span style="color:#61afef;font-weight:bold">Unwrap</span>() <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-escapeerrorhttpscsopensourcegooglegogogo1201srcneturlurlgol84">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=84" target="_blank" rel="noopener">EscapeError</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">EscapeError</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="escapeerror-errorhttpscsopensourcegooglegogogo1201srcneturlurlgol86">(EscapeError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=86" target="_blank" rel="noopener">Error</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">EscapeError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-invalidhosterrorhttpscsopensourcegooglegogogo1201srcneturlurlgol90----go16">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=90" target="_blank" rel="noopener">InvalidHostError</a>  &lt;- go1.6</h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">InvalidHostError</span> <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="invalidhosterror-errorhttpscsopensourcegooglegogogo1201srcneturlurlgol92----go16">(InvalidHostError) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=92" target="_blank" rel="noopener">Error</a>  &lt;- go1.6</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">e</span> <span style="color:#e06c75">InvalidHostError</span>) <span style="color:#61afef;font-weight:bold">Error</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="type-urlhttpscsopensourcegooglegogogo1201srcneturlurlgol362">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=362" target="_blank" rel="noopener">URL</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">URL</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Scheme</span>      <span style="color:#e5c07b">string</span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">Opaque</span>      <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// encoded opaque data
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">User</span>        <span style="color:#56b6c2">*</span><span style="color:#e06c75">Userinfo</span> <span style="color:#7f848e">// username and password information
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Host</span>        <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// host or host:port
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Path</span>        <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// path (relative paths may omit leading slash)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">RawPath</span>     <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// encoded path hint (see EscapedPath method)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">OmitHost</span>    <span style="color:#e5c07b">bool</span>      <span style="color:#7f848e">// do not emit empty host (authority)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">ForceQuery</span>  <span style="color:#e5c07b">bool</span>      <span style="color:#7f848e">// append a query (&#39;?&#39;) even if RawQuery is empty
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">RawQuery</span>    <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// encoded query values, without &#39;?&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">Fragment</span>    <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// fragment for references, without &#39;#&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>	<span style="color:#e06c75">RawFragment</span> <span style="color:#e5c07b">string</span>    <span style="color:#7f848e">// encoded fragment hint (see EscapedFragment method)
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>A URL represents a parsed URL (technically, a URI reference).</p>
<p>The general form represented is:</p>
<pre tabindex="0"><code>[scheme:][//[userinfo@]host][/]path[?query][#fragment]
</code></pre><p>URLs that do not start with a slash after the scheme are interpreted as:</p>
<pre tabindex="0"><code>scheme:opaque[?query][#fragment]
</code></pre><p>Note that the Path field is stored in decoded form: /%47%6f%2f becomes /Go/. A consequence is that it is impossible to tell which slashes in the Path were slashes in the raw URL and which were %2f. This distinction is rarely important, but when it is, the code should use the EscapedPath method, which preserves the original encoding of Path.</p>
<p>The RawPath field is an optional field which is only set when the default encoding of Path is different from the escaped path. See the EscapedPath method for more details.</p>
<p>URL&rsquo;s String method uses the EscapedPath method to obtain the path.</p>
<h5 id="example-4">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h5 id="example-5">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-parsehttpscsopensourcegooglegogogo1201srcneturlurlgol466">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=466" target="_blank" rel="noopener">Parse</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">Parse</span>(<span style="color:#e06c75">rawURL</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Parse parses a raw url into a URL structure.</p>
<p>The url may be relative (a path, without a host) or absolute (starting with a scheme). Trying to parse a hostname and path without a scheme is invalid but may not necessarily return an error, due to parsing ambiguities.</p>
<h4 id="func-parserequesturihttpscsopensourcegooglegogogo1201srcneturlurlgol487">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=487" target="_blank" rel="noopener">ParseRequestURI</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseRequestURI</span>(<span style="color:#e06c75">rawURL</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParseRequestURI parses a raw url into a URL structure. It assumes that url was received in an HTTP request, so the url is interpreted only as an absolute URI or an absolute path. The string url is assumed not to have a #fragment suffix. (Web browsers strip #fragment before sending the URL to a web server.)</p>
<h4 id="url-escapedfragmenthttpscsopensourcegooglegogogo1201srcneturlurlgol760----go115">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=760" target="_blank" rel="noopener">EscapedFragment</a>  &lt;- go1.15</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">EscapedFragment</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EscapedFragment returns the escaped form of u.Fragment. In general there are multiple possible escaped forms of any fragment. EscapedFragment returns u.RawFragment when it is a valid escaping of u.Fragment. Otherwise EscapedFragment ignores u.RawFragment and computes an escaped form on its own. The String method uses EscapedFragment to construct its result. In general, code should call EscapedFragment instead of reading u.RawFragment directly.</p>
<h5 id="example-6">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-escapedpathhttpscsopensourcegooglegogogo1201srcneturlurlgol697----go15">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=697" target="_blank" rel="noopener">EscapedPath</a>  &lt;- go1.5</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">EscapedPath</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>EscapedPath returns the escaped form of u.Path. In general there are multiple possible escaped forms of any path. EscapedPath returns u.RawPath when it is a valid escaping of u.Path. Otherwise EscapedPath ignores u.RawPath and computes an escaped form on its own. The String and RequestURI methods use EscapedPath to construct their results. In general, code should call EscapedPath instead of reading u.RawPath directly.</p>
<h5 id="example-7">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-hostnamehttpscsopensourcegooglegogogo1201srcneturlurlgol1146----go18">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1146" target="_blank" rel="noopener">Hostname</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">Hostname</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Hostname returns u.Host, stripping any valid port number if present.</p>
<p>If the result is enclosed in square brackets, as literal IPv6 addresses are, the square brackets are removed from the result.</p>
<h5 id="example-8">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-isabshttpscsopensourcegooglegogogo1201srcneturlurlgol1061">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1061" target="_blank" rel="noopener">IsAbs</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">IsAbs</span>() <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>IsAbs reports whether the URL is absolute. Absolute means that it has a non-empty scheme.</p>
<h5 id="example-9">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-joinpathhttpscsopensourcegooglegogogo1201srcneturlurlgol1196----go119">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1196" target="_blank" rel="noopener">JoinPath</a>  &lt;- go1.19</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">JoinPath</span>(<span style="color:#e06c75">elem</span> <span style="color:#56b6c2">...</span><span style="color:#e5c07b">string</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>JoinPath returns a new URL with the provided path elements joined to any existing path and the resulting path cleaned of any ./ or ../ elements. Any sequences of multiple / characters will be reduced to a single /.</p>
<h4 id="url-marshalbinaryhttpscsopensourcegooglegogogo1201srcneturlurlgol1180----go18">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1180" target="_blank" rel="noopener">MarshalBinary</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">MarshalBinary</span>() (<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>, <span style="color:#e06c75">err</span> <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="example-10">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-parsehttpscsopensourcegooglegogogo1201srcneturlurlgol1068">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1068" target="_blank" rel="noopener">Parse</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">Parse</span>(<span style="color:#e06c75">ref</span> <span style="color:#e5c07b">string</span>) (<span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Parse parses a URL in the context of the receiver. The provided URL may be relative or absolute. Parse returns nil, err on parse failure, otherwise its return value is the same as ResolveReference.</p>
<h5 id="example-11">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-porthttpscsopensourcegooglegogogo1201srcneturlurlgol1154----go18">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1154" target="_blank" rel="noopener">Port</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">Port</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Port returns the port part of u.Host, without the leading colon.</p>
<p>If u.Host doesn&rsquo;t contain a valid numeric port, Port returns an empty string.</p>
<h5 id="example-12">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-queryhttpscsopensourcegooglegogogo1201srcneturlurlgol1117">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1117" target="_blank" rel="noopener">Query</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">Query</span>() <span style="color:#e06c75">Values</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Query parses RawQuery and returns the corresponding values. It silently discards malformed value pairs. To check errors use ParseQuery.</p>
<h5 id="example-13">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-redactedhttpscsopensourcegooglegogogo1201srcneturlurlgol863----go115">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=863" target="_blank" rel="noopener">Redacted</a>  &lt;- go1.15</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">Redacted</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Redacted is like String but replaces any password with &ldquo;xxxxx&rdquo;. Only the password in u.URL is redacted.</p>
<h5 id="example-14">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-requesturihttpscsopensourcegooglegogogo1201srcneturlurlgol1124">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1124" target="_blank" rel="noopener">RequestURI</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">RequestURI</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>RequestURI returns the encoded path?query or opaque?query string that would be used in an HTTP request for u.</p>
<h5 id="example-15">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-resolvereferencehttpscsopensourcegooglegogogo1201srcneturlurlgol1082">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1082" target="_blank" rel="noopener">ResolveReference</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">ResolveReference</span>(<span style="color:#e06c75">ref</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ResolveReference resolves a URI reference to an absolute URI from an absolute base URI u, per <a href="https://rfc-editor.org/rfc/rfc3986.html#section-5.2" target="_blank" rel="noopener">RFC 3986 Section 5.2</a>. The URI reference may be relative or absolute. ResolveReference always returns a new URL instance, even if the returned URL is identical to either the base or reference. If ref is an absolute URL, then ResolveReference ignores base and returns a copy of ref.</p>
<h5 id="example-16">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-stringhttpscsopensourcegooglegogogo1201srcneturlurlgol808">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=808" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>String reassembles the URL into a valid URL string. The general form of the result is one of:</p>
<pre tabindex="0"><code>scheme:opaque?query#fragment
scheme://userinfo@host/path?query#fragment
</code></pre><p>If u.Opaque is non-empty, String uses the first form; otherwise it uses the second form. Any non-ASCII characters in host are escaped. To obtain the path, String uses u.EscapedPath().</p>
<p>In the second form, the following rules apply:</p>
<ul>
<li>if u.Scheme is empty, scheme: is omitted.</li>
<li>if u.User is nil, userinfo@ is omitted.</li>
<li>if u.Host is empty, host/ is omitted.</li>
<li>if u.Scheme and u.Host are empty and u.User is nil, the entire scheme://userinfo@host/ is omitted.</li>
<li>if u.Host is non-empty and u.Path begins with a /, the form host/path does not add its own /.</li>
<li>if u.RawQuery is empty, ?query is omitted.</li>
<li>if u.Fragment is empty, #fragment is omitted.</li>
</ul>
<h5 id="example-17">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="url-unmarshalbinaryhttpscsopensourcegooglegogogo1201srcneturlurlgol1184----go18">(*URL) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=1184" target="_blank" rel="noopener">UnmarshalBinary</a>  &lt;- go1.8</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">URL</span>) <span style="color:#61afef;font-weight:bold">UnmarshalBinary</span>(<span style="color:#e06c75">text</span> []<span style="color:#e5c07b">byte</span>) <span style="color:#e5c07b">error</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h5 id="example-18">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h3 id="type-userinfohttpscsopensourcegooglegogogo1201srcneturlurlgol398">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=398" target="_blank" rel="noopener">Userinfo</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Userinfo</span> <span style="color:#c678dd">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#7f848e">// contains filtered or unexported fields
</span></span></span><span style="display:flex;"><span><span style="color:#7f848e"></span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>The Userinfo type is an immutable encapsulation of username and password details for a URL. An existing Userinfo value is guaranteed to have a username set (potentially empty, as allowed by <a href="https://rfc-editor.org/rfc/rfc2396.html" target="_blank" rel="noopener">RFC 2396</a>), and optionally a password.</p>
<h4 id="func-userhttpscsopensourcegooglegogogo1201srcneturlurlgol378">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=378" target="_blank" rel="noopener">User</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">User</span>(<span style="color:#e06c75">username</span> <span style="color:#e5c07b">string</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Userinfo</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>User returns a Userinfo containing the provided username and no password set.</p>
<h4 id="func-userpasswordhttpscsopensourcegooglegogogo1201srcneturlurlgol390">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=390" target="_blank" rel="noopener">UserPassword</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">UserPassword</span>(<span style="color:#e06c75">username</span>, <span style="color:#e06c75">password</span> <span style="color:#e5c07b">string</span>) <span style="color:#56b6c2">*</span><span style="color:#e06c75">Userinfo</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>UserPassword returns a Userinfo containing the provided username and password.</p>
<p>This functionality should only be used with legacy web sites. <a href="https://rfc-editor.org/rfc/rfc2396.html" target="_blank" rel="noopener">RFC 2396</a> warns that interpreting Userinfo this way &ldquo;is NOT RECOMMENDED, because the passing of authentication information in clear text (such as URI) has proven to be a security risk in almost every case where it has been used.&rdquo;</p>
<h4 id="userinfo-passwordhttpscsopensourcegooglegogogo1201srcneturlurlgol413">(*Userinfo) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=413" target="_blank" rel="noopener">Password</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Userinfo</span>) <span style="color:#61afef;font-weight:bold">Password</span>() (<span style="color:#e5c07b">string</span>, <span style="color:#e5c07b">bool</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Password returns the password in case it is set, and whether it is set.</p>
<h4 id="userinfo-stringhttpscsopensourcegooglegogogo1201srcneturlurlgol422">(*Userinfo) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=422" target="_blank" rel="noopener">String</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Userinfo</span>) <span style="color:#61afef;font-weight:bold">String</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>String returns the encoded userinfo information in the standard form of &ldquo;username[:password]&rdquo;.</p>
<h4 id="userinfo-usernamehttpscsopensourcegooglegogogo1201srcneturlurlgol405">(*Userinfo) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=405" target="_blank" rel="noopener">Username</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">u</span> <span style="color:#56b6c2">*</span><span style="color:#e06c75">Userinfo</span>) <span style="color:#61afef;font-weight:bold">Username</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Username returns the username.</p>
<h3 id="type-valueshttpscsopensourcegooglegogogo1201srcneturlurlgol879">type <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=879" target="_blank" rel="noopener">Values</a></h3>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">type</span> <span style="color:#e06c75">Values</span> <span style="color:#c678dd">map</span>[<span style="color:#e5c07b">string</span>][]<span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Values maps a string key to a list of values. It is typically used for query parameters and form values. Unlike in the http.Header map, the keys in a Values map are case-sensitive.</p>
<h5 id="example-19">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="func-parsequeryhttpscsopensourcegooglegogogo1201srcneturlurlgol929">func <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=929" target="_blank" rel="noopener">ParseQuery</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">ParseQuery</span>(<span style="color:#e06c75">query</span> <span style="color:#e5c07b">string</span>) (<span style="color:#e06c75">Values</span>, <span style="color:#e5c07b">error</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>ParseQuery parses the URL-encoded query string and returns a map listing the values specified for each key. ParseQuery always returns a non-nil map containing all the valid query parameters found; err describes the first decoding error encountered, if any.</p>
<p>Query is expected to be a list of key=value settings separated by ampersands. A setting without an equals sign is interpreted as a key set to an empty value. Settings containing a non-URL-encoded semicolon are considered invalid.</p>
<h5 id="example-20">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="values-addhttpscsopensourcegooglegogogo1201srcneturlurlgol904">(Values) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=904" target="_blank" rel="noopener">Add</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">v</span> <span style="color:#e06c75">Values</span>) <span style="color:#61afef;font-weight:bold">Add</span>(<span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Add adds the value to key. It appends to any existing values associated with key.</p>
<h5 id="example-21">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="values-delhttpscsopensourcegooglegogogo1201srcneturlurlgol909">(Values) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=909" target="_blank" rel="noopener">Del</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">v</span> <span style="color:#e06c75">Values</span>) <span style="color:#61afef;font-weight:bold">Del</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Del deletes the values associated with key.</p>
<h5 id="example-22">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="values-encodehttpscsopensourcegooglegogogo1201srcneturlurlgol968">(Values) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=968" target="_blank" rel="noopener">Encode</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">v</span> <span style="color:#e06c75">Values</span>) <span style="color:#61afef;font-weight:bold">Encode</span>() <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Encode encodes the values into &ldquo;URL encoded&rdquo; form (&ldquo;bar=baz&amp;foo=quux&rdquo;) sorted by key.</p>
<h5 id="example-23">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="values-gethttpscsopensourcegooglegogogo1201srcneturlurlgol885">(Values) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=885" target="_blank" rel="noopener">Get</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">v</span> <span style="color:#e06c75">Values</span>) <span style="color:#61afef;font-weight:bold">Get</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">string</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Get gets the first value associated with the given key. If there are no values associated with the key, Get returns the empty string. To access multiple values, use the map directly.</p>
<h5 id="example-24">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="values-hashttpscsopensourcegooglegogogo1201srcneturlurlgol914----go117">(Values) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=914" target="_blank" rel="noopener">Has</a>  &lt;- go1.17</h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">v</span> <span style="color:#e06c75">Values</span>) <span style="color:#61afef;font-weight:bold">Has</span>(<span style="color:#e06c75">key</span> <span style="color:#e5c07b">string</span>) <span style="color:#e5c07b">bool</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Has checks whether a given key is set.</p>
<h5 id="example-25">Example</h5>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"></code></pre></td></tr></table>
</div>
</div><h4 id="values-sethttpscsopensourcegooglegogogo1201srcneturlurlgol898">(Values) <a href="https://cs.opensource.google/go/go/&#43;/go1.20.1:src/net/url/url.go;l=898" target="_blank" rel="noopener">Set</a></h4>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">func</span> (<span style="color:#e06c75">v</span> <span style="color:#e06c75">Values</span>) <span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#e06c75">key</span>, <span style="color:#e06c75">value</span> <span style="color:#e5c07b">string</span>)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Set sets the key to value. It replaces any existing values.</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#c678dd">package</span> <span style="color:#e06c75">main</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">import</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#98c379">&#34;net/url&#34;</span>
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#c678dd">func</span> <span style="color:#61afef;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">v</span> <span style="color:#56b6c2">:=</span> <span style="color:#e06c75">url</span>.<span style="color:#e06c75">Values</span>{}
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">v</span>.<span style="color:#61afef;font-weight:bold">Add</span>(<span style="color:#98c379">&#34;cat sounds&#34;</span>, <span style="color:#98c379">&#34;meow&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">v</span>.<span style="color:#61afef;font-weight:bold">Add</span>(<span style="color:#98c379">&#34;cat sounds&#34;</span>, <span style="color:#98c379">&#34;mew&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">v</span>.<span style="color:#61afef;font-weight:bold">Add</span>(<span style="color:#98c379">&#34;cat sounds&#34;</span>, <span style="color:#98c379">&#34;mau&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">v</span>[<span style="color:#98c379">&#34;cat sounds&#34;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">v</span>.<span style="color:#61afef;font-weight:bold">Set</span>(<span style="color:#98c379">&#34;cat sounds&#34;</span>, <span style="color:#98c379">&#34;meow&#34;</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#e06c75">fmt</span>.<span style="color:#61afef;font-weight:bold">Println</span>(<span style="color:#e06c75">v</span>[<span style="color:#98c379">&#34;cat sounds&#34;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#e06c75">Output</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[<span style="color:#e06c75">meow</span> <span style="color:#e06c75">mew</span> <span style="color:#e06c75">mau</span>]
</span></span><span style="display:flex;"><span>[<span style="color:#e06c75">meow</span>]
</span></span></code></pre></td></tr></table>
</div>
</div>
</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/google/docsy" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing list" aria-label="Developer mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 The Docsy Authors </small>
        <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener"></a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
  <script src="/js/main.min.9069af235eb4d4956fc4dc29e5ca46caef0cdcae593856be4e33c99075bc5ea2.js" integrity="sha256-kGmvI1601JVvxNwp5cpGyu8M3K5ZOFa&#43;TjPJkHW8XqI=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>
<script src='/js/deal-zero-width-space.js'></script>
  </body>
</html>
