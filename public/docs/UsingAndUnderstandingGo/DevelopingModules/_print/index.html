<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="cn" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.111.3">
<link rel="canonical" type="text/html" href="http://ngd.cn/docs/UsingAndUnderstandingGo/DevelopingModules/">
<link rel="alternate" type="application/rss&#43;xml" href="http://ngd.cn/docs/UsingAndUnderstandingGo/DevelopingModules/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>开发模块 | go文档集</title>
<meta name="description" content="The most popular HTML, CSS, and JS library in the world.">
<meta property="og:title" content="开发模块" />
<meta property="og:description" content="The most popular HTML, CSS, and JS library in the world." />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://ngd.cn/docs/UsingAndUnderstandingGo/DevelopingModules/" />
<meta itemprop="name" content="开发模块">
<meta itemprop="description" content="The most popular HTML, CSS, and JS library in the world."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="开发模块"/>
<meta name="twitter:description" content="The most popular HTML, CSS, and JS library in the world."/>




<link rel="preload" href="/scss/main.min.bb1f3a37154c4661ae02d3cb1a733edd8005db70f626370ca004c689a63ab7d4.css" as="style">
<link href="/scss/main.min.bb1f3a37154c4661ae02d3cb1a733edd8005db70f626370ca004c689a63ab7d4.css" rel="stylesheet" integrity="">

<link href="/css/extra.css" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-00000000-0"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-00000000-0');
}
</script>
  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">go文档集</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link active" href="/docs/"><span class="active">文档</span></a>
      </li>
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    <div class="td-search">
  <div class="td-search__icon"></div>
  <input type="search" class="td-search__input form-control td-search-input" placeholder="" aria-label="" autocomplete="off">
</div>

  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>

<a href="#" onclick="print();return false;"></a>.
</p><p>
<a href="/docs/UsingAndUnderstandingGo/DevelopingModules/"></a>.
</p>
</div>



<h1 class="title">开发模块</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-388c645443b15a8b90e9ac0a6e58db20">开发和发布模块</a></li>


    
  
    
    
	
<li>2: <a href="#pg-28b79d99d0eba6421a1ed3af03cc3fcb">模块发布和版本管理的工作流程</a></li>


    
  
    
    
	
<li>3: <a href="#pg-3fcbbc0c292c78a6aa83a34dd6c946a2">管理模块来源</a></li>


    
  
    
    
	
<li>4: <a href="#pg-53061c1f4e0b7a54f74893a63869a0fc">开发主版本更新</a></li>


    
  
    
    
	
<li>5: <a href="#pg-17f6e72f0c269f4326bd16907a32d204">发布模块</a></li>


    
  
    
    
	
<li>6: <a href="#pg-dfd8c9c2a4a530522308f654362d2b44">模块的版本编号</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-388c645443b15a8b90e9ac0a6e58db20">1 - 开发和发布模块</h1>
    
	<h1 id="developing-and-publishing-modules---开发和发布模块">Developing and publishing modules - 开发和发布模块</h1>
<blockquote>
<p>原文：<a href="https://go.dev/doc/modules/developing" target="_blank" rel="noopener">https://go.dev/doc/modules/developing</a></p>
</blockquote>
<p>​	您可以将相关的包收集到模块中，然后发布该模块供其他开发人员使用。本主题概述了开发和发布模块的概述。</p>
<p>​	为了支持模块的开发、发布和使用，您需要使用以下内容：</p>
<ul>
<li>通过该流程，您可以开发和发布模块，并随时间进行新版本的修订。请参阅&quot;开发和发布模块的工作流程&quot;。</li>
<li>设计实践，帮助模块的用户理解并以稳定的方式升级到新版本。请参阅&quot;设计和开发&quot;。</li>
<li>一个去中心化系统，用于发布模块和检索其代码。您可以将自己的模块从自己的存储库中提供给其他开发人员使用，并发布一个版本号。请参阅&quot;去中心化发布&quot;。</li>
<li>一个包搜索引擎和文档浏览器（pkg.go.dev），开发人员可以在其中找到您的模块。请参阅&quot;包发现&quot;。</li>
<li>一种模块版本编号约定，以向使用您的模块的开发人员传达稳定性和向后兼容性的期望。请参阅&quot;版本控制&quot;。</li>
<li>Go 工具可以使其他开发人员更轻松地管理依赖项，包括获取您的模块源代码、升级等。请参阅&quot;<a href="../../ManagingDependencies">管理依赖项</a>&quot;。</li>
</ul>
<p>另请参阅</p>
<ul>
<li>如果您只是想使用其他人开发的包，这个主题不适合你。请参阅&quot;<a href="../../ManagingDependencies">管理依赖项</a>&quot;。</li>
<li>有关包括一些模块开发基础的教程，请参阅&quot;<a href="../../../GettingStarted/TutorialCreateAGoModule">教程：创建一个Go模块</a>&quot;。</li>
</ul>
<h2 id="开发和发布模块的工作流程">开发和发布模块的工作流程</h2>
<p>​	当您想要为其他人发布模块时，您需要采用一些约定，以便使用这些模块更加容易。</p>
<p>​	以下高级步骤在&quot;<a href="../ModuleReleaseAndVersioningWorkflow">模块发布和版本控制工作流程</a>&ldquo;中有更详细的描述。</p>
<ol>
<li>设计和编写模块包含的包。</li>
<li>使用确保通过 Go 工具可供其他人使用的约定将代码提交到存储库。</li>
<li>发布模块以使其可供开发人员发现。</li>
<li>随时间修订模块，使用一种版本编号约定来表示每个版本的稳定性和向后兼容性。</li>
</ol>
<h2 id="设计与开发">设计与开发</h2>
<p>​	如果模块中的函数和包形成了一个一致的整体，那么其他开发人员将更容易找到和使用您的模块。在设计模块的公共API时，请尽量使其功能集中和离散化。</p>
<p>​	此外，考虑到向后兼容性来设计和开发模块有助于其用户在升级时最小化其代码的重构。您可以在代码中使用某些技术，以避免发布破坏向后兼容性的版本。有关这些技术的更多信息，请参见Go博客中的&rdquo;<a href="../../../GoBlog/2020/KeepingYourModulesCompatible">保持模块兼容</a>&quot;。</p>
<p>​	在发布模块之前，您可以使用&quot;replace&quot;指令在本地文件系统上引用它。这使编写客户端代码来调用模块中的函数更容易，同时模块仍处于开发中。有关更多信息，请参见&quot;<a href="../ModuleReleaseAndVersioningWorkflow">模块发布和版本控制工作流程</a>&ldquo;中的&quot;针对未发布模块的编码&rdquo;。</p>
<h2 id="去中心化发布">去中心化发布</h2>
<p>​	在Go中，您通过在存储库中标记其代码来发布模块，以使其他开发人员可以使用它。您无需将模块推送到集中式服务，因为Go工具可以直接从您的存储库（使用省略了协议的URL作为模块路径）或代理服务器下载您的模块。</p>
<p>​	在其代码中导入您的包后，开发人员使用Go工具（包括<code>go get</code>命令）下载您的模块代码以进行编译。为支持此模型，您需要遵循使Go工具（代表另一个开发人员）从您的存储库检索模块源代码的惯例和最佳实践。例如，Go工具使用您指定的模块路径以及您用于标记模块发布的模块版本号来定位并下载模块以供其用户使用。</p>
<p>​	有关源和发布惯例和最佳实践的更多信息，请参见&quot;<a href="../ManagingModuleSource">管理模块源</a>&quot;。</p>
<p>​	有关发布模块的逐步说明，请参见&quot;<a href="../PublishingAModule">发布模块</a>&quot;。</p>
<h2 id="包发现">包发现</h2>
<p>​	在您发布了模块并有人使用Go工具获取它之后，它将出现在Go包发现站点<a href="https://pkg.go.dev/" target="_blank" rel="noopener">pkg.go.dev</a>上。在那里，开发人员可以搜索该站点以找到它并阅读其文档。</p>
<p>​	要开始使用该模块，开发人员从该模块中导入包，然后运行<code>go get</code>命令以下载其源代码以进行编译。</p>
<p>​	有关开发人员如何找到和使用模块的更多信息，请参见&quot;<a href="../../ManagingDependencies">管理依赖项</a>&quot;。</p>
<h2 id="版本控制">版本控制</h2>
<p>​	随着时间的推移，当你对模块进行修订和改进时，你会分配版本号（基于语义化版本控制模型），旨在标识每个版本的稳定性和向后兼容性。这有助于使用你的模块的开发人员确定模块何时稳定，以及升级是否可能包含行为上的重大更改。你可以通过在代码库中标记模块的源代码来指示模块的版本号。</p>
<p>​	关于开发主版本更新的更多信息，请参见<a href="../DevelopingAmajorVersionUpdate">开发主版本更新</a>。</p>
<p>​	关于如何使用 Go 模块的语义化版本控制模型的更多信息，请参见<a href="../ModuleVersionNumbering">模块版本编号</a>。</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-28b79d99d0eba6421a1ed3af03cc3fcb">2 - 模块发布和版本管理的工作流程</h1>
    
	<h1 id="module-release-and-versioning-workflow---模块发布和版本管理的工作流程">Module release and versioning workflow - 模块发布和版本管理的工作流程</h1>
<blockquote>
<p>原文：<a href="https://go.dev/doc/modules/release-workflow" target="_blank" rel="noopener">https://go.dev/doc/modules/release-workflow</a></p>
</blockquote>
<p>When you develop modules for use by other developers, you can follow a workflow that helps ensure a reliable, consistent experience for developers using the module. This topic describes the high-level steps in that workflow.</p>
<p>当你开发模块供其他开发者使用时，你可以遵循一个工作流程，以帮助确保使用该模块的开发者获得可靠、一致的体验。本主题描述了该工作流程中的高级步骤。</p>
<p>For an overview of module development, see <a href="https://go.dev/doc/modules/developing" target="_blank" rel="noopener">Developing and publishing modules</a>.</p>
<p>关于模块开发的概述，请参阅开发和发布模块。</p>
<p><strong>See also</strong></p>
<p>另见</p>
<ul>
<li>If you’re merely wanting to use external packages in your code, be sure to see <a href="https://go.dev/doc/modules/managing-dependencies" target="_blank" rel="noopener">Managing dependencies</a>.如果你只是想在你的代码中使用外部包，一定要看管理依赖性。</li>
<li>With each new version, you signal the changes to your module with its version number. For more, see <a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">Module version numbering</a>.在每一个新的版本中，你都要用版本号来表示你的模块的变化。更多信息，请参见模块版本号。</li>
</ul>
<h2 id="common-workflow-steps-常见的工作流程步骤">Common workflow steps 常见的工作流程步骤</h2>
<p>The following sequence illustrates release and versioning workflow steps for an example new module. For more about each step, see the sections in this topic.</p>
<p>下面的顺序说明了一个新模块例子的发布和版本管理工作流程步骤。关于每个步骤的更多信息，请参见本主题中的章节。</p>
<ol>
<li>
<p><strong>Begin a module</strong> and organize its sources to make it easier for developers to use and for you to maintain.开始一个模块，并组织它的源代码，使它更容易被开发人员使用，也更容易被你维护。</p>
<p>If you’re brand new to developing modules, check out <a href="https://go.dev/doc/tutorial/create-module" target="_blank" rel="noopener">Tutorial: Create a Go module</a>.如果你是开发模块的新手，请查看教程。创建一个Go模块。</p>
<p>In Go’s decentralized module publishing system, how you organize your code matters. For more, see <a href="https://go.dev/doc/modules/managing-source" target="_blank" rel="noopener">Managing module source</a>.在Go的分散式模块发布系统中，你如何组织你的代码很重要。更多信息，请看管理模块源代码。</p>
</li>
<li>
<p>Set up to <strong>write local client code</strong> that calls functions in the unpublished module.设置编写本地客户端代码，调用未发布模块中的函数。</p>
<p>Before you publish a module, it’s unavailable for the typical dependency management workflow using commands such as <code>go get</code>. A good way to test your module code at this stage is to try it while it is in a directory local to your calling code.在你发布一个模块之前，它在典型的依赖性管理工作流程中是不可用的，比如使用 go get 命令。在这个阶段，测试你的模块代码的一个好方法是，当它在你的调用代码的本地目录中时，就可以尝试它。</p>
<p>See <a href="https://go.dev/doc/modules/release-workflow#unpublished" target="_blank" rel="noopener">Coding against an unpublished module</a> for more about local development.关于本地开发的更多信息，请参见针对未发布模块的编码。</p>
</li>
<li>
<p>When the module’s code is ready for other developers to try it out, <strong>begin publishing v0 pre-releases</strong> such as alphas and betas. See <a href="https://go.dev/doc/modules/release-workflow#pre-release" target="_blank" rel="noopener">Publishing pre-release versions</a> for more.当模块的代码准备好供其他开发者试用时，开始发布预发布版本，如alphas和betas。参见发布预发布版本以了解更多信息。</p>
</li>
<li>
<p><strong>Release a v0</strong> that’s not guaranteed to be stable, but which users can try out. For more, see <a href="https://go.dev/doc/modules/release-workflow#first-unstable" target="_blank" rel="noopener">Publishing the first (unstable) version</a>.发布一个不保证稳定的v0版本，但用户可以试用。更多内容请参见发布第一个（不稳定）版本。</p>
</li>
<li>
<p>After your v0 version is published, you can (and should!) continue to <strong>release new versions</strong> of it.在你的v0版本发布之后，你可以（而且应该！）继续发布新的版本。</p>
<p>These new versions might include bug fixes (patch releases), additions to the module’s public API (minor releases), and even breaking changes. Because a v0 release makes no guarantees of stability or backward compatibility, you can make breaking changes in its versions.这些新版本可能包括错误的修正（补丁发布），对模块的公共API的补充（次要发布），甚至是突破性的改变。因为v0版本不保证稳定性或向后兼容性，所以你可以在其版本中进行破坏性的修改。</p>
<p>For more, see <a href="https://go.dev/doc/modules/release-workflow#bug-fixes" target="_blank" rel="noopener">Publishing bug fixes</a> and <a href="https://go.dev/doc/modules/release-workflow#non-breaking" target="_blank" rel="noopener">Publishing non-breaking API changes</a>.更多信息，请参阅发布错误修复和发布非破坏性的API变化。</p>
</li>
<li>
<p>When you’re getting a stable version ready for release, you <strong>publish pre-releases as alphas and betas</strong>. For more, see <a href="https://go.dev/doc/modules/release-workflow#pre-release" target="_blank" rel="noopener">Publishing pre-release versions</a>.当你准备发布一个稳定的版本时，你可以将预发布版本作为alphas和betas发布。更多信息，请参见发布预发布版本。</p>
</li>
<li>
<p>Release a v1 as the <strong>first stable release</strong>.发布一个v1版本作为第一个稳定版本。</p>
<p>This is the first release that makes commitments about the module’s stability. For more, see <a href="https://go.dev/doc/modules/release-workflow#first-stable" target="_blank" rel="noopener">Publishing the first stable version</a>.这是对模块的稳定性做出承诺的第一个版本。更多信息，请参见发布第一个稳定版本。</p>
</li>
<li>
<p>In the v1 version, <strong>continue to fix bugs</strong> and, where necessary, make additions to the module’s public API.在v1版本中，继续修复bug，必要时对模块的公共API进行补充。</p>
<p>For more, see <a href="https://go.dev/doc/modules/release-workflow#bug-fixes" target="_blank" rel="noopener">Publishing bug fixes</a> and <a href="https://go.dev/doc/modules/release-workflow#non-breaking" target="_blank" rel="noopener">Publishing non-breaking API changes</a>.更多信息，请参见发布错误修复和发布非破坏性的API变化。</p>
</li>
<li>
<p>When it can’t be avoided, publish breaking changes in a <strong>new major version</strong>.当无法避免时，在一个新的主要版本中发布破坏性变化。</p>
<p>A major version update – such as from v1.x.x to v2.x.x – can be a very disruptive upgrade for your module’s users. It should be a last resort. For more, see <a href="https://go.dev/doc/modules/release-workflow#breaking" target="_blank" rel="noopener">Publishing breaking API changes</a>.一个主要的版本更新&ndash;比如从v1.x.x到v2.x.x&ndash;对你的模块用户来说可能是一个非常有破坏性的升级。这应该是最后的手段。更多信息，请看发布破坏性的API变化。</p>
</li>
</ol>
<h2 id="coding-against-an-unpublished-module-针对未发布的模块进行编码">Coding against an unpublished module 针对未发布的模块进行编码</h2>
<p>When you begin developing a module or a new version of a module, you won’t yet have published it. Before you publish a module, you won’t be able to use Go commands to add the module as a dependency. Instead, at first, when writing client code in a different module that calls functions in the unpublished module, you’ll need to reference a copy of the module on the local file system.</p>
<p>当你开始开发一个模块或一个模块的新版本时，你还没有发布它。在你发布模块之前，你无法使用Go命令将该模块作为一个依赖项添加。相反，一开始，当在不同的模块中写客户端代码调用未发布的模块中的函数时，你需要在本地文件系统中引用该模块的一个副本。</p>
<p>You can reference a module locally from the client module’s go.mod file by using the <code>replace</code> directive in the client module’s go.mod file. For more information, see in <a href="https://go.dev/doc/modules/managing-dependencies#local_directory" target="_blank" rel="noopener">Requiring module code in a local directory</a>.</p>
<p>你可以通过在客户端模块的go.mod文件中使用替换指令，在本地引用一个模块。更多信息，请参见《要求本地目录中的模块代码》。</p>
<h2 id="publishing-pre-release-versions-发布预发布版本">Publishing pre-release versions 发布预发布版本</h2>
<p>You can publish pre-release versions to make a module available for others to try it out and give you feedback. A pre-release version includes no guarantee of stability.</p>
<p>你可以发布预发布版本，让其他人试用模块并给你反馈。预发布版本不包括稳定性的保证。</p>
<p>Pre-release version numbers are appended with a pre-release identifier. For more on version numbers, see <a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">Module version numbering</a>.</p>
<p>预发布的版本号后面有一个预发布的标识符。更多关于版本号的信息，请参见模块版本号。</p>
<p>Here are two examples:</p>
<p>这里有两个例子：</p>
<pre tabindex="0"><code>v0.2.1-beta.1
v1.2.3-alpha
</code></pre><p>When making a pre-release available, keep in mind that developers using the pre-release will need to explicitly specify it by version with the <code>go get</code> command. That’s because, by default, the <code>go</code> command prefers release versions over pre-release versions when locating the module you’re asking for. So developers must get the pre-release by specifying it explicitly, as in the following example:</p>
<p>在提供预发布版本时，请记住，使用预发布版本的开发者需要用go get命令明确指定它的版本。这是因为，默认情况下，go命令在定位你所要求的模块时，更倾向于选择发布版本而不是预发布版本。因此，开发者必须通过明确指定预发布版本来获得预发布版本，如下面的例子：</p>
<pre tabindex="0"><code>go get example.com/theirmodule@v1.2.3-alpha
</code></pre><p>You publish a pre-release by tagging the module code in your repository, specifying the pre-release identifier in the tag. For more, see <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener">Publishing a module</a>.</p>
<p>你可以通过在你的版本库中标记模块代码来发布预发布版本，在标记中指定预发布版本的标识符。更多信息请参见发布模块。</p>
<h2 id="publishing-the-first-unstable-version-发布第一个不稳定版本">Publishing the first (unstable) version 发布第一个（不稳定）版本</h2>
<p>As when you publish a pre-release version, you can publish release versions that don’t guarantee stability or backward compatibility, but give your users an opportunity to try out the module and give you feedback.</p>
<p>就像你发布预发布版本一样，你可以发布不保证稳定性或向后兼容性的发布版本，但给你的用户一个机会来试用模块并给你反馈。</p>
<p>Unstable releases are those whose version numbers are in the v0.x.x range. A v0 version makes no stability or backward compatibility guarantees. But it gives you a way to get feedback and refine your API before making stability commitments with v1 and later. For more see, <a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">Module version numbering</a>.</p>
<p>不稳定的版本是指那些版本号在v0.x.x范围内的版本。v0版本没有稳定性或向后兼容性的保证。但它为你提供了一种方法，让你在对v1及以后的版本做出稳定性承诺之前获得反馈并完善你的API。更多信息请见，模块的版本编号。</p>
<p>As with other published versions, you can increment the minor and patch parts of the v0 version number as you make changes toward releasing a stable v1 version. For example, after releasing a v.0.0.0, you might release a v0.0.1 with the first set of bug fixes.</p>
<p>与其他发布的版本一样，当你为发布稳定的v1版本而进行修改时，你可以增加v0版本号的次要部分和补丁部分。例如，在发布了v.0.0.0之后，你可以发布带有第一组错误修复的v0.0.1。</p>
<p>Here’s an example version number:</p>
<p>下面是一个版本号的例子：</p>
<pre tabindex="0"><code>v0.1.3
</code></pre><p>You publish an unstable release by tagging the module code in your repository, specifying a v0 version number in the tag. For more, see <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener">Publishing a module</a>.</p>
<p>你可以通过在你的版本库中标记模块代码来发布一个不稳定的版本，并在标记中指定一个v0的版本号。更多信息，请看发布模块。</p>
<h2 id="publishing-the-first-stable-version-发布第一个稳定版本">Publishing the first stable version 发布第一个稳定版本</h2>
<p>Your first stable release will have a v1.x.x version number. The first stable release follows pre-release and v0 releases through which you got feedback, fixed bugs, and stabilized the module for users.</p>
<p>你的第一个稳定版本会有一个v1.x.x的版本号。第一个稳定版本是在预发布和v0版本之后发布的，通过这些版本你可以得到反馈，修复错误，并为用户稳定模块。</p>
<p>With a v1 release, you’re making the following commitments to developers using your module:</p>
<p>有了v1版本，你就对使用你的模块的开发者做出了以下承诺：</p>
<ul>
<li>They can upgrade to the major version’s subsequent minor and patch releases without breaking their own code. 他们可以升级到主要版本的后续次要版本和补丁版本，而不会破坏自己的代码。</li>
<li>You won’t be making further changes to the module’s public API – including its function and method signatures – that break backward compatibility.你不会对模块的公共API（包括其函数和方法签名）做进一步的修改，从而破坏向后的兼容性。</li>
<li>You won’t be removing any exported types, which would break backward compatibility.你不会删除任何导出的类型，这将破坏后向兼容性。</li>
<li>Future changes to your API (such as adding a new field to a struct) will be backward compatible and will be included in a new minor release.未来对你的API的改变（比如给结构添加一个新的字段）将是向后兼容的，并将包含在一个新的次要版本中。</li>
<li>Bug fixes (such as a security fix) will be included in a patch release or as part of a minor release.错误修复（如安全修复）将包含在补丁发布中或作为小版本的一部分。</li>
</ul>
<p><strong>Note:</strong> While your first major version might be a v0 release, a v0 version does not signal stability or backward compatibility guarantees. As a result, when you increment from v0 to v1, you needn’t be mindful of breaking backward compatibility because the v0 release was not considered stable.</p>
<p>注意：虽然你的第一个主要版本可能是v0版本，但v0版本并不代表稳定性或向后兼容性的保证。因此，当你从v0增加到v1时，你不需要注意破坏后向兼容性，因为v0版本不被视为稳定。</p>
<p>For more about version numbers, see <a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">Module version numbering</a>.</p>
<p>欲了解更多关于版本号的信息，请参见模块版本号。</p>
<p>Here’s an example of a stable version number:</p>
<p>下面是一个稳定版本号的例子：</p>
<pre tabindex="0"><code>v1.0.0
</code></pre><p>You publish a first stable release by tagging the module code in your repository, specifying a v1 version number in the tag. For more, see <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener">Publishing a module</a>.</p>
<p>你通过在你的版本库中标记模块代码来发布第一个稳定版本，并在标记中指定v1的版本号。更多信息，请参见发布模块。</p>
<h2 id="publishing-bug-fixes-发布错误修复">Publishing bug fixes 发布错误修复</h2>
<p>You can publish a release in which the changes are limited to bug fixes. This is known as a patch release.</p>
<p>你可以发布一个变化仅限于错误修复的版本。这就是所谓的补丁发布。</p>
<p>A <em>patch release</em> includes only minor changes. In particular, it includes no changes to the module’s public API. Developers of consuming code can upgrade to this version safely and without needing to change their code.</p>
<p>补丁发布只包括微小的变化。特别是，它不包括对模块的公共API的改变。消耗代码的开发者可以安全地升级到这个版本，而不需要改变他们的代码。</p>
<p><strong>Note:</strong> Your patch release should try not to upgrade any of that module’s own transitive dependencies by more than a patch release. Otherwise, someone upgrading to the patch of your module could wind up accidentally pulling in a more invasive change to a transitive dependency that they use.</p>
<p>注意：你的补丁版本应该尽量不要将该模块自身的横向依赖关系升级到一个以上的补丁版本。否则，升级到你的模块的补丁的人可能会意外地对他们使用的过渡性依赖关系进行更多的修改。</p>
<p>A patch release increments the patch part of the module’s version number. For more see, <a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">Module version numbering</a>.</p>
<p>补丁的发布会增加模块的版本号中的补丁部分。更多信息请看，模块版本号。</p>
<p>In the following example, v1.0.1 is a patch release.</p>
<p>在下面的例子中，v1.0.1是一个补丁版本。</p>
<p>Old version: <code>v1.0.0</code></p>
<p>New version: <code>v1.0.1</code></p>
<p>You publish a patch release by tagging the module code in your repository, incrementing the patch version number in the tag. For more, see <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener">Publishing a module</a>.</p>
<p>你可以通过在版本库中标记模块代码来发布一个补丁版本，在标记中增加补丁版本号。更多信息请参见发布模块。</p>
<h2 id="publishing-non-breaking-api-changes-发布非破坏性的api变更">Publishing non-breaking API changes 发布非破坏性的API变更</h2>
<p>You can make non-breaking changes to your module’s public API and publish those changes in a <em>minor</em> version release.</p>
<p>你可以对你的模块的公共API进行非破坏性的修改，并将这些修改发布在一个小版本中。</p>
<p>This version changes the API, but not in a way that breaks calling code. This might include changes to a module’s own dependencies or the addition of new functions, methods, struct fields, or types. Even with the changes it includes, this kind of release guarantees backward compatibility and stability for existing code that calls the module’s functions.</p>
<p>这个版本会改变API，但不会破坏调用代码。这可能包括对模块本身的依赖性的改变，或者增加新的函数、方法、结构域或类型。即使它包括了一些变化，这种版本也能保证调用该模块功能的现有代码的向后兼容性和稳定性。</p>
<p>A minor release increments the minor part of the module’s version number. For more, see <a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">Module version numbering</a>.</p>
<p>一个次要版本会增加模块的版本号的次要部分。更多信息请参见模块版本号。</p>
<p>In the following example, v1.1.0 is a minor release.</p>
<p>在下面的例子中，v1.1.0是一个次要版本。</p>
<p>Old version: <code>v1.0.1</code></p>
<p>New version: <code>v1.1.0</code></p>
<p>You publish a minor release by tagging the module code in your repository, incrementing the minor version number in the tag. For more, see <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener">Publishing a module</a>.</p>
<p>你可以通过在版本库中标记模块代码来发布一个次要版本，在标记中增加次要版本号。更多信息请参见发布模块。</p>
<h2 id="publishing-breaking-api-changes-发布破坏性的api变化">Publishing breaking API changes 发布破坏性的API变化</h2>
<p>You can publish a version that breaks backward compatibility by publishing a <em>major</em> version release.</p>
<p>你可以通过发布一个主要版本来发布一个破坏后向兼容性的版本。</p>
<p>A major version release doesn’t guarantee backward compatibility, typically because it includes changes to the module’s public API that would break code using the module’s previous versions.</p>
<p>一个主要版本的发布并不能保证向后兼容，通常是因为它包括对模块的公共API的修改，这些修改会破坏使用该模块以前版本的代码。</p>
<p>Given the disruptive effect a major version upgrade can have on code relying on the module, you should avoid a major version update if you can. For more about major version updates, see <a href="https://go.dev/doc/modules/major-version" target="_blank" rel="noopener">Developing a major version update</a>. For strategies to avoid making breaking changes, see the blog post <a href="https://blog.golang.org/module-compatibility" target="_blank" rel="noopener">Keeping your modules compatible</a>.</p>
<p>考虑到主要版本升级对依赖该模块的代码可能产生的破坏性影响，如果可以的话，你应该避免主要版本更新。更多关于主要版本更新的信息，请看开发主要版本更新。关于避免破坏性修改的策略，请看博客文章《保持你的模块的兼容性》。</p>
<p>Where publishing other kinds of versions requires essentially tagging the module code with the version number, publishing a major version update requires more steps.</p>
<p>发布其他类型的版本只需要在模块代码上标记版本号，而发布主要版本更新需要更多的步骤。</p>
<ol>
<li>
<p>Before beginning development of the new major version, in your repository create a place for the new version’s source. 在开始开发新的主要版本之前，在你的版本库中为新版本的源代码创建一个地方。</p>
<p>One way to do this is to create a new branch in your repository that is specifically for the new major version and its subsequent minor and patch versions. For more, see <a href="https://go.dev/doc/modules/managing-source" target="_blank" rel="noopener">Managing module source</a>.一种方法是在你的版本库中创建一个新的分支，专门用于新的主版本及其后续的次版本和补丁版本。更多信息请参见管理模块源代码。</p>
</li>
<li>
<p>In the module’s go.mod file, revise the module path to append the new major version number, as in the following example:在模块的go.mod文件中，修改模块的路径，添加新的主要版本号，如下面的例子。</p>
<pre tabindex="0"><code>example.com/mymodule/v2
</code></pre><p>Given that the module path is the module’s identifier, this change effectively creates a new module. It also changes the package path, ensuring that developers won’t unintentionally import a version that breaks their code. Instead, those wanting to upgrade will explicitly replace occurrences of the old path with the new one.考虑到模块路径是模块的标识符，这一改变有效地创建了一个新模块。它也改变了包的路径，确保开发者不会无意中导入一个破坏他们代码的版本。相反，那些想要升级的人将明确地用新的路径来替换旧的路径的出现。</p>
</li>
<li>
<p>In your code, change any package paths where you’re importing packages in the module you’re updating, including packages in the module you’re updating. You need to do this because you changed your module path.在你的代码中，改变任何你要导入的模块中的包的路径，包括你要更新的模块中的包。你需要这样做是因为你改变了你的模块路径。</p>
</li>
<li>
<p>As with any new release, you should publish pre-release versions to get feedback and bug reports before publishing an official release.与任何新版本一样，在发布正式版本之前，你应该发布预发布版本以获得反馈和错误报告。</p>
</li>
<li>
<p>Publish the new major version by tagging the module code in your repository, incrementing the major version number in the tag – such as from v1.5.2 to v2.0.0.通过在你的版本库中标记模块代码来发布新的主要版本，在标记中增加主要版本号&ndash;比如从v1.5.2到v2.0.0。</p>
<p>For more, see <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener">Publishing a module</a>.</p>
<p>更多信息请参见发布模块。</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3fcbbc0c292c78a6aa83a34dd6c946a2">3 - 管理模块来源</h1>
    
	<h1 id="managing-module-source---管理模块来源">Managing module source - 管理模块来源</h1>
<blockquote>
<p>原文：<a href="https://go.dev/doc/modules/managing-source" target="_blank" rel="noopener">https://go.dev/doc/modules/managing-source</a></p>
</blockquote>
<p>When you’re developing modules to publish for others to use, you can help ensure that your modules are easier for other developers to use by following the repository conventions described in this topic.</p>
<p>当你开发模块并发布给其他人使用时，你可以通过遵循本主题中描述的版本库惯例，帮助确保你的模块更容易被其他开发者使用。</p>
<p>This topic describes actions you might take when managing your module repository. For information about the sequence of workflow steps you’d take when revising from version to version, see <a href="https://go.dev/doc/modules/release-workflow" target="_blank" rel="noopener">Module release and versioning workflow</a>.</p>
<p>本主题描述了你在管理你的模块库时可能采取的行动。关于你在修订版本时采取的工作流程步骤的顺序，请参阅模块发布和版本工作流程。</p>
<p>Some of the conventions described here are required in modules, while others are best practices. This content assumes you’re familiar with the basic module use practices described in <a href="https://go.dev/doc/modules/managing-dependencies" target="_blank" rel="noopener">Managing dependencies</a>.</p>
<p>这里描述的一些惯例在模块中是必须的，而另一些则是最佳实践。本内容假定你已经熟悉了管理依赖关系中描述的基本模块使用惯例。</p>
<p>Go supports the following repositories for publishing modules: Git, Subversion, Mercurial, Bazaar, and Fossil.</p>
<p>Go支持以下发布模块的存储库。Git、Subversion、Mercurial、Bazaar和Fossil。</p>
<p>For an overview of module development, see <a href="https://go.dev/doc/modules/developing" target="_blank" rel="noopener">Developing and publishing modules</a>.</p>
<p>关于模块开发的概述，请参阅开发和发布模块。</p>
<h2 id="how-go-tools-find-your-published-module-go工具如何找到你发布的模块">How Go tools find your published module Go工具如何找到你发布的模块</h2>
<p>In Go’s decentralized system for publishing modules and retrieving their code, you can publish your module while leaving the code in your repository. Go tools rely on naming rules that have repository paths and repository tags indicating a module’s name and version number. When your repository follows these requirements, your module code is downloadable from your repository by Go tools such as the <a href="https://go.dev/ref/mod#go-get" target="_blank" rel="noopener"><code>go get</code> command</a>.</p>
<p>在 Go 的发布模块和检索其代码的分散系统中，你可以发布你的模块，同时将代码留在你的仓库中。Go工具依赖于命名规则，这些规则有版本库路径和版本库标签，表明模块的名称和版本号。当你的版本库遵循这些要求时，你的模块代码就可以被Go工具（如go get命令）从你的版本库下载。</p>
<p>When a developer uses the <code>go get</code> command to get source code for packages their code imports, the command does the following:</p>
<p>当开发者使用go get命令来获取他们的代码所导入的包的源代码时，该命令会做以下工作：</p>
<ol>
<li>From <code>import</code> statements in Go source code, <code>go get</code> identifies the module path within the package path.从 Go 源代码中的导入语句，go get 识别包路径中的模块路径。</li>
<li>Using a URL derived from the module path, the command locates the module source on a module proxy server or at its repository directly.使用从模块路径导出的URL，该命令在模块代理服务器上或直接在其存储库中定位模块源。</li>
<li>Locates source for the module version to download by matching the module’s version number to a repository tag to discover the code in the repository. When a version number to use is not yet known, <code>go get</code> locates the latest release version.通过将模块的版本号与资源库的标签相匹配来发现资源库中的代码，从而找到要下载的模块版本的源。当使用的版本号还不知道时，go get会找到最新的发布版本。</li>
<li>Retrieves module source and downloads it to the developer’s local module cache.检索模块源并下载到开发者的本地模块缓存。</li>
</ol>
<h2 id="organizing-code-in-the-repository-在版本库中组织代码">Organizing code in the repository 在版本库中组织代码</h2>
<p>You can keep maintenance simple and improve developers&rsquo; experience with your module by following the conventions described here. Getting your module code into a repository is generally as simple as with other code.</p>
<p>你可以通过遵循这里描述的惯例来保持维护的简单性，并改善开发者对你的模块的体验。将你的模块代码放入版本库通常和其他代码一样简单。</p>
<p>The following diagram illustrates a source hierarchy for a simple module with two packages.</p>
<p>下图说明了一个有两个包的简单模块的源代码层次结构。</p>
<p>


<img src="/docs/UsingAndUnderstandingGo/DevelopingModules/ManagingModuleSource_img/source-hierarchy.png"
     alt="Diagram illustrating a module source code hierarchy"
     
/>




</p>
<p>Diagram illustrating a module source code hierarchy</p>
<p>图示模块源代码的层次结构</p>
<p>Your initial commit should include files listed in the following table:</p>
<p>你的初始提交应该包括下表中所列的文件：</p>
<table>
<thead>
<tr>
<th>File</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>LICENSE</td>
<td>The module&rsquo;s license. 模块的许可证。</td>
</tr>
<tr>
<td>go.mod</td>
<td>Describes the module, including its module path (in effect, its name) and its dependencies. For more, see the <a href="https://go.dev/doc/modules/gomod-ref" target="_blank" rel="noopener">go.mod reference</a>.The module path will be given in a module directive, such as:<code>module example.com/mymodule</code>For more about choosing a module path, see <a href="https://go.dev/doc/modules/managing-dependencies#naming_module" target="_blank" rel="noopener">Managing dependencies</a>.Though you can edit the go.mod file, you&rsquo;ll find it more reliable to make changes through <code>go</code> commands.描述模块，包括它的模块路径（实际上是它的名字）和它的依赖关系。更多信息请参见 go.mod 参考。模块路径将在一个模块指令中给出，例如模块 example.com/mymodule。关于选择模块路径的更多信息，请参见管理依赖关系。尽管你可以编辑go.mod文件，但你会发现通过go命令进行修改更为可靠。</td>
</tr>
<tr>
<td>go.sum</td>
<td>Contains cryptographic hashes that represent the module&rsquo;s dependencies. Go tools use these hashes to authenticate downloaded modules, attempting to confirm that the downloaded module is authentic. Where this confirmation fails, Go will display a security error.The file will be empty or not present when there are no dependencies. You shouldn&rsquo;t edit this file except by using the <code>go mod tidy</code> command, which removes unneeded entries.包含代表模块依赖关系的加密哈希值。Go工具使用这些哈希值来验证下载的模块，试图确认下载的模块是真实的。如果确认失败，Go 会显示一个安全错误。当没有依赖关系时，该文件将为空或不存在。你不应该编辑这个文件，除非使用 go mod tidy 命令，它可以删除不需要的条目。</td>
</tr>
<tr>
<td>Package directories and .go sources.</td>
<td>Directories and .go files that comprise the Go packages and sources in the module.组成模块中Go包和源的目录和.go文件。</td>
</tr>
</tbody>
</table>
<p>From the command-line, you can create an empty repository, add the files that will be part of your initial commit, and commit with a message. Here’s an example using git:</p>
<p>在命令行中，你可以创建一个空的仓库，添加将成为初始提交的一部分的文件，并提交一个消息。下面是一个使用git的例子：</p>
<div class="highlight"><div style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#55595f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ git init
</span></span><span style="display:flex;"><span>$ git add --all
</span></span><span style="display:flex;"><span>$ git commit -m <span style="color:#98c379">&#34;mycode: initial commit&#34;</span>
</span></span><span style="display:flex;"><span>$ git push
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="choosing-repository-scope-选择版本库范围">Choosing repository scope 选择版本库范围</h2>
<p>You publish code in a module when the code should be versioned independently from code in other modules.</p>
<p>当你在一个模块中发布代码时，该代码应该独立于其他模块的代码进行版本管理。</p>
<p>Designing your repository so that it hosts a single module at its root directory will help keep maintenance simpler, particularly over time as you publish new minor and patch versions, branch into new major versions, and so on. However, if your needs require it, you can instead maintain a collection of modules in a single repository.</p>
<p>设计你的版本库，使其在根目录下承载单一的模块，将有助于保持更简单的维护，特别是随着时间的推移，你发布新的次要和补丁版本，分支到新的主要版本，等等。然而，如果你的需求需要，你可以在一个版本库中维护一系列的模块。</p>
<h3 id="sourcing-one-module-per-repository-每个版本库采购一个模块">Sourcing one module per repository 每个版本库采购一个模块</h3>
<p>You can maintain a repository that has a single module’s source in it. In this model, you place your go.mod file at the repository root, with package subdirectories containing Go source beneath.</p>
<p>你可以维护一个只有一个模块源代码的版本库。在这种模式下，你把go.mod文件放在版本库根目录下，下面是包含Go源代码的包子目录。</p>
<p>This is the simplest approach, making your module likely easier to manage over time. It helps you avoid the need to prefix a module version number with a directory path.</p>
<p>这是最简单的方法，使你的模块可能更容易长期管理。它可以帮助你避免在模块的版本号前加上目录路径。</p>
<p>


<img src="/docs/UsingAndUnderstandingGo/DevelopingModules/ManagingModuleSource_img/single-module.png"
     alt="Diagram illustrating a single module&amp;rsquo;s source in its repository"
     
/>




</p>
<p>Diagram illustrating a single module&rsquo;s source in its repository</p>
<p>图示单个模块在其资源库中的源代码</p>
<h3 id="sourcing-multiple-modules-in-a-single-repository-在一个资源库中采购多个模块">Sourcing multiple modules in a single repository 在一个资源库中采购多个模块</h3>
<p>You can publish multiple modules from a single repository. For example, you might have code in a single repository that constitutes multiple modules, but want to version those modules separately.</p>
<p>你可以从一个资源库发布多个模块。例如，你可能在一个版本库中拥有构成多个模块的代码，但想分别对这些模块进行版本管理。</p>
<p>Each subdirectory that is a module root directory must have its own go.mod file.</p>
<p>每个作为模块根目录的子目录必须有自己的 go.mod 文件。</p>
<p>Sourcing module code in subdirectories changes the form of the version tag you must use when publishing a module. You must prefix the version number part of the tag with the name of the subdirectory that is the module root. For more about version numbers, see <a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">Module version numbering</a>.</p>
<p>在子目录中采购模块代码会改变你在发布模块时必须使用的版本标签的形式。你必须在标签的版本号部分前面加上作为模块根目录的子目录的名称。更多关于版本号的信息，请参见模块版本号。</p>
<p>For example, for module <code>example.com/mymodules/module1</code> below, you would have the following for version v1.2.3:</p>
<p>例如，对于下面的模块example.com/mymodules/module1，你会有以下版本v1.2.3：</p>
<ul>
<li>
<p>Module path: <code>example.com/mymodules/module1</code> 模块路径: example.com/mymodules/module1</p>
</li>
<li>
<p>Version tag: <code>module1/v1.2.3</code>  版本标签： module1/v1.2.3</p>
</li>
<li>
<p>Package path imported by a user: <code>example.com/mymodules/module1/package1</code></p>
<p>用户导入的软件包路径: example.com/mymodules/module1/package1</p>
</li>
<li>
<p>Module path as given in a user’s require directive: <code>example.com/mymodules/module1 module1/v1.2.3</code></p>
<p>用户在require指令中给出的模块路径：example.com/mymodules/module1 module1/v1.2.3</p>
</li>
</ul>
<p>


<img src="/docs/UsingAndUnderstandingGo/DevelopingModules/ManagingModuleSource_img/multiple-modules.png"
     alt="Diagram illustrating two modules in a single repository"
     
/>




</p>
<p>Diagram illustrating two modules in a single repository</p>
<p>图中说明了单个资源库中的两个模块</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-53061c1f4e0b7a54f74893a63869a0fc">4 - 开发主版本更新</h1>
    
	<h1 id="developing-a-major-version-update---开发主版本更新">Developing a major version update - 开发主版本更新</h1>
<p>​	当您在潜在的新版本中所做的更改无法保证模块用户的向后兼容性时，您必须更新到一个主要版本。例如，如果您更改了模块的公共API以使其破坏使用先前版本模块的客户端代码，则将进行此更改。</p>
<blockquote>
<p>注意：每种发布类型——主要、次要、修订或预发布——对于模块的用户都有不同的含义。这些用户依赖于这些差异来理解发布对其自身代码所代表的风险水平。换句话说，在准备发布时，请确保其版本号准确反映了自上一版本发布以来的更改性质。有关版本号的更多信息，请参阅<a href="../ModuleVersionNumbering">模块版本编号</a>。</p>
</blockquote>
<p>另请参阅</p>
<ul>
<li>有关模块开发的概述，请参阅 <a href="../DevelopingAndPublishingModules">开发和发布模块</a>。</li>
<li>有关端到端的视图，请参阅 <a href="../ModuleReleaseAndVersioningWorkflow">模块发布和版本控制工作流程</a>。</li>
</ul>
<h2 id="主要版本更新的注意事项">主要版本更新的注意事项</h2>
<p>​	仅当绝对必要时，您才应更新到新的主要版本。主要版本更新对您和模块的用户都会产生重大变动。在考虑进行主要版本更新时，请考虑以下内容：</p>
<ul>
<li>
<p>向用户明确新的主要版本发布对以前主要版本的支持意味着什么。</p>
<p>以前的版本是否已废弃？是否像以前一样受到支持？您是否将维护以前的版本，包括修复bug？</p>
</li>
<li>
<p>准备好承担两个版本的维护工作：旧版本和新版本。例如，如果您在其中一个版本中修复了bug，则通常会将这些修复移植到另一个版本中。</p>
</li>
<li>
<p>请记住，新的主要版本从依赖管理的角度来看是一个新模块。在您发布之后，您的用户需要更新以使用新模块，而不仅仅是简单地升级。</p>
<p>这是因为新的主要版本具有不同的模块路径，与前一个主要版本不同。例如，对于其模块路径为<code>example.com/mymodule</code>的模块，而v2版本的模块路径为<code>example.com/mymodule/v2</code>。</p>
</li>
<li>
<p>当您开发一个新的主要版本时，您还必须更新代码导入包的导入路径，无论从哪个模块导入包。如果你的模块的用户想升级到新的主要版本，他们也必须更新他们的导入路径。</p>
</li>
</ul>
<h2 id="为主要版本发布创建分支">为主要版本发布创建分支</h2>
<p>​	在准备开发一个新的主版本时，处理源代码的最直接方法是在上一个主版本的最新版本上对版本库进行分支。</p>
<p>​	例如，在命令提示符下，你可以切换到模块的根目录，然后在那里创建一个新的 v2 分支。</p>
<pre tabindex="0"><code>$ cd mymodule
$ git checkout -b v2
Switched to a new branch &#34;v2&#34;
</code></pre><p>


<img src="/docs/UsingAndUnderstandingGo/DevelopingModules/DevelopingAmajorVersionUpdate_img/v2-branch-module.png"
     alt="Diagram illustrating a repository branched from master to v2"
     
/>




</p>
<p>一张描绘从主分支(master)分支出v2版本的仓库的图示
{: caption }</p>
<p>​	一旦你创建了源代码的分支，你就需要对新版本的源代码进行以下更改：</p>
<ul>
<li>在新版本的go.mod文件中，在模块路径中添加新的主版本号，如下所示：
<ul>
<li>现有版本: <code>example.com/mymodule</code></li>
<li>新版本: <code>example.com/mymodule/v2</code></li>
</ul>
</li>
<li>在你的Go代码中，更新每个导入的包路径，在你从该模块中导入一个包时，将主版本号附加到模块路径部分。
<ul>
<li>旧的导入语句: <code>import &quot;example.com/mymodule/package1&quot;</code></li>
<li>新的导入语句: <code>import &quot;example.com/mymodule/v2/package1&quot;</code></li>
</ul>
</li>
</ul>
<p>​	有关发布步骤，请参阅<a href="../PublishingAModule">发布模块</a>。</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-17f6e72f0c269f4326bd16907a32d204">5 - 发布模块</h1>
    
	<h1 id="publishing-a-module---发布模块">Publishing a module - 发布模块</h1>
<blockquote>
<p>原文：<a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener">https://go.dev/doc/modules/publishing</a></p>
</blockquote>
<p>When you want to make a module available for other developers, you publish it so that it’s visible to Go tools. Once you’ve published the module, developers importing its packages will be able to resolve a dependency on the module by running commands such as <code>go get</code>.</p>
<p>当你想把一个模块提供给其他开发者时，你可以发布它，这样它就能被Go工具看到。一旦你发布了模块，导入其软件包的开发者就可以通过运行go get等命令来解决对该模块的依赖。</p>
<blockquote>
<p><strong>Note:</strong> Don’t change a tagged version of a module after publishing it. For developers using the module, Go tools authenticate a downloaded module against the first downloaded copy. If the two differ, Go tools will return a security error. Instead of changing the code for a previously published version, publish a new version.注意：不要在发布模块后改变模块的标记版本。对于使用该模块的开发者来说，Go工具会根据第一个下载的副本来验证下载的模块。如果两者不同，Go工具将返回一个安全错误。不要改变之前发布的版本的代码，而是发布一个新的版本。</p>
</blockquote>
<p><strong>See also</strong></p>
<p>另见</p>
<ul>
<li>For an overview of module development, see <a href="https://go.dev/doc/modules/developing" target="_blank" rel="noopener">Developing and publishing modules</a>关于模块开发的概述，见开发和发布模块</li>
<li>For a high-level module development workflow – which includes publishing – see <a href="https://go.dev/doc/modules/release-workflow" target="_blank" rel="noopener">Module release and versioning workflow</a>.关于高层次的模块开发工作流程&ndash;包括发布&ndash;见模块发布和版本工作流程。</li>
</ul>
<h2 id="publishing-steps-发布步骤">Publishing steps 发布步骤</h2>
<p>Use the following steps to publish a module.</p>
<p>使用下面的步骤来发布模块。</p>
<ol>
<li>
<p>Open a command prompt and change to your module’s root directory in the local repository.打开命令提示符，切换到本地版本库中模块的根目录。</p>
</li>
<li>
<p>Run <code>go mod tidy</code>, which removes any dependencies the module might have accumulated that are no longer necessary.运行go mod tidy，删除模块可能积累的不再需要的任何依赖关系。</p>
<pre tabindex="0"><code>$ go mod tidy
</code></pre></li>
<li>
<p>Run <code>go test ./...</code> a final time to make sure everything is working.最后一次运行go test ./&hellip;以确保一切正常。</p>
<p>This runs the unit tests you’ve written to use the Go testing framework.这将运行你编写的单元测试，以使用Go测试框架。</p>
<pre tabindex="0"><code>$ go test ./...
ok      example.com/mymodule       0.015s
</code></pre></li>
<li>
<p>Tag the project with a new version number using the <code>git tag</code> command.使用git tag命令给项目贴上新的版本号。</p>
<p>For the version number, use a number that signals to users the nature of changes in this release. For more, see <a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">Module version numbering</a>.对于版本号，请使用一个能向用户表明此版本中变化性质的数字。更多信息请参见模块的版本号。</p>
<pre tabindex="0"><code>$ git commit -m &#34;mymodule: changes for v0.1.0&#34;
$ git tag v0.1.0
</code></pre></li>
<li>
<p>Push the new tag to the origin repository.推送新的标签到原点仓库。</p>
<pre tabindex="0"><code>$ git push origin v0.1.0
</code></pre></li>
<li>
<p>Make the module available by running the <a href="https://go.dev/cmd/go/#hdr-List_packages_or_modules" target="_blank" rel="noopener"><code>go list</code> command</a> to prompt Go to update its index of modules with information about the module you’re publishing.通过运行 go list 命令使模块可用，以提示 Go 用你要发布的模块的信息更新其模块索引。</p>
<p>Precede the command with a statement to set the <code>GOPROXY</code> environment variable to a Go proxy. This will ensure that your request reaches the proxy.在命令的前面加上一条语句，将GOPROXY环境变量设置为Go代理。这将确保你的请求到达代理。</p>
<pre tabindex="0"><code>$ GOPROXY=proxy.golang.org go list -m example.com/mymodule@v0.1.0
</code></pre></li>
</ol>
<p>Developers interested in your module import a package from it and run the <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener"><code>go get</code> command</a> just as they would with any other module. They can run the <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener"><code>go get</code> command</a> for latest versions or they can specify a particular version, as in the following example:</p>
<p>对你的模块感兴趣的开发者从你的模块中导入一个包，然后像对待其他模块一样运行 go get 命令。他们可以运行go get命令获取最新的版本，也可以指定一个特定的版本，就像下面的例子：</p>
<pre tabindex="0"><code>$ go get example.com/mymodule@v0.1.0
</code></pre>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-dfd8c9c2a4a530522308f654362d2b44">6 - 模块的版本编号</h1>
    
	<h1 id="module-version-numbering---模块的版本编号">Module version numbering - 模块的版本编号</h1>
<blockquote>
<p>原文：<a href="https://go.dev/doc/modules/version-numbers" target="_blank" rel="noopener">https://go.dev/doc/modules/version-numbers</a></p>
</blockquote>
<p>A module’s developer uses each part of a module’s version number to signal the version’s stability and backward compatibility. For each new release, a module’s release version number specifically reflects the nature of the module’s changes since the preceding release.</p>
<p>一个模块的开发者使用一个模块的版本号的每一部分来表示该版本的稳定性和向后兼容性。对于每一个新的版本，模块的发布版本号具体反映了模块自前一个版本以来的变化性质。</p>
<p>When you’re developing code that uses external modules, you can use the version numbers to understand an external module’s stability when you’re considering an upgrade. When you’re developing your own modules, your version numbers will signal your modules&rsquo; stability and backward compatibility to other developers.</p>
<p>当你在开发使用外部模块的代码时，当你考虑升级时，你可以使用版本号来了解外部模块的稳定性。当你开发你自己的模块时，你的版本号将向其他开发者表明你的模块的稳定性和向后兼容性。</p>
<p>This topic describes what module version numbers mean.</p>
<p>本主题描述了模块版本号的含义。</p>
<p><strong>See also</strong></p>
<p>另见</p>
<ul>
<li>When you’re using external packages in your code, you can manage those dependencies with Go tools. For more, see <a href="https://go.dev/doc/modules/managing-dependencies" target="_blank" rel="noopener">Managing dependencies</a>.当你在代码中使用外部包时，你可以用Go工具管理这些依赖关系。更多信息，请参见管理依赖关系。</li>
<li>If you’re developing modules for others to use, you apply a version number when you publish the module, tagging the module in its repository. For more, see <a href="https://go.dev/doc/modules/publishing" target="_blank" rel="noopener">Publishing a module</a>.如果你正在开发模块供他人使用，你可以在发布模块时应用一个版本号，在其仓库中标记该模块。更多信息，请参见发布模块。</li>
</ul>
<p>A released module is published with a version number in the semantic versioning model, as in the following illustration:</p>
<p>发布的模块在语义版本模型中带有一个版本号，如下图所示：</p>
<p>


<img src="/docs/UsingAndUnderstandingGo/DevelopingModules/ModuleVersionNnumbering_img/version-number.png"
     alt="Diagram illustrating a semantic version number showing major version 1, minor version 4, patch version 0, and pre-release version beta 2"
     
/>




</p>
<p>Diagram illustrating a semantic version number showing major version 1, minor version 4, patch version 0, and pre-release version beta 2</p>
<p>语义版本号示意图，显示主版本1、次版本4、补丁版本0和预发布版本β2</p>
<p>The following table describes how the parts of a version number signify a module’s stability and backward compatibility.</p>
<table>
<thead>
<tr>
<th>Version stage 版本阶段</th>
<th>Example  例子</th>
<th>Message to developers 给开发者的信息</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://go.dev/doc/modules/version-numbers#in-development" target="_blank" rel="noopener">In development</a></td>
<td>Automatic pseudo-version numberv<strong>0</strong>.x.x</td>
<td>Signals that the module is still <strong>in development and unstable</strong>. This release carries no backward compatibility or stability guarantees.标志着该模块仍在开发中，不稳定。这个版本没有向后兼容性或稳定性保证。</td>
</tr>
<tr>
<td><a href="https://go.dev/doc/modules/version-numbers#major" target="_blank" rel="noopener">Major version</a></td>
<td>v<strong>1</strong>.x.x</td>
<td>Signals <strong>backward-incompatible public API changes</strong>. This release carries no guarantee that it will be backward compatible with preceding major versions.主要版本v1.x.x 标志着向后不兼容的公共API变化。该版本不保证与之前的主要版本向后兼容。</td>
</tr>
<tr>
<td><a href="https://go.dev/doc/modules/version-numbers#minor" target="_blank" rel="noopener">Minor version</a></td>
<td>vx.<strong>4</strong>.x</td>
<td>Signals <strong>backward-compatible public API changes</strong>. This release guarantees backward compatibility and stability.次要版本vx.4.x标志着向后兼容的公共API变化。此版本保证向后兼容和稳定。</td>
</tr>
<tr>
<td><a href="https://go.dev/doc/modules/version-numbers#patch" target="_blank" rel="noopener">Patch version</a></td>
<td>vx.x.<strong>1</strong></td>
<td>Signals <strong>changes that don&rsquo;t affect the module&rsquo;s public API</strong> or its dependencies. This release guarantees backward compatibility and stability.补丁版本vx.x.1 标志着不影响模块的公共API或其依赖关系的变化。这个版本保证了向后的兼容性和稳定性。</td>
</tr>
<tr>
<td><a href="https://go.dev/doc/modules/version-numbers#pre-release" target="_blank" rel="noopener">Pre-release version</a></td>
<td>vx.x.x-<strong>beta.2</strong></td>
<td>Signals that this is a <strong>pre-release milestone, such as an alpha or beta</strong>. This release carries no stability guarantees.预发布版本 vx.x.x-beta.2 标志着这是一个预发布的里程碑，例如 alpha 或 beta。这个版本没有稳定性保证。</td>
</tr>
</tbody>
</table>
<h2 id="in-development-开发中">In development 开发中</h2>
<p>Signals that the module is still in development and <strong>unstable</strong>. This release carries no backward compatibility or stability guarantees.</p>
<p>标志着该模块仍在开发中，不稳定。这个版本没有向后兼容性或稳定性保证。</p>
<p>The version number can take one of the following forms:</p>
<p>版本号可以采取以下形式之一：</p>
<p>**Pseudo-version number **伪版本号</p>
<blockquote>
<p>v0.0.0-20170915032832-14c0d48ead0c</p>
</blockquote>
<p><strong>v0 number</strong> v0编号</p>
<blockquote>
<p>v0.x.x</p>
</blockquote>
<h3 id="pseudo-version-number-伪版本号">Pseudo-version number 伪版本号</h3>
<p>When a module has not been tagged in its repository, Go tools will generate a pseudo-version number for use in the go.mod file of code that calls functions in the module.</p>
<p>当一个模块在其仓库中没有被标记时，Go工具将生成一个伪版本号，用于调用该模块函数的代码的go.mod文件中。</p>
<p><strong>Note:</strong> As a best practice, always allow Go tools to generate the pseudo-version number rather than creating your own.</p>
<p>注意: 作为一个最佳实践，总是让Go工具生成伪版本号，而不是自己创建。</p>
<p>Pseudo-versions are useful when a developer of code consuming the module’s functions needs to develop against a commit that hasn’t been tagged with a semantic version tag yet.</p>
<p>当使用模块函数的代码开发人员需要针对尚未被标记为语义版本标签的提交进行开发时，伪版本号非常有用。</p>
<p>A pseudo-version number has three parts separated by dashes, as shown in the following form:</p>
<p>伪版本号有三个部分，用破折号隔开，如以下形式所示：</p>
<h4 id="syntax-语法">Syntax 语法</h4>
<p><em>baseVersionPrefix</em>-<em>timestamp</em>-<em>revisionIdentifier</em></p>
<h4 id="parts-部件">Parts 部件</h4>
<ul>
<li><strong>baseVersionPrefix</strong> (vX.0.0 or vX.Y.Z-0) is a value derived either from a semantic version tag that precedes the revision or from vX.0.0 if there is no such tag.timestamp（yymmddhhmmss）是该修订版的UTC时间。在Git中，这是提交时间，而不是作者时间。</li>
<li><strong>timestamp</strong> (yymmddhhmmss) is the UTC time the revision was created. In Git, this is the commit time, not the author time.revisionIdentifier (abcdefabcdef) 是提交哈希值的12个字符的前缀，或者在Subversion中，是一个零填充的版本号。</li>
<li><strong>revisionIdentifier</strong> (abcdefabcdef) is a 12-character prefix of the commit hash, or in Subversion, a zero-padded revision number.</li>
</ul>
<h3 id="v0-number-v0号">v0 number v0号</h3>
<p>A module published with a v0 number will have a formal semantic version number with a major, minor, and patch part, as well as an optional pre-release identifier.</p>
<p>一个以v0编号发布的模块将有一个正式的语义上的版本号，包括主要、次要和补丁部分，以及一个可选的预发布标识符。</p>
<p>Though a v0 version can be used in production, it makes no stability or backward compatibility guarantees. In addition, versions v1 and later are allowed to break backward compatibility for code using the v0 versions. For this reason, a developer with code consuming functions in a v0 module is responsible for adapting to incompatible changes until v1 is released.</p>
<p>尽管v0版本可以在生产中使用，但它不做任何稳定性或向后兼容性的保证。此外，v1及以后的版本允许打破使用v0版本的代码的向后兼容性。由于这个原因，拥有消耗v0模块功能的代码的开发者有责任适应不兼容的变化，直到v1版本发布。</p>
<h2 id="pre-release-version-预发布版本">Pre-release version 预发布版本</h2>
<p>Signals that this is a pre-release milestone, such as an alpha or beta. This release carries no stability guarantees.</p>
<p>标志着这是一个预发布的里程碑，如alpha或beta。这个版本没有稳定性保证。</p>
<h4 id="example-例如">Example 例如</h4>
<pre tabindex="0"><code>vx.x.x-beta.2
</code></pre><p>A module’s developer can use a pre-release identifier with any major.minor.patch combination by appending a hyphen and the pre-release identifier.</p>
<p>一个模块的开发者可以在任何major.minor.patch组合中使用预发布标识符，方法是在预发布标识符后面加上一个连字符。</p>
<h2 id="minor-version-次要版本">Minor version 次要版本</h2>
<p>Signals backward-compatible changes to the module’s public API. This release guarantees backward compatibility and stability.</p>
<p>标志着模块的公共API向后兼容的变化。这个版本保证了向后的兼容性和稳定性。</p>
<h4 id="example-例如-1">Example 例如</h4>
<pre tabindex="0"><code>vx.4.x
</code></pre><p>This version changes the module’s public API, but not in a way that breaks calling code. This might include changes to a module’s own dependencies or the addition of new functions, methods, struct fields, or types.</p>
<p>这个版本改变了模块的公共API，但不是以破坏调用代码的方式。这可能包括对模块本身的依赖性的改变，或增加新的函数、方法、结构域或类型。</p>
<p>In other words, this version might include enhancements through new functions that another developer might want to use. However, a developer using previous minor versions needn’t change their code otherwise.</p>
<p>换句话说，这个版本可能包括通过另一个开发者可能想要使用的新函数进行的增强。然而，使用以前次要版本的开发者不需要改变他们的代码。</p>
<h2 id="patch-version-补丁版本">Patch version 补丁版本</h2>
<p>Signals changes that don’t affect the module’s public API or its dependencies. This release guarantees backward compatibility and stability.</p>
<p>标志着不影响模块的公共API或其依赖关系的变化。这个版本保证了向后的兼容性和稳定性。</p>
<h4 id="example-例如-2">Example 例如</h4>
<pre tabindex="0"><code>vx.x.1
</code></pre><p>An update that increments this number is only for minor changes such as bug fixes. Developers of consuming code can upgrade to this version safely without needing to change their code.</p>
<p>递增这个数字的更新只针对微小的变化，如错误修复。消耗代码的开发者可以安全地升级到这个版本而不需要改变他们的代码。</p>
<h2 id="major-version-主要版本">Major version 主要版本</h2>
<p>Signals backward-incompatible changes in a module’s public API. This release carries no guarantee that it will be backward compatible with preceding major versions.</p>
<p>标志着一个模块的公共API向后兼容的变化。这个版本不保证它能向后兼容之前的主要版本。</p>
<h4 id="example-例如-3">Example 例如</h4>
<p>v1.x.x</p>
<p>A v1 or above version number signals that the module is stable for use (with exceptions for its pre-release versions).</p>
<p>一个v1或以上的版本号表示该模块可以稳定使用（其预发布版本除外）。</p>
<p>Note that because a version 0 makes no stability or backward compatibility guarantees, a developer upgrading a module from v0 to v1 is responsible for adapting to changes that break backward compatibility.</p>
<p>请注意，由于0版本没有稳定性或向后兼容性的保证，开发者要负责将模块从v0升级到v1，以适应破坏向后兼容性的变化。</p>
<p>A module developer should increment this number past v1 only when necessary because the version upgrade represents significant disruption for developers whose code uses function in the upgraded module. This disruption includes backward-incompatible changes to the public API, as well as the need for developers using the module to update the package path wherever they import packages from the module.</p>
<p>一个模块的开发者只有在必要的时候才应该把这个数字增加到v1以上，因为版本升级对那些代码使用升级后的模块功能的开发者来说意味着重大的破坏。这种干扰包括对公共API的向后兼容的改变，以及使用该模块的开发者需要在他们从该模块导入包的地方更新包路径。</p>
<p>A major version update to a number higher than v1 will also have a new module path. That’s because the module path will have the major version number appended, as in the following example:</p>
<p>一个主要的版本更新到高于v1的数字，也会有一个新的模块路径。这是因为模块路径将附加主要的版本号，如下面的例子：</p>
<pre tabindex="0"><code>module example.com/mymodule/v2 v2.0.0
</code></pre><p>A major version update makes this a new module with a separate history from the module’s previous version. If you’re developing modules to publish for others, see “Publishing breaking API changes” in <a href="https://go.dev/doc/modules/release-workflow" target="_blank" rel="noopener">Module release and versioning workflow</a>.</p>
<p>一个主要版本的更新使得这是一个新的模块，与该模块之前的版本有一个独立的历史。如果你开发的模块要为他人发布，请参阅模块发布和版本工作流程中的 &ldquo;发布破坏性的API变化&rdquo;。</p>
<p>For more on the module directive, see <a href="https://go.dev/doc/modules/gomod-ref" target="_blank" rel="noopener">go.mod reference</a>.</p>
<p>关于模块指令的更多信息，请参见go.mod参考。</p>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/google/docsy" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing list" aria-label="Developer mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 The Docsy Authors </small>
        <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener"></a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
  <script src="/js/main.min.9069af235eb4d4956fc4dc29e5ca46caef0cdcae593856be4e33c99075bc5ea2.js" integrity="sha256-kGmvI1601JVvxNwp5cpGyu8M3K5ZOFa&#43;TjPJkHW8XqI=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>
<script src='/js/deal-zero-width-space.js'></script>
  </body>
</html>
