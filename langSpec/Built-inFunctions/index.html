<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/go_docs/favicons/favicon.ico><link rel=apple-touch-icon href=/go_docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/go_docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/go_docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/go_docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/go_docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/go_docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/go_docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/go_docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/go_docs/favicons/android-192x192.png sizes=192x192><title>内置函数 | Go 中文档集</title><meta name=description content="Built-in functions 内置函数 原文：https://go.dev/ref/spec#Built-in_functions Built-in functions are predeclared. They are called like any other function but some of them accept a type instead"><meta property="og:title" content="内置函数"><meta property="og:description" content="Built-in functions 内置函数 原文：https://go.dev/ref/spec#Built-in_functions Built-in functions are predeclared. They are called like any other function but some of them accept a type instead"><meta property="og:type" content="article"><meta property="og:url" content="https://before80.github.io/go_docs/langSpec/Built-inFunctions/"><meta property="article:section" content="langSpec"><meta property="article:published_time" content="2023-05-17T09:59:21+08:00"><meta property="article:modified_time" content="2024-10-10T15:07:50+08:00"><meta itemprop=name content="内置函数"><meta itemprop=description content="Built-in functions 内置函数 原文：https://go.dev/ref/spec#Built-in_functions Built-in functions are predeclared. They are called like any other function but some of them accept a type instead"><meta itemprop=datePublished content="2023-05-17T09:59:21+08:00"><meta itemprop=dateModified content="2024-10-10T15:07:50+08:00"><meta itemprop=wordCount content="6145"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="内置函数"><meta name=twitter:description content="Built-in functions 内置函数 原文：https://go.dev/ref/spec#Built-in_functions Built-in functions are predeclared. They are called like any other function but some of them accept a type instead"><link rel=preload href=/go_docs/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css as=style><link href=/go_docs/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css rel=stylesheet integrity><link href=/go_docs/css/extra.css rel=stylesheet><link href=/go_docs/css/tocbot.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3.6.0 integrity="sha512-AyDFDkYyALC5qoao077IqAOV7UC4oKCBTp+mJfjIt306AIRoBxoEZYDo0kAx/R7RbT+3EYEky1po/F1w1eQt7g==" crossorigin=anonymous></head><body class=td-page><header><nav class="td-navbar navbar-dark js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/go_docs/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>Go 中文档集</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=javascript:; id=show-timer style=color:#fe4512f5!important></a></li><li class=nav-item><a class=nav-link href=/go_docs/refs/><span>参考</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/comm/><span>对比</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/tools/><span>工具</span></a></li><li class=nav-item><a class="nav-link active" href=/go_docs/langSpec/><span>语规</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/styleGuide/><span>编规</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/example/><span>示例</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/asu/><span>汇总</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/fx/><span>分析</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/docs/><span>文档</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/cmd/><span>go命令</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/stdLib/><span>标准库</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/thirdPkg/><span>第三方包</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/delve/><span>delve</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/rod/><span>rod</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/goframe/><span>goframe</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/gorm/><span>gorm</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/echo/><span>echo</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/fiber/><span>fiber</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/buffalo/><span>buffalo</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/beego/><span>beego</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/goBlog/><span>官博</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/proposal/><span>提案</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg><button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true><svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search--algolia id=docsearch-1></div></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search--algolia id=docsearch-0></div></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-go_docslangspec-li><a href=/go_docs/langSpec/ title=语言规范 class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-go_docslangspec><span>语规</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecintroduction-li><input type=checkbox id=m-go_docslangspecintroduction-check>
<label for=m-go_docslangspecintroduction-check><a href=/go_docs/langSpec/Introduction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecintroduction><span>简介</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecnotation-li><input type=checkbox id=m-go_docslangspecnotation-check>
<label for=m-go_docslangspecnotation-check><a href=/go_docs/langSpec/Notation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecnotation><span>标记法</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecsourcecoderepresentation-li><input type=checkbox id=m-go_docslangspecsourcecoderepresentation-check>
<label for=m-go_docslangspecsourcecoderepresentation-check><a href=/go_docs/langSpec/SourceCodeRepresentation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecsourcecoderepresentation><span>源代码表示</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspeclexicalelements-li><input type=checkbox id=m-go_docslangspeclexicalelements-check>
<label for=m-go_docslangspeclexicalelements-check><a href=/go_docs/langSpec/LexicalElements/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspeclexicalelements><span>词汇元素</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecconstants-li><input type=checkbox id=m-go_docslangspecconstants-check>
<label for=m-go_docslangspecconstants-check><a href=/go_docs/langSpec/Constants/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecconstants><span>常量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecvariables-li><input type=checkbox id=m-go_docslangspecvariables-check>
<label for=m-go_docslangspecvariables-check><a href=/go_docs/langSpec/Variables/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecvariables><span>变量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspectypes-li><input type=checkbox id=m-go_docslangspectypes-check>
<label for=m-go_docslangspectypes-check><a href=/go_docs/langSpec/Types/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspectypes><span>类型</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecpropertiesoftypesandvalues-li><input type=checkbox id=m-go_docslangspecpropertiesoftypesandvalues-check>
<label for=m-go_docslangspecpropertiesoftypesandvalues-check><a href=/go_docs/langSpec/PropertiesOfTypesAndValues/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecpropertiesoftypesandvalues><span>类型和值的属性</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecblocks-li><input type=checkbox id=m-go_docslangspecblocks-check>
<label for=m-go_docslangspecblocks-check><a href=/go_docs/langSpec/Blocks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecblocks><span>块</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecdeclarationsandscope-li><input type=checkbox id=m-go_docslangspecdeclarationsandscope-check>
<label for=m-go_docslangspecdeclarationsandscope-check><a href=/go_docs/langSpec/DeclarationsAndScope/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecdeclarationsandscope><span>声明和作用域</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecexpressions-li><input type=checkbox id=m-go_docslangspecexpressions-check>
<label for=m-go_docslangspecexpressions-check><a href=/go_docs/langSpec/Expressions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecexpressions><span>表达式</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecstatements-li><input type=checkbox id=m-go_docslangspecstatements-check>
<label for=m-go_docslangspecstatements-check><a href=/go_docs/langSpec/Statements/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecstatements><span>语句</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-go_docslangspecbuilt-infunctions-li><input type=checkbox id=m-go_docslangspecbuilt-infunctions-check checked>
<label for=m-go_docslangspecbuilt-infunctions-check><a href=/go_docs/langSpec/Built-inFunctions/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecbuilt-infunctions><span class=td-sidebar-nav-active-item>内置函数</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecpackages-li><input type=checkbox id=m-go_docslangspecpackages-check>
<label for=m-go_docslangspecpackages-check><a href=/go_docs/langSpec/Packages/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecpackages><span>包</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecprograminitializationandexecution-li><input type=checkbox id=m-go_docslangspecprograminitializationandexecution-check>
<label for=m-go_docslangspecprograminitializationandexecution-check><a href=/go_docs/langSpec/ProgramInitializationAndExecution/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecprograminitializationandexecution><span>程序初始化和执行</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecerrors-li><input type=checkbox id=m-go_docslangspecerrors-check>
<label for=m-go_docslangspecerrors-check><a href=/go_docs/langSpec/Errors/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecerrors><span>错误</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecrun-timepanics-li><input type=checkbox id=m-go_docslangspecrun-timepanics-check>
<label for=m-go_docslangspecrun-timepanics-check><a href=/go_docs/langSpec/Run-timePanics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecrun-timepanics><span>运行时恐慌</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecsystemconsiderations-li><input type=checkbox id=m-go_docslangspecsystemconsiderations-check>
<label for=m-go_docslangspecsystemconsiderations-check><a href=/go_docs/langSpec/SystemConsiderations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecsystemconsiderations><span>系统考虑</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecappendix-li><input type=checkbox id=m-go_docslangspecappendix-check>
<label for=m-go_docslangspecappendix-check><a href=/go_docs/langSpec/Appendix/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecappendix><span>附录</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspectypeunificationrules-li><input type=checkbox id=m-go_docslangspectypeunificationrules-check>
<label for=m-go_docslangspectypeunificationrules-check><a href=/go_docs/langSpec/TypeUnificationRules/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspectypeunificationrules><span>类型统一规则</span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://before80.github.io/go_docs/comm/coffee class="td-page-meta--view td-page-meta__view" style=color:#2bf518!important target=_blank rel=noopener><i class="fa-solid fa-mug-hot fa-fw"></i> 请作者喝杯咖啡吧</a>
<a href=https://github.com/before80/go_docs/tree/main/content/langSpec/Built-inFunctions.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> 查看页面源码</a>
<a href=https://github.com/before80/go_docs/edit/main/content/langSpec/Built-inFunctions.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 编辑此页</a>
<a href="https://github.com/before80/go_docs/new/main/content/langSpec?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 添加子页面</a>
<a href="https://github.com/before80/go_docs/issues/new?title=%e5%86%85%e7%bd%ae%e5%87%bd%e6%95%b0" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/before80/go_docs/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交项目问题</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#built-in-functions-内置函数>Built-in functions 内置函数</a><ul><li><a href=#appending-to-and-copying-slices-追加和复制切片>Appending to and copying slices 追加和复制切片</a></li><li><a href=#clear>Clear</a></li><li><a href=#close>Close</a></li><li><a href=#manipulating-complex-numbers-操纵复数>Manipulating complex numbers 操纵复数</a></li><li><a href=#deletion-of-map-elements-删除映射元素>Deletion of map elements 删除映射元素</a></li><li><a href=#length-and-capacity-长度和容量>Length and capacity 长度和容量</a></li><li><a href=#making-slices-maps-and-channels-制作切片映射和通道>Making slices, maps and channels 制作切片、映射和通道</a></li><li><a href=#min-and-max-最小值和最大值>Min and max 最小值和最大值</a></li><li><a href=#allocation-分配>Allocation 分配</a></li><li><a href=#handling-panics-处理恐慌>Handling panics 处理恐慌</a></li><li><a href=#bootstrapping-引导>Bootstrapping 引导</a></li></ul></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/go_docs/langSpec/>语规</a></li><li class="breadcrumb-item active" aria-current=page>内置函数</li></ol></nav><div class=td-content><h1>内置函数</h1><header class=article-meta><p class=reading-time><i class="fa-solid fa-clock" style=color:#e90 aria-hidden=true></i>&nbsp; <span style=font-size:3rem;color:#006400 id=advice-reading-time>13 </span>分钟阅读 &nbsp;</p></header><h2 id=built-in-functions-内置函数>Built-in functions 内置函数</h2><blockquote><p>原文：<a href=https://go.dev/ref/spec#Built-in_functions>https://go.dev/ref/spec#Built-in_functions</a></p></blockquote><p>Built-in functions are <a href=https://go.dev/ref/spec#Predeclared_identifiers>predeclared</a>. They are called like any other function but some of them accept a type instead of an expression as the first argument.</p><p>​ 内置函数是<a href=../DeclarationsAndScope#predeclared-identifiers--%E9%A2%84%E5%85%88%E5%A3%B0%E6%98%8E%E7%9A%84%E6%A0%87%E8%AF%86%E7%AC%A6>预先声明的</a>。它们像其他函数一样被调用，但其中一些函数接受一个类型而非表达式作为其第一个实参。</p><p>The built-in functions do not have standard Go types, so they can only appear in <a href=https://go.dev/ref/spec#Calls>call expressions</a>; they cannot be used as function values.</p><p>​ 内置函数没有标准的Go类型，所以它们只能出现在<a href=../Expressions#calls-%E8%B0%83%E7%94%A8>调用表达式</a>中；它们不能作为函数值使用。</p><h3 id=appending-to-and-copying-slices-追加和复制切片>Appending to and copying slices 追加和复制切片</h3><p>The built-in functions <code>append</code> and <code>copy</code> assist in common slice operations. For both functions, the result is independent of whether the memory referenced by the arguments overlaps.</p><p>​ 内置函数<code>append</code>和<code>copy</code>可以帮助进行常见的切片操作。对于这两个函数，其结果与实参所引用的内存是否重叠无关。</p><p>The <a href=https://go.dev/ref/spec#Function_types>variadic</a> function <code>append</code> appends zero or more values <code>x</code> to a slice <code>s</code> and returns the resulting slice of the same type as <code>s</code>. The <a href=https://go.dev/ref/spec#Core_types>core type</a> of <code>s</code> must be a slice of type <code>[]E</code>. The values <code>x</code> are passed to a parameter of type <code>...E</code> and the respective <a href=https://go.dev/ref/spec#Passing_arguments_to_..._parameters>parameter passing rules</a> apply. As a special case, if the core type of <code>s</code> is <code>[]byte</code>, <code>append</code> also accepts a second argument with core type <a href=https://go.dev/ref/spec#Core_types><code>bytestring</code></a> followed by <code>...</code>. This form appends the bytes of the byte slice or string.</p><p>​ <a href=../Types#function-types-%E5%87%BD%E6%95%B0%E5%9E%8B>可变参数</a>函数<code>append</code>将<strong>零个或多个值</strong><code>x</code>追加到一个切片<code>s</code>，并返回与<code>s</code>相同类型的结果切片。值<code>x</code>被传递给一个类型为<code>...E</code>的参数，各自的<a href=../Expressions#passing-arguments-to--parameters-%E5%90%91%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E5%AE%9E%E5%8F%82>参数传递规则</a>适用。<strong>作为一个特例</strong>，如果<code>s</code>的<a href=../PropertiesOfTypesAndValues#core-types-%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B>核心类型</a>是<code>[]byte</code>，<code>append</code>也接受第二个参数，其核心类型是<a href=../PropertiesOfTypesAndValues#core-types-%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B>bytestring</a>，后面是<code>...</code> 。这种形式追加了字节切片或字符串的字节。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s</span> <span style=color:#aa89ea>S</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>...</span><span style=color:#aa89ea>E</span><span style=color:#abb2bf>)</span> <span style=color:#aa89ea>S</span>  <span style=color:#8a93a5;font-style:italic>// core type of S is []E
</span></span></span></code></pre></td></tr></table></div></div><p>If the capacity of <code>s</code> is not large enough to fit the additional values, <code>append</code> <a href=https://go.dev/ref/spec#Allocation>allocates</a> a new, sufficiently large underlying array that fits both the existing slice elements and the additional values. Otherwise, <code>append</code> re-uses the underlying array.</p><p>​ 如果<code>s</code>的容量不足以容纳额外的值，<code>append</code>会分配一个新的、足够大的底层数组，同时容纳现有的切片元素和额外的值。否则，<code>append</code>复用原来的底层数组。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>s0</span> <span style=color:#54b1c7>:=</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>s1</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>)</span>                <span style=color:#8a93a5;font-style:italic>// append a single element     s1 == []int{0, 0, 2}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>s2</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>7</span><span style=color:#abb2bf>)</span>          <span style=color:#8a93a5;font-style:italic>// append multiple elements    s2 == []int{0, 0, 2, 3, 5, 7}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>s3</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>s0</span><span style=color:#54b1c7>...</span><span style=color:#abb2bf>)</span>            <span style=color:#8a93a5;font-style:italic>// append a slice              s3 == []int{0, 0, 2, 3, 5, 7, 0, 0}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>s4</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s3</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>:</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>],</span> <span style=color:#aa89ea>s3</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>:]</span><span style=color:#54b1c7>...</span><span style=color:#abb2bf>)</span>   <span style=color:#8a93a5;font-style:italic>// append overlapping slice    s4 == []int{3, 5, 7, 2, 3, 5, 7, 0, 0}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>t</span> <span style=color:#abb2bf>[]</span><span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{}</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>t</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>t</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>42</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3.1415</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;foo&#34;</span><span style=color:#abb2bf>)</span>   <span style=color:#8a93a5;font-style:italic>//                             t == []interface{}{42, 3.1415, &#34;foo&#34;}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>b</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>byte</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>b</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;bar&#34;</span><span style=color:#54b1c7>...</span><span style=color:#abb2bf>)</span>            <span style=color:#8a93a5;font-style:italic>// append string contents      b == []byte{&#39;b&#39;, &#39;a&#39;, &#39;r&#39; }
</span></span></span></code></pre></td></tr></table></div></div><p>The function <code>copy</code> copies slice elements from a source <code>src</code> to a destination <code>dst</code> and returns the number of elements copied. The <a href=https://go.dev/ref/spec#Core_types>core types</a> of both arguments must be slices with <a href=https://go.dev/ref/spec#Type_identity>identical</a> element type. The number of elements copied is the minimum of <code>len(src)</code> and <code>len(dst)</code>. As a special case, if the destination&rsquo;s core type is <code>[]byte</code>, <code>copy</code> also accepts a source argument with core type <a href=https://go.dev/ref/spec#Core_types><code>bytestring</code></a>. This form copies the bytes from the byte slice or string into the byte slice.</p><p>​ 函数<code>copy</code>将切片元素从源<code>src</code>复制到目标<code>dst</code>，<code>并返回复制的元素数量</code>。两个参数的核心类型必须是具有<a href=../PropertiesOfTypesAndValues#type-identity-%E7%B1%BB%E5%9E%8B%E4%B8%80%E8%87%B4%E6%80%A7>一致的</a>元素类型的切片。复制的元素数是<code>len(src)</code>和<code>len(dst)</code>中的最小值。<strong>作为一种特殊情况</strong>，如果目标的<a href=../PropertiesOfTypesAndValues#core-types-%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B>核心类型</a>是<code>[]byte</code>，<code>copy</code>也接受一个核心类型为<a href=../PropertiesOfTypesAndValues##core-types-%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B>bytestring</a>的源参数。这种形式将字节切片或字符串中的字节复制到字节切片中。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#e5c07b>copy</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>dst</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>src</span> <span style=color:#abb2bf>[]</span><span style=color:#aa89ea>T</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>copy</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>dst</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>src</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>int</span>
</span></span></code></pre></td></tr></table></div></div><p>Examples:</p><p>​ 例子：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>a</span> <span style=color:#abb2bf>=</span> <span style=color:#abb2bf>[</span><span style=color:#54b1c7>...</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>7</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>s</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>([]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>b</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>([]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>n1</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>copy</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>:])</span>            <span style=color:#8a93a5;font-style:italic>// n1 == 6, s == []int{0, 1, 2, 3, 4, 5}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>n2</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>copy</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>s</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>:])</span>            <span style=color:#8a93a5;font-style:italic>// n2 == 4, s == []int{2, 3, 4, 5, 4, 5}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>n3</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>copy</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;Hello, World!&#34;</span><span style=color:#abb2bf>)</span>  <span style=color:#8a93a5;font-style:italic>// n3 == 5, b == []byte(&#34;Hello&#34;)
</span></span></span></code></pre></td></tr></table></div></div><h3 id=clear>Clear</h3><p>The built-in function <code>clear</code> takes an argument of <a href=https://go.dev/ref/spec#Map_types>map</a>, <a href=https://go.dev/ref/spec#Slice_types>slice</a>, or <a href=https://go.dev/ref/spec#Type_parameter_declarations>type parameter</a> type, and deletes or zeroes out all elements [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-121>Go 1.21</a>].</p><p>​ 内置函数 <code>clear</code> 采用映射、切片或类型参数类型的实参，并删除或将所有元素清零 [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-121>Go 1.21</a>]。</p><pre tabindex=0><code>Call        Argument type     Result

clear(m)    map[K]T           deletes all entries, resulting in an
                              empty map (len(m) == 0)

clear(s)    []T               sets all elements up to the length of
                              s to the zero value of T

clear(t)    type parameter    see below
</code></pre><p>If the type of the argument to <code>clear</code> is a <a href=https://go.dev/ref/spec#Type_parameter_declarations>type parameter</a>, all types in its type set must be maps or slices, and <code>clear</code> performs the operation corresponding to the actual type argument.</p><p>​ 如果 <code>clear</code> 实参的类型是类型参数，则其类型集中的所有类型都必须是映射或切片，并且 <code>clear</code> 会执行与实际类型实参对应的操作。</p><p>If the map or slice is <code>nil</code>, <code>clear</code> is a no-op.</p><p>​ 如果映射或切片是 <code>nil</code> ， <code>clear</code> 是空操作。</p><h3 id=close>Close</h3><p>For an argument <code>ch</code> with a <a href=https://go.dev/ref/spec#Core_types>core type</a> that is a <a href=https://go.dev/ref/spec#Channel_types>channel</a>, the built-in function <code>close</code> records that no more values will be sent on the channel. It is an error if <code>ch</code> is a receive-only channel. Sending to or closing a closed channel causes a <a href=https://go.dev/ref/spec#Run_time_panics>run-time panic</a>. Closing the nil channel also causes a <a href=https://go.dev/ref/spec#Run_time_panics>run-time panic</a>. After calling <code>close</code>, and after any previously sent values have been received, receive operations will return the zero value for the channel&rsquo;s type without blocking. The multi-valued <a href=https://go.dev/ref/spec#Receive_operator>receive operation</a> returns a received value along with an indication of whether the channel is closed.</p><p>​ 对于一个<a href=../PropertiesOfTypesAndValues#core-typess-%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B>核心类型</a>为<a href=../Types#channel-types-%E9%80%9A%E9%81%93%E5%9E%8B>通道</a>的参数<code>ch</code>，内置函数<code>close</code>记录了通道上将不再有任何值被发送。如果<code>ch</code>是一个仅接收的通道，那么（关闭它）是一个错误。发送到或关闭一个已关闭的通道会导致<a href=../Run-timePanics>运行时恐慌</a>。关闭<code>nil</code>通道也会引起<a href=../Run-timePanics>运行时恐慌</a>。在调用<code>close</code>后，并且在任何先前发送的值被接收后，接收操作将返回通道类型的<code>零值</code>而不阻塞。多值<a href=../Expressions#receive-operator-%E6%8E%A5%E6%94%B6%E6%93%8D%E4%BD%9C%E7%AC%A6>接收操作</a>会返回一个接收值以及通道是否被关闭的指示。</p><h3 id=manipulating-complex-numbers-操纵复数>Manipulating complex numbers 操纵复数</h3><p>Three functions assemble and disassemble complex numbers. The built-in function <code>complex</code> constructs a complex value from a floating-point real and imaginary part, while <code>real</code> and <code>imag</code> extract the real and imaginary parts of a complex value.</p><p>​ 有三个函数<code>组装</code>和<code>分解</code>复数。内置函数 <code>complex</code> 从浮点实部和虚部构造一个复数值，而 <code>real</code> 和 <code>imag</code> 则提取复数值的实部和虚部。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>realPart</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>imaginaryPart</span> <span style=color:#aa89ea>floatT</span><span style=color:#abb2bf>)</span> <span style=color:#aa89ea>complexT</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>real</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>complexT</span><span style=color:#abb2bf>)</span> <span style=color:#aa89ea>floatT</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>imag</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>complexT</span><span style=color:#abb2bf>)</span> <span style=color:#aa89ea>floatT</span>
</span></span></code></pre></td></tr></table></div></div><p>The type of the arguments and return value correspond. For <code>complex</code>, the two arguments must be of the same <a href=https://go.dev/ref/spec#Numeric_types>floating-point type</a> and the return type is the <a href=https://go.dev/ref/spec#Numeric_types>complex type</a> with the corresponding floating-point constituents: <code>complex64</code> for <code>float32</code> arguments, and <code>complex128</code> for <code>float64</code> arguments. If one of the arguments evaluates to an untyped constant, it is first implicitly <a href=https://go.dev/ref/spec#Conversions>converted</a> to the type of the other argument. If both arguments evaluate to untyped constants, they must be non-complex numbers or their imaginary parts must be zero, and the return value of the function is an untyped complex constant.</p><p>​ 实参的类型和返回值相对应。对于<code>complex</code>函数，两个实参必须是相同的<a href=../Types#numeric-types-%E6%95%B0%E5%80%BC%E5%9E%8B>浮点类型</a>，返回类型是具有对应浮点成分的<a href=../Types#numeric-types-%E6%95%B0%E5%80%BC%E5%9E%8B>复数类型</a>：<code>float32</code>类型的实参对应<code>comple64</code>复数类型，而<code>float64</code>类型的实参对应<code>comple128</code>复数类型。如果其中一个实参的值是一个无类型常量，那么它首先会被隐式<a href=../Expressions#conversions-%E8%BD%AC%E6%8D%A2>转换</a>为另一个实参的类型。如果两个参数都求值为无类型常量，那么它们必须是<code>非复数</code>，或者它们的虚数部分必须为零，这样函数的返回值就是一个无类型的复数常量。</p><p>For <code>real</code> and <code>imag</code>, the argument must be of complex type, and the return type is the corresponding floating-point type: <code>float32</code> for a <code>complex64</code> argument, and <code>float64</code> for a <code>complex128</code> argument. If the argument evaluates to an untyped constant, it must be a number, and the return value of the function is an untyped floating-point constant.</p><p>​ 对于<code>real</code>和<code>imag</code>，实参必须是复数类型，返回类型是相应的浮点类型：<code>float32</code>对应<code>complex64</code>，<code>float64</code>对应<code>complex128</code>。如果实参的值是一个无类型的常量，它必须是一个数字，这样函数的返回值就是一个无类型的浮点常量。</p><p>The <code>real</code> and <code>imag</code> functions together form the inverse of <code>complex</code>, so for a value <code>z</code> of a complex type <code>Z</code>, <code>z == Z(complex(real(z), imag(z)))</code>.</p><p>​ <code>real</code>和<code>imag</code>函数一起构成了复数的逆运算，所以对于一个复数类型<code>Z</code>的值<code>z</code>来说，<code>z == Z(complex(real(z), imag(z)))</code>。</p><p>If the operands of these functions are all constants, the return value is a constant.</p><p>​ 如果这些函数的操作数都是常量，返回值就是一个常量。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>a</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>)</span>             <span style=color:#8a93a5;font-style:italic>// complex128 &lt;=仍有疑问？？怎么推导出来是 complex128 ？
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>const</span> <span style=color:#aa89ea>b</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.0</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>1.4</span><span style=color:#abb2bf>)</span>       <span style=color:#8a93a5;font-style:italic>// untyped complex constant 1 - 1.4i
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>float32</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>math</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Cos</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>math</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Pi</span><span style=color:#54b1c7>/</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>))</span>  <span style=color:#8a93a5;font-style:italic>// float32
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>c64</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>           <span style=color:#8a93a5;font-style:italic>// complex64
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>s</span> <span style=color:#e5c07b>int</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>)</span>          <span style=color:#8a93a5;font-style:italic>// untyped complex constant 1 + 0i can be converted to int
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#54b1c7>&lt;&lt;</span><span style=color:#aa89ea>s</span><span style=color:#abb2bf>)</span>               <span style=color:#8a93a5;font-style:italic>// illegal: 2 assumes floating-point type, cannot shift =&gt; 非法的：2 被认为是 浮点类型，不能移位 &lt;=仍有疑问？？2为什么是浮点类型？怎么推导出来的
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>rl</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>real</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>c64</span><span style=color:#abb2bf>)</span>                 <span style=color:#8a93a5;font-style:italic>// float32
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>im</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>imag</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>)</span>                   <span style=color:#8a93a5;font-style:italic>// float64
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>const</span> <span style=color:#aa89ea>c</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>imag</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>)</span>                  <span style=color:#8a93a5;font-style:italic>// untyped constant -1.4
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>_</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>imag</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3</span> <span style=color:#54b1c7>&lt;&lt;</span> <span style=color:#aa89ea>s</span><span style=color:#abb2bf>)</span>                   <span style=color:#8a93a5;font-style:italic>// illegal: 3 assumes complex type, cannot shift =&gt; 非法的：3 被认为是复数类型，不能移位 &lt;=仍有疑问？？3为什么是浮点类型？怎么推导出来的
</span></span></span></code></pre></td></tr></table></div></div><p>Arguments of type parameter type are not permitted.</p><p>​ 不允许使用参数类型的实参。</p><h3 id=deletion-of-map-elements-删除映射元素>Deletion of map elements 删除映射元素</h3><p>The built-in function <code>delete</code> removes the element with key <code>k</code> from a <a href=https://go.dev/ref/spec#Map_types>map</a> <code>m</code>. The value <code>k</code> must be <a href=https://go.dev/ref/spec#Assignability>assignable</a> to the key type of <code>m</code>.</p><p>​ 内置函数<code>delete</code>可以从<a href=../Types#map-types-%E6%98%A0%E5%B0%84%E5%9E%8B>映射</a><code>m</code>中删除<code>键值</code>为<code>k</code>的元素，值<code>k</code>必须可以<a href=../PropertiesOfTypesAndValues#assignability-%E5%8F%AF%E5%88%86%E9%85%8D%E6%80%A7>分配</a>给<code>m</code>的键类型。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#e5c07b>delete</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>m</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>k</span><span style=color:#abb2bf>)</span>  <span style=color:#8a93a5;font-style:italic>// remove element m[k] from map m
</span></span></span></code></pre></td></tr></table></div></div><p>If the type of <code>m</code> is a <a href=https://go.dev/ref/spec#Type_parameter_declarations>type parameter</a>, all types in that type set must be maps, and they must all have identical key types.</p><p>​ 如果<code>m</code>的类型是<a href=../DeclarationsAndScope#type-parameter-declarations-%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E5%A3%B0%E6%98%8E>类型参数</a>，那么该类型集合中的所有类型必须是映射，并且它们必须都有相同的<code>键类型</code>。</p><p>If the map <code>m</code> is <code>nil</code> or the element <code>m[k]</code> does not exist, <code>delete</code> is a no-op.</p><p>​ 如果映射<code>m</code>是<code>nil</code>或者元素<code>m[k]</code>不存在，delete就是一个空操作。</p><h3 id=length-and-capacity-长度和容量>Length and capacity 长度和容量</h3><p>The built-in functions <code>len</code> and <code>cap</code> take arguments of various types and return a result of type <code>int</code>. The implementation guarantees that the result always fits into an <code>int</code>.</p><p>​ 内置函数<code>len</code>和<code>cap</code>接受各种类型的实参并返回<code>int</code>类型的结果。该实现保证结果总是适合于一个<code>int</code>。</p><pre tabindex=0><code>Call      Argument type    Result
调用        实参类型          结果

len(s)    string type      string length in bytes
          [n]T, *[n]T      array length (== n)
          []T              slice length
          map[K]T          map length (number of defined keys)
          chan T           number of elements queued in channel buffer
          type parameter   see below

cap(s)    [n]T, *[n]T      array length (== n)
          []T              slice capacity
          chan T           channel buffer capacity
          type parameter   see below
</code></pre><p>If the argument type is a <a href=https://go.dev/ref/spec#Type_parameter_declarations>type parameter</a> <code>P</code>, the call <code>len(e)</code> (or <code>cap(e)</code> respectively) must be valid for each type in <code>P</code>&rsquo;s type set. The result is the length (or capacity, respectively) of the argument whose type corresponds to the type argument with which <code>P</code> was <a href=https://go.dev/ref/spec#Instantiations>instantiated</a>.</p><p>​ 如果参数类型是一个<a href=../DeclarationsAndScope#type-parameter-declarations-%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E5%A3%B0%E6%98%8E>类型参数</a><code>P</code>，调用<code>len(e)</code>（或<code>cap(e)</code>）必须对<code>P</code>的类型集中的每个类型有效。其结果是（类型对应<code>P</code>被<a href=../Expressions#instantiations-%E5%AE%9E%E4%BE%8B%E5%8C%96>实例化</a>时使用的类型实参的）实参的长度（或容量）。</p><p>The capacity of a slice is the number of elements for which there is space allocated in the underlying array. At any time the following relationship holds:</p><p>​ 切片的容量是底层数组中分配到的元素的数量。在任何时候，以下关系都是成立的：</p><pre tabindex=0><code>0 &lt;= len(s) &lt;= cap(s)
</code></pre><p>The length of a <code>nil</code> slice, map or channel is 0. The capacity of a <code>nil</code> slice or channel is 0.</p><p>​ <code>nil</code>切片、<code>nil</code>映射或<code>nil</code>通道的长度是<code>0</code>。<code>nil</code>切片或<code>nil</code>通道的容量是0。</p><p>The expression <code>len(s)</code> is <a href=https://go.dev/ref/spec#Constants>constant</a> if <code>s</code> is a string constant. The expressions <code>len(s)</code> and <code>cap(s)</code> are constants if the type of <code>s</code> is an array or pointer to an array and the expression <code>s</code> does not contain <a href=https://go.dev/ref/spec#Receive_operator>channel receives</a> or (non-constant) <a href=https://go.dev/ref/spec#Calls>function calls</a>; in this case <code>s</code> is not evaluated. Otherwise, invocations of <code>len</code> and <code>cap</code> are not constant and <code>s</code> is evaluated.</p><p>​ 如果<code>s</code>是一个字符串<a href=../Constants>常量</a>，那么表达式<code>len(s)</code>就是常量。如果<code>s</code>的类型是一个数组或指向数组的指针，并且表达式<code>s</code>不包含<a href=../Expressions#receive-operator-%E6%8E%A5%E6%94%B6%E6%93%8D%E4%BD%9C%E7%AC%A6>通道接收</a>或（非常量）<a href=../Expressions#calls-%E8%B0%83%E7%94%A8>函数调用</a>，那么表达式<code>len(s)</code>和<code>cap(s)</code>是常量；在这种情况下，<code>s</code>不被求值。否则，<code>len</code>和<code>cap</code>的调用不是常量，<code>s</code>被求值。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>const</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>c1</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>imag</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2i</span><span style=color:#abb2bf>)</span>                    <span style=color:#8a93a5;font-style:italic>// imag(2i) = 2.0 is a constant
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>c2</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>([</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>float64</span><span style=color:#abb2bf>{</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>})</span>         <span style=color:#8a93a5;font-style:italic>// [10]float64{2} contains no function calls
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>c3</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>([</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>float64</span><span style=color:#abb2bf>{</span><span style=color:#aa89ea>c1</span><span style=color:#abb2bf>})</span>        <span style=color:#8a93a5;font-style:italic>// [10]float64{c1} contains no function calls
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>c4</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>([</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>float64</span><span style=color:#abb2bf>{</span><span style=color:#e5c07b>imag</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2i</span><span style=color:#abb2bf>)})</span>  <span style=color:#8a93a5;font-style:italic>// imag(2i) is a constant and no function call is issued
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>c5</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>([</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>float64</span><span style=color:#abb2bf>{</span><span style=color:#e5c07b>imag</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>z</span><span style=color:#abb2bf>)})</span>   <span style=color:#8a93a5;font-style:italic>// invalid: imag(z) is a (non-constant) function call
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>z</span> <span style=color:#e5c07b>complex128</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=making-slices-maps-and-channels-制作切片映射和通道>Making slices, maps and channels 制作切片、映射和通道</h3><p>The built-in function <code>make</code> takes a type <code>T</code>, optionally followed by a type-specific list of expressions. The <a href=https://go.dev/ref/spec#Core_types>core type</a> of <code>T</code> must be a slice, map or channel. It returns a value of type <code>T</code> (not <code>*T</code>). The memory is initialized as described in the section on <a href=https://go.dev/ref/spec#The_zero_value>initial values</a>.</p><p>​ 内置函数<code>make</code>接收一个类型<code>T</code>，后面可以选择一个特定类型的表达式列表。<code>T</code>的<a href=../PropertiesOfTypesAndValues#core-types-%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B>核心类型</a><code>必须是一个切片、映射或通道</code>。它返回一个类型为<code>T</code>（不是<code>*T</code>）的值。内存被初始化，如<a href=../ProgramInitializationAndExecution#the-zero-value-%E9%9B%B6%E5%80%BC>初始值</a>一节中所述。</p><pre tabindex=0><code>Call             Core type    Result

make(T, n)       slice        slice of type T with length n and capacity n
make(T, n, m)    slice        slice of type T with length n and capacity m

make(T)          map          map of type T
make(T, n)       map          map of type T with initial space for approximately n elements

make(T)          channel      unbuffered channel of type T
make(T, n)       channel      buffered channel of type T, buffer size n
</code></pre><p>Each of the size arguments <code>n</code> and <code>m</code> must be of <a href=https://go.dev/ref/spec#Numeric_types>integer type</a>, have a <a href=https://go.dev/ref/spec#Interface_types>type set</a> containing only integer types, or be an untyped <a href=https://go.dev/ref/spec#Constants>constant</a>. A constant size argument must be non-negative and <a href=https://go.dev/ref/spec#Representability>representable</a> by a value of type <code>int</code>; if it is an untyped constant it is given type <code>int</code>. If both <code>n</code> and <code>m</code> are provided and are constant, then <code>n</code> must be no larger than <code>m</code>. For slices and channels, if <code>n</code> is negative or larger than <code>m</code> at run time, a <a href=https://go.dev/ref/spec#Run_time_panics>run-time panic</a> occurs.</p><p>​ 每个大小实参<code>n</code>和<code>m</code>必须是<a href=../Types#numeric-types-%E6%95%B0%E5%80%BC%E5%9E%8B>整型</a>，或者是一个只包含整型的类型集，或者是一个无类型的<a href=../Constants>常量</a>。一个常量大小参数必须是非负数，并且可以用<code>int</code>类型的值<a href=../PropertiesOfTypesAndValues#representability-%E5%8F%AF%E8%A1%A8%E7%A4%BA%E6%80%A7>表示</a>；如果它是一个无类型的常量，它被赋予<code>int</code>类型。如果<code>n</code>和<code>m</code>都被提供并且是常量，那么<code>n</code>必须<strong>不大于</strong><code>m</code>。对于切片和通道，如果<code>n</code>在运行时是负数或者大于<code>m</code>，就会发生<a href=../Run-timePanics>运行时恐慌</a>。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>s</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>([]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>100</span><span style=color:#abb2bf>)</span>       <span style=color:#8a93a5;font-style:italic>// slice with len(s) == 10, cap(s) == 100
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>s</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>([]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1e3</span><span style=color:#abb2bf>)</span>           <span style=color:#8a93a5;font-style:italic>// slice with len(s) == cap(s) == 1000
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>s</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>([]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#54b1c7>&lt;&lt;</span><span style=color:#d19a66>63</span><span style=color:#abb2bf>)</span>         <span style=color:#8a93a5;font-style:italic>// illegal: len(s) is not representable by a value of type int =&gt; 非法的: len(s) 不能被 int 类型的值表示
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>s</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>([]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>)</span>         <span style=color:#8a93a5;font-style:italic>// illegal: len(s) &gt; cap(s) =&gt; 非法的: len(s) &gt; cap(s)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>c</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>chan</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>)</span>         <span style=color:#8a93a5;font-style:italic>// channel with a buffer size of 10
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>m</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>100</span><span style=color:#abb2bf>)</span>  <span style=color:#8a93a5;font-style:italic>// map with initial space for approximately 100 elements
</span></span></span></code></pre></td></tr></table></div></div><p>Calling <code>make</code> with a map type and size hint <code>n</code> will create a map with initial space to hold <code>n</code> map elements. The precise behavior is implementation-dependent.</p><p>​ 调用<code>map</code>类型和大小提示<code>n</code>的<code>make</code>将创建一个初始空间可容纳<code>n</code>个map元素的<code>map</code>。<code>具体的行为是依赖于实现的</code>。</p><h3 id=min-and-max-最小值和最大值>Min and max 最小值和最大值</h3><p>The built-in functions <code>min</code> and <code>max</code> compute the smallest—or largest, respectively—value of a fixed number of arguments of <a href=https://go.dev/ref/spec#Comparison_operators>ordered types</a>. There must be at least one argument [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-121>Go 1.21</a>].</p><p>​ 内置函数 <code>min</code> 和 <code>max</code> 分别计算固定数量的有序类型实参的最小值或最大值。必须至少有一个参数 [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-121>Go 1.21</a>]。</p><p>The same type rules as for <a href=https://go.dev/ref/spec#Operators>operators</a> apply: for <a href=https://go.dev/ref/spec#Comparison_operators>ordered</a> arguments <code>x</code> and <code>y</code>, <code>min(x, y)</code> is valid if <code>x + y</code> is valid, and the type of <code>min(x, y)</code> is the type of <code>x + y</code> (and similarly for <code>max</code>). If all arguments are constant, the result is constant.</p><p>​ 与运算符相同的类型规则适用：对于有序实参 <code>x</code> 和 <code>y</code> ，如果 <code>x + y</code> 有效，则 <code>min(x, y)</code> 有效，并且 <code>min(x, y)</code> 的类型是 <code>x + y</code> 的类型（对于 <code>max</code> 也是如此）。如果所有实参都是常量，则结果是常量。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span> <span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>m</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>                 <span style=color:#8a93a5;font-style:italic>// m == x
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>m</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>)</span>              <span style=color:#8a93a5;font-style:italic>// m is the smaller of x and y
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>m</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>max</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>)</span>          <span style=color:#8a93a5;font-style:italic>// m is the larger of x and y but at least 10
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>c</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>max</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2.0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>)</span>        <span style=color:#8a93a5;font-style:italic>// c == 10.0 (floating-point kind)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>f</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>max</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float32</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>))</span>     <span style=color:#8a93a5;font-style:italic>// type of f is float32
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>s</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>_</span> <span style=color:#abb2bf>=</span> <span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>s</span><span style=color:#54b1c7>...</span><span style=color:#abb2bf>)</span>               <span style=color:#8a93a5;font-style:italic>// invalid: slice arguments are not permitted
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>t</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>max</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;foo&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;bar&#34;</span><span style=color:#abb2bf>)</span>  <span style=color:#8a93a5;font-style:italic>// t == &#34;foo&#34; (string kind)
</span></span></span></code></pre></td></tr></table></div></div><p>For numeric arguments, assuming all NaNs are equal, <code>min</code> and <code>max</code> are commutative and associative:</p><p>​ 对于数值实参，假设所有 NaN 相等， <code>min</code> 和 <code>max</code> 是可交换和可结合的：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>)</span>    <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>z</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>z</span><span style=color:#abb2bf>)</span> <span style=color:#54b1c7>==</span> <span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#00b1f7>min</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>z</span><span style=color:#abb2bf>))</span>
</span></span></code></pre></td></tr></table></div></div><p>For floating-point arguments negative zero, NaN, and infinity the following rules apply:</p><p>​ 对于浮点实参负零、NaN 和无穷大，应用以下规则：</p><pre tabindex=0><code>   x        y    min(x, y)    max(x, y)

  -0.0    0.0         -0.0          0.0    // negative zero is smaller than (non-negative) zero
  -Inf      y         -Inf            y    // negative infinity is smaller than any other number
  +Inf      y            y         +Inf    // positive infinity is larger than any other number
   NaN      y          NaN          NaN    // if any argument is a NaN, the result is a NaN
</code></pre><p>For string arguments the result for <code>min</code> is the first argument with the smallest (or for <code>max</code>, largest) value, compared lexically byte-wise:</p><p>​ 对于字符串实参， <code>min</code> 的结果是第一个具有最小值（或对于 <code>max</code> ，最大值）的实参，按字节逐个比较词法：</p><pre tabindex=0><code>min(x, y)    == if x &lt;= y then x else y
min(x, y, z) == min(min(x, y), z)
</code></pre><h3 id=allocation-分配>Allocation 分配</h3><p>The built-in function <code>new</code> takes a type <code>T</code>, allocates storage for a <a href=https://go.dev/ref/spec#Variables>variable</a> of that type at run time, and returns a value of type <code>*T</code> <a href=https://go.dev/ref/spec#Pointer_types>pointing</a> to it. The variable is initialized as described in the section on <a href=https://go.dev/ref/spec#The_zero_value>initial values</a>.</p><p>​ 内置函数<code>new</code>接收一个类型<code>T</code>，在运行时为该类型的<a href=../Variables>变量</a>分配存储空间，并返回一个<a href=../Types#pointer-types-%E6%8C%87%E9%92%88%E5%9E%8B>指向</a>它的<code>*T</code>类型的值。该变量被初始化，如<a href=../ProgramInitializationAndExecution#the-zero-value-%E9%9B%B6%E5%80%BC>初始值</a>一节中所述。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#e5c07b>new</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>T</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>For instance</p><p>​ 举例来说</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>S</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span> <span style=color:#aa89ea>a</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>b</span> <span style=color:#e5c07b>float64</span> <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>new</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>S</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><p>allocates storage for a variable of type <code>S</code>, initializes it (<code>a=0</code>, <code>b=0.0</code>), and returns a value of type <code>*S</code> containing the address of the location.</p><p>为一个<code>S</code>类型的变量分配存储空间，初始化它（<code>a=0</code>， <code>b=0.0</code>），并返回一个包含该位置地址的<code>*S</code>类型的值。</p><h3 id=handling-panics-处理恐慌>Handling panics 处理恐慌</h3><p>Two built-in functions, <code>panic</code> and <code>recover</code>, assist in reporting and handling <a href=https://go.dev/ref/spec#Run_time_panics>run-time panics</a> and program-defined error conditions.</p><p>​ 两个内置函数，<code>panic</code>和<code>recover</code>，协助报告和处理<a href=../Run-timePanics>运行时恐慌</a>和程序定义的错误情况。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#e5c07b>panic</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{})</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#e5c07b>recover</span><span style=color:#abb2bf>()</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{}</span>
</span></span></code></pre></td></tr></table></div></div><p>While executing a function <code>F</code>, an explicit call to <code>panic</code> or a <a href=https://go.dev/ref/spec#Run_time_panics>run-time panic</a> terminates the execution of <code>F</code>. Any functions <a href=https://go.dev/ref/spec#Defer_statements>deferred</a> by <code>F</code> are then executed as usual. Next, any deferred functions run by <code>F</code>&rsquo;s caller are run, and so on up to any deferred by the top-level function in the executing goroutine. At that point, the program is terminated and the error condition is reported, including the value of the argument to <code>panic</code>. This termination sequence is called <em>panicking</em>.</p><p>​ 在执行函数<code>F</code>时，对<code>panic</code>的显式调用或<a href=../Run-timePanics>运行时恐慌</a>终止了<code>F</code>的执行，然后被<code>F</code>延迟的任何函数会照常执行。接下来，任何被<code>F</code>的调用者<a href=../Statements#defer-statements-%E8%AF%AD%E5%8F%A5-defer>延迟</a>的函数都会被运行，以此类推，直到被执行中的goroutine中的顶级函数所延迟的任何函数。此时，程序被终止，错误情况被报告，包括<code>panic</code>的实参值。这个终止过程被称为<code>panicking</code>。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#e5c07b>panic</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>42</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>panic</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;unreachable&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>panic</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>Error</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;cannot parse&#34;</span><span style=color:#abb2bf>))</span>
</span></span></code></pre></td></tr></table></div></div><p>The <code>recover</code> function allows a program to manage behavior of a panicking goroutine. Suppose a function <code>G</code> defers a function <code>D</code> that calls <code>recover</code> and a panic occurs in a function on the same goroutine in which <code>G</code> is executing. When the running of deferred functions reaches <code>D</code>, the return value of <code>D</code>&rsquo;s call to <code>recover</code> will be the value passed to the call of <code>panic</code>. If <code>D</code> returns normally, without starting a new <code>panic</code>, the panicking sequence stops. In that case, the state of functions called between <code>G</code> and the call to <code>panic</code> is discarded, and normal execution resumes. Any functions deferred by <code>G</code> before <code>D</code> are then run and <code>G</code>&rsquo;s execution terminates by returning to its caller.</p><p>​ <code>recover</code>函数允许程序管理 panicking goroutine 的行为。假设函数<code>G</code>延迟了一个调用<code>recover</code>的函数<code>D</code>，并且在<code>G</code>执行的同一个goroutine上的一个函数发生了恐慌。当被延迟函数的运行到达<code>D</code>时，<code>D</code>调用<code>recover</code>的返回值将是传递给调用<code>panic</code>的值。如果<code>D</code>正常返回，没有启动新的<code>panic</code>，则 panicking goroutine 停止。在这种情况下，<code>G</code>和对<code>panic</code>的调用之间调用的函数的状态被丢弃，并恢复正常执行。<code>G</code>在<code>D</code>之前被延迟的任何函数随后被运行，<code>G</code>的执行通过返回给它的调用者而终止。</p><p>The return value of <code>recover</code> is <code>nil</code> when the goroutine is not panicking or <code>recover</code> was not called directly by a deferred function. Conversely, if a goroutine is panicking and <code>recover</code> was called directly by a deferred function, the return value of <code>recover</code> is guaranteed not to be <code>nil</code>. To ensure this, calling <code>panic</code> with a <code>nil</code> interface value (or an untyped <code>nil</code>) causes a <a href=https://go.dev/ref/spec#Run_time_panics>run-time panic</a>.</p><p>​ 当 goroutine 没有发生 panic 或 <code>recover</code> 不是由延迟函数直接调用时， <code>recover</code> 的返回值为 <code>nil</code> 。相反，如果 goroutine 正在发生 panic 并且 <code>recover</code> 由延迟函数直接调用，则保证 <code>recover</code> 的返回值不是 <code>nil</code> 。为了确保这一点，使用 <code>nil</code> 接口值（或未类型化的 <code>nil</code> ）调用 <code>panic</code> 会导致运行时 panic。</p><p>The <code>protect</code> function in the example below invokes the function argument <code>g</code> and protects callers from run-time panics raised by <code>g</code>.</p><p>​ 下面的示例中的 <code>protect</code> 函数调用函数参数 <code>g</code> ，并保护调用者免受 <code>g</code> 引发的运行时 panic。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>protect</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>g</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>())</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>defer</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;done&#34;</span><span style=color:#abb2bf>)</span>  <span style=color:#8a93a5;font-style:italic>// Println executes normally even if there is a panic
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#76a9f9>if</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>recover</span><span style=color:#abb2bf>();</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>			<span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;run time panic: %v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}()</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;start&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>g</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=bootstrapping-引导>Bootstrapping 引导</h3><p>Current implementations provide several built-in functions useful during bootstrapping. These functions are documented for completeness but are not guaranteed to stay in the language. They do not return a result.</p><p>​ 目前的实现提供了几个在引导（bootstrapping）过程中有用的内置函数。为了完整起见，这些函数被记录下来，但不保证会留在语言中。它们并不返回结果。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>function</span>   <span style=color:#aa89ea>Behavior</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>print</span>      <span style=color:#aa89ea>prints</span> <span style=color:#aa89ea>all</span> <span style=color:#aa89ea>arguments</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>formatting</span> <span style=color:#aa89ea>of</span> <span style=color:#aa89ea>arguments</span> <span style=color:#aa89ea>is</span> <span style=color:#aa89ea>implementation</span><span style=color:#54b1c7>-</span><span style=color:#aa89ea>specific</span> <span style=color:#abb2bf>=&gt;</span> <span style=color:#aa89ea>打印所有实参</span>；<span style=color:#aa89ea>实参的格式化和实现有关</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>println</span>    <span style=color:#aa89ea>like</span> <span style=color:#aa89ea>print</span> <span style=color:#aa89ea>but</span> <span style=color:#aa89ea>prints</span> <span style=color:#aa89ea>spaces</span> <span style=color:#aa89ea>between</span> <span style=color:#aa89ea>arguments</span> <span style=color:#aa89ea>and</span> <span style=color:#aa89ea>a</span> <span style=color:#aa89ea>newline</span> <span style=color:#aa89ea>at</span> <span style=color:#aa89ea>the</span> <span style=color:#aa89ea>end</span> <span style=color:#abb2bf>=&gt;</span> <span style=color:#aa89ea>和</span> <span style=color:#aa89ea>print</span> <span style=color:#aa89ea>类似</span>，<span style=color:#aa89ea>但是会在每个实参间打印空格</span>，<span style=color:#aa89ea>在结尾打印新行</span>
</span></span></code></pre></td></tr></table></div></div><p>Implementation restriction: <code>print</code> and <code>println</code> need not accept arbitrary argument types, but printing of boolean, numeric, and string <a href=https://go.dev/ref/spec#Types>types</a> must be supported.</p><p>​ 实现限制：<code>print</code>和<code>println</code>不一定需要接受任意的实参类型，但必须支持布尔型、数字型和字符串型的打印。</p><div class=td-page-meta__lastmod>最后修改 October 10, 2024: <a href=https://github.com/before80/go_docs/commit/a4b8f854f736d720ad19943e1274acc7bb0e3264>更新 (a4b8f854)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/before80/go_docs aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>作者zlongx</span></span><span class=td-footer__all_rights_reserved>保留所有权利</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>隐私政策</a></span><p class="td-footer__about mt-2"><a href=/go_docs/thirdPkg/lua/about/>关于</a></p></div></div></div></footer></div><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0,onReady(){const{autoLoader:e,builtInPlugins:t}=window.markmap;e.transformPlugins=t.filter(e=>e.name!=="prism")}}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/go_docs/js/main.min.4fb55790d81bdab4cd314586e186d385cad5508994c45abe27c6daee34d84160.js integrity="sha256-T7VXkNgb2rTNMUWG4YbThcrVUImUxFq+J8ba7jTYQWA=" crossorigin=anonymous></script>
<script defer src=/go_docs/js/click-to-copy.min.14c7dd84004258325d147b971421f1d4dfd3f28500954f32ef71d1cfd0938f51.js integrity="sha256-FMfdhABCWDJdFHuXFCHx1N/T8oUAlU8y73HRz9CTj1E=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3.6.0 integrity="sha512-FtDaTWf3IS29TLuYzTPlytjGqcXkwrzG9ivq7xXElnOZeiYTbcIy/hwXAgrrRNnI0+PfN+WFz4/+4phhJmuS8Q==" crossorigin=anonymous></script>
<script type=text/javascript>const containers=["#docsearch-0","#docsearch-1"];for(let e of containers)docsearch({container:e,appId:"DV76UK9EIH",apiKey:"227dec0ac6cbc8dfad748f27b2974507",indexName:"go-"})</script><script src=/go_docs/js/tabpane-persist.js></script>
<script src=/go_docs/js/tocbot.min.js></script>
<script src=/go_docs/js/markmap-autoloader.js></script>
<script type=text/javascript>window.addEventListener("load",function(){tocbot.init({tocSelector:".td-toc",contentSelector:".td-content",headingSelector:"h2, h3, h4, h5, h6",ignoreHiddenElements:!0,collapseDepth:6});let t=0,e=0,n=document.getElementById("show-timer"),s=document.getElementById("advice-reading-time"),o=s.textContent.trim();function i(){e++,e>=60&&(e=0,t++);let i=e<10?"0"+e:e;s!==null?n.textContent=t+":"+i+" <- "+o:n.textContent=t+":"+i}setInterval(i,1e3)})</script><script src=/go_docs/js/jquery-3.6.3.min.js></script>
<script src=/go_docs/js/deal-zero-width-space.js></script>
<script src=/go_docs/js/tabpane-persist.js></script></body></html>