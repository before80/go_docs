<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/go_docs/favicons/favicon.ico><link rel=apple-touch-icon href=/go_docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/go_docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/go_docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/go_docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/go_docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/go_docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/go_docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/go_docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/go_docs/favicons/android-192x192.png sizes=192x192><title>语句 | Go 中文档集</title><meta name=description content="Statements 语句 原文：https://go.dev/ref/spec#Statements Statements control execution. ​ 语句控制执行。 Statement = Declaration | LabeledStmt | SimpleStmt | GoStmt | ReturnStmt | BreakStmt | ContinueStmt | GotoStmt | FallthroughStmt"><meta property="og:title" content="语句"><meta property="og:description" content="Statements 语句 原文：https://go.dev/ref/spec#Statements Statements control execution. ​ 语句控制执行。 Statement = Declaration | LabeledStmt | SimpleStmt | GoStmt | ReturnStmt | BreakStmt | ContinueStmt | GotoStmt | FallthroughStmt"><meta property="og:type" content="article"><meta property="og:url" content="https://before80.github.io/go_docs/langSpec/Statements/"><meta property="article:section" content="langSpec"><meta property="article:published_time" content="2023-05-17T09:59:21+08:00"><meta property="article:modified_time" content="2024-10-10T15:07:50+08:00"><meta itemprop=name content="语句"><meta itemprop=description content="Statements 语句 原文：https://go.dev/ref/spec#Statements Statements control execution. ​ 语句控制执行。 Statement = Declaration | LabeledStmt | SimpleStmt | GoStmt | ReturnStmt | BreakStmt | ContinueStmt | GotoStmt | FallthroughStmt"><meta itemprop=datePublished content="2023-05-17T09:59:21+08:00"><meta itemprop=dateModified content="2024-10-10T15:07:50+08:00"><meta itemprop=wordCount content="17491"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="语句"><meta name=twitter:description content="Statements 语句 原文：https://go.dev/ref/spec#Statements Statements control execution. ​ 语句控制执行。 Statement = Declaration | LabeledStmt | SimpleStmt | GoStmt | ReturnStmt | BreakStmt | ContinueStmt | GotoStmt | FallthroughStmt"><link rel=preload href=/go_docs/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css as=style><link href=/go_docs/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css rel=stylesheet integrity><link href=/go_docs/css/extra.css rel=stylesheet><link href=/go_docs/css/tocbot.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3.6.0 integrity="sha512-AyDFDkYyALC5qoao077IqAOV7UC4oKCBTp+mJfjIt306AIRoBxoEZYDo0kAx/R7RbT+3EYEky1po/F1w1eQt7g==" crossorigin=anonymous></head><body class=td-page><header><nav class="td-navbar navbar-dark js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/go_docs/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>Go 中文档集</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=javascript:; id=show-timer style=color:#fe4512f5!important></a></li><li class=nav-item><a class=nav-link href=/go_docs/refs/><span>参考</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/comm/><span>对比</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/tools/><span>工具</span></a></li><li class=nav-item><a class="nav-link active" href=/go_docs/langSpec/><span>语规</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/styleGuide/><span>编规</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/example/><span>示例</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/asu/><span>汇总</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/fx/><span>分析</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/docs/><span>文档</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/cmd/><span>go命令</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/stdLib/><span>标准库</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/thirdPkg/><span>第三方包</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/delve/><span>delve</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/rod/><span>rod</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/goframe/><span>goframe</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/gorm/><span>gorm</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/echo/><span>echo</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/fiber/><span>fiber</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/buffalo/><span>buffalo</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/beego/><span>beego</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/goBlog/><span>官博</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/proposal/><span>提案</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg><button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true><svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search--algolia id=docsearch-1></div></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search--algolia id=docsearch-0></div></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-go_docslangspec-li><a href=/go_docs/langSpec/ title=语言规范 class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-go_docslangspec><span>语规</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecintroduction-li><input type=checkbox id=m-go_docslangspecintroduction-check>
<label for=m-go_docslangspecintroduction-check><a href=/go_docs/langSpec/Introduction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecintroduction><span>简介</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecnotation-li><input type=checkbox id=m-go_docslangspecnotation-check>
<label for=m-go_docslangspecnotation-check><a href=/go_docs/langSpec/Notation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecnotation><span>标记法</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecsourcecoderepresentation-li><input type=checkbox id=m-go_docslangspecsourcecoderepresentation-check>
<label for=m-go_docslangspecsourcecoderepresentation-check><a href=/go_docs/langSpec/SourceCodeRepresentation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecsourcecoderepresentation><span>源代码表示</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspeclexicalelements-li><input type=checkbox id=m-go_docslangspeclexicalelements-check>
<label for=m-go_docslangspeclexicalelements-check><a href=/go_docs/langSpec/LexicalElements/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspeclexicalelements><span>词汇元素</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecconstants-li><input type=checkbox id=m-go_docslangspecconstants-check>
<label for=m-go_docslangspecconstants-check><a href=/go_docs/langSpec/Constants/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecconstants><span>常量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecvariables-li><input type=checkbox id=m-go_docslangspecvariables-check>
<label for=m-go_docslangspecvariables-check><a href=/go_docs/langSpec/Variables/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecvariables><span>变量</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspectypes-li><input type=checkbox id=m-go_docslangspectypes-check>
<label for=m-go_docslangspectypes-check><a href=/go_docs/langSpec/Types/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspectypes><span>类型</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecpropertiesoftypesandvalues-li><input type=checkbox id=m-go_docslangspecpropertiesoftypesandvalues-check>
<label for=m-go_docslangspecpropertiesoftypesandvalues-check><a href=/go_docs/langSpec/PropertiesOfTypesAndValues/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecpropertiesoftypesandvalues><span>类型和值的属性</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecblocks-li><input type=checkbox id=m-go_docslangspecblocks-check>
<label for=m-go_docslangspecblocks-check><a href=/go_docs/langSpec/Blocks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecblocks><span>块</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecdeclarationsandscope-li><input type=checkbox id=m-go_docslangspecdeclarationsandscope-check>
<label for=m-go_docslangspecdeclarationsandscope-check><a href=/go_docs/langSpec/DeclarationsAndScope/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecdeclarationsandscope><span>声明和作用域</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecexpressions-li><input type=checkbox id=m-go_docslangspecexpressions-check>
<label for=m-go_docslangspecexpressions-check><a href=/go_docs/langSpec/Expressions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecexpressions><span>表达式</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-go_docslangspecstatements-li><input type=checkbox id=m-go_docslangspecstatements-check checked>
<label for=m-go_docslangspecstatements-check><a href=/go_docs/langSpec/Statements/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecstatements><span class=td-sidebar-nav-active-item>语句</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecbuilt-infunctions-li><input type=checkbox id=m-go_docslangspecbuilt-infunctions-check>
<label for=m-go_docslangspecbuilt-infunctions-check><a href=/go_docs/langSpec/Built-inFunctions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecbuilt-infunctions><span>内置函数</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecpackages-li><input type=checkbox id=m-go_docslangspecpackages-check>
<label for=m-go_docslangspecpackages-check><a href=/go_docs/langSpec/Packages/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecpackages><span>包</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecprograminitializationandexecution-li><input type=checkbox id=m-go_docslangspecprograminitializationandexecution-check>
<label for=m-go_docslangspecprograminitializationandexecution-check><a href=/go_docs/langSpec/ProgramInitializationAndExecution/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecprograminitializationandexecution><span>程序初始化和执行</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecerrors-li><input type=checkbox id=m-go_docslangspecerrors-check>
<label for=m-go_docslangspecerrors-check><a href=/go_docs/langSpec/Errors/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecerrors><span>错误</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecrun-timepanics-li><input type=checkbox id=m-go_docslangspecrun-timepanics-check>
<label for=m-go_docslangspecrun-timepanics-check><a href=/go_docs/langSpec/Run-timePanics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecrun-timepanics><span>运行时恐慌</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecsystemconsiderations-li><input type=checkbox id=m-go_docslangspecsystemconsiderations-check>
<label for=m-go_docslangspecsystemconsiderations-check><a href=/go_docs/langSpec/SystemConsiderations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecsystemconsiderations><span>系统考虑</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspecappendix-li><input type=checkbox id=m-go_docslangspecappendix-check>
<label for=m-go_docslangspecappendix-check><a href=/go_docs/langSpec/Appendix/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspecappendix><span>附录</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docslangspectypeunificationrules-li><input type=checkbox id=m-go_docslangspectypeunificationrules-check>
<label for=m-go_docslangspectypeunificationrules-check><a href=/go_docs/langSpec/TypeUnificationRules/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docslangspectypeunificationrules><span>类型统一规则</span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://before80.github.io/go_docs/comm/coffee class="td-page-meta--view td-page-meta__view" style=color:#2bf518!important target=_blank rel=noopener><i class="fa-solid fa-mug-hot fa-fw"></i> 请作者喝杯咖啡吧</a>
<a href=https://github.com/before80/go_docs/tree/main/content/langSpec/Statements.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> 查看页面源码</a>
<a href=https://github.com/before80/go_docs/edit/main/content/langSpec/Statements.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 编辑此页</a>
<a href="https://github.com/before80/go_docs/new/main/content/langSpec?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 添加子页面</a>
<a href="https://github.com/before80/go_docs/issues/new?title=%e8%af%ad%e5%8f%a5" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/before80/go_docs/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交项目问题</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#statements-语句>Statements 语句</a><ul><li><a href=#terminating-statements-终止语句>Terminating statements 终止语句</a></li><li><a href=#empty-statements-空语句>Empty statements 空语句</a></li><li><a href=#labeled-statements-标签语句>Labeled statements 标签语句</a></li><li><a href=#expression-statements-表达式语句>Expression statements 表达式语句</a></li><li><a href=#send-statements-发送语句>Send statements 发送语句</a></li><li><a href=#incdec-statements--自增自减语句>IncDec statements 自增自减语句</a></li><li><a href=#assignment-statements-赋值语句>Assignment statements 赋值语句</a></li><li><a href=#if-statements---if-语句>If statements - if 语句</a></li><li><a href=#switch-statements----switch-语句>Switch statements - switch 语句</a><ul><li><a href=#expression-switches-表达式选择>Expression switches 表达式选择</a></li><li><a href=#type-switches-类型选择>Type switches 类型选择</a></li></ul></li><li><a href=#for-statements----for-语句>For statements - for 语句</a><ul><li><a href=#for-statements-with-single-condition-带有单一条件的for语句>For statements with single condition 带有单一条件的for语句</a></li><li><a href=#for-statements-with-for-clause-带有for子句的for语句>For statements with <code>for</code> clause 带有for子句的for语句</a></li><li><a href=#for-statements-with-range-clause--带有range子句的for语句>For statements with <code>range</code> clause 带有range子句的for语句</a></li></ul></li><li><a href=#go-statements----go-语句>Go statements - go 语句</a></li><li><a href=#select-statements---select-语句>Select statements - select 语句</a></li><li><a href=#return-statements----return-语句>Return statements - return 语句</a></li><li><a href=#break-statements---break-语句>Break statements - break 语句</a></li><li><a href=#continue-statements----continue-语句>Continue statements - continue 语句</a></li><li><a href=#goto-statements-语句-goto>Goto statements 语句 goto</a></li><li><a href=#fallthrough-statements-语句-fallthrough>Fallthrough statements 语句 fallthrough</a></li><li><a href=#defer-statements-语句-defer>Defer statements 语句 defer</a></li></ul></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/go_docs/langSpec/>语规</a></li><li class="breadcrumb-item active" aria-current=page>语句</li></ol></nav><div class=td-content><h1>语句</h1><header class=article-meta><p class=reading-time><i class="fa-solid fa-clock" style=color:#e90 aria-hidden=true></i>&nbsp; <span style=font-size:3rem;color:#006400 id=advice-reading-time>35 </span>分钟阅读 &nbsp;</p></header><h2 id=statements-语句>Statements 语句</h2><blockquote><p>原文：<a href=https://go.dev/ref/spec#Statements>https://go.dev/ref/spec#Statements</a></p></blockquote><p>Statements control execution.</p><p>​ 语句控制执行。</p><pre tabindex=0><code>Statement =
	Declaration | LabeledStmt | SimpleStmt |
	GoStmt | ReturnStmt | BreakStmt | ContinueStmt | GotoStmt |
	FallthroughStmt | Block | IfStmt | SwitchStmt | SelectStmt | ForStmt |
	DeferStmt .

SimpleStmt = EmptyStmt | ExpressionStmt | SendStmt | IncDecStmt | Assignment | ShortVarDecl .
</code></pre><h3 id=terminating-statements-终止语句>Terminating statements 终止语句</h3><p>A <em>terminating statement</em> interrupts the regular flow of control in a <a href=https://go.dev/ref/spec#Blocks>block</a>. The following statements are terminating:</p><p>​ 终止语句中断了一个<a href=../Blocks>块</a>中的常规控制流。下列语句是终止性的：</p><ol><li>A <a href=https://go.dev/ref/spec#Return_statements>&ldquo;return&rdquo;</a> or <a href=https://go.dev/ref/spec#Goto_statements>&ldquo;goto&rdquo;</a> statement.</li><li>&ldquo;<code>return</code>&ldquo;或 &ldquo;<code>goto</code>&ldquo;语句。</li><li>A call to the built-in function <a href=https://go.dev/ref/spec#Handling_panics><code>panic</code></a>.</li><li>对内置函数<code>panic</code>的调用。</li><li>A <a href=https://go.dev/ref/spec#Blocks>block</a> in which the statement list ends in a terminating statement.</li><li>语句列表以终止语句结束的块。</li><li>An <a href=https://go.dev/ref/spec#If_statements>&ldquo;if&rdquo; statement</a> in which:</li><li>一个 &ldquo;<code>if</code>&ldquo;语句，其中：<ul><li>the &ldquo;else&rdquo; branch is present, and</li><li>存在 &ldquo;<code>else</code>&ldquo;分支，并且</li><li>both branches are terminating statements.</li><li>两个分支都是终止语句。</li></ul></li><li>A <a href=https://go.dev/ref/spec#For_statements>&ldquo;for&rdquo; statement</a> in which:</li><li>一个 &ldquo;<code>for</code>&ldquo;语句，其中：</li></ol><ul><li>there are no &ldquo;break&rdquo; statements referring to the &ldquo;for&rdquo; statement, and</li><li>没有 &ldquo;<code>break</code>&ldquo;语句引用&rdquo;<code>for</code>&ldquo;语句，并且</li><li>the loop condition is absent, and</li><li>循环条件不存在，并且</li><li>the &ldquo;for&rdquo; statement does not use a range clause.</li><li>这个&rdquo;<code>for</code>&ldquo;语句没有使用<code>range</code>子句。</li></ul><ol start=11><li>A <a href=https://go.dev/ref/spec#Switch_statements>&ldquo;switch&rdquo; statement</a> in which:</li><li>一个 &ldquo;<code>switch</code>&ldquo;语句，其中：<ul><li>there are no &ldquo;break&rdquo; statements referring to the &ldquo;switch&rdquo; statement,</li><li>没有 &ldquo;<code>break</code>&ldquo;语句引用 &ldquo;<code>switch</code>&ldquo;语句</li><li>there is a default case, and</li><li>有一个默认的分支，并且</li><li>the statement lists in each case, including the default, end in a terminating statement, or a possibly labeled <a href=https://go.dev/ref/spec#Fallthrough_statements>&ldquo;fallthrough&rdquo; statement</a>.</li><li>每个分支下的语句列表，包括默认分支，都以一个终止语句结束，或者是一个可能标有 <a href=#fallthrough-statements-fallthrough-%E8%AF%AD%E5%8F%A5-fallthrough>&ldquo;fallthrough"的语句</a>。</li></ul></li><li>A <a href=https://go.dev/ref/spec#Select_statements>&ldquo;select&rdquo; statement</a> in which:</li><li>一个 &ldquo;<code>select</code>&ldquo;语句，其中:<ul><li>there are no &ldquo;break&rdquo; statements referring to the &ldquo;select&rdquo; statement, and</li><li>没有&rdquo;<code>break</code>&ldquo;语句引用&rdquo;<code>select</code>&ldquo;语句，并且</li><li>the statement lists in each case, including the default if present, end in a terminating statement.</li><li>每个分支下的语句列表，包括默认分支（如果存在），都以一个终止语句结束</li></ul></li><li>A <a href=https://go.dev/ref/spec#Labeled_statements>labeled statement</a> labeling a terminating statement.</li><li>标记终止语句的<a href=#labeled-statements-%E6%A0%87%E7%AD%BE%E8%AF%AD%E5%8F%A5>标签语句</a>。</li></ol><p>​</p><p>All other statements are not terminating.</p><p>​ 所有其他语句都不是终止性的。</p><p>A <a href=https://go.dev/ref/spec#Blocks>statement list</a> ends in a terminating statement if the list is not empty and its final non-empty statement is terminating.</p><p>​ 如果<a href=../Blocks>语句列表</a>不是空的，并且其最后的非空语句是终止性的，则该列表以终止性语句结束。</p><h3 id=empty-statements-空语句>Empty statements 空语句</h3><p>The empty statement does nothing.</p><p>​ 空语句不做任何事情。</p><pre tabindex=0><code>EmptyStmt = .
</code></pre><h3 id=labeled-statements-标签语句>Labeled statements 标签语句</h3><p>A labeled statement may be the target of a <code>goto</code>, <code>break</code> or <code>continue</code> statement.</p><p>​ 标签语句可以是<code>goto</code>、<code>break</code>或<code>continue</code>语句的目标。</p><pre tabindex=0><code>LabeledStmt = Label &#34;:&#34; Statement .
Label       = identifier .
</code></pre><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>Error</span><span style=color:#abb2bf>:</span> <span style=color:#aa89ea>log</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Panic</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;error encountered&#34;</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=expression-statements-表达式语句>Expression statements 表达式语句</h3><p>With the exception of specific built-in functions, function and method <a href=https://go.dev/ref/spec#Calls>calls</a> and <a href=https://go.dev/ref/spec#Receive_operator>receive operations</a> can appear in statement context. Such statements may be parenthesized.</p><p>​ 除了特定的内置函数外，函数和方法<a href=../Expressions#calls-%E8%B0%83%E7%94%A8>调用</a>以及<a href=../Expressions#receive-operator-%E6%8E%A5%E6%94%B6%E6%93%8D%E4%BD%9C%E7%AC%A6>接收操作</a>可以出现在语句上下文中。这样的语句可以用圆括号括起来。</p><pre tabindex=0><code>ExpressionStmt = Expression .
</code></pre><p>The following built-in functions are not permitted in statement context:</p><p>​ 以下内置函数不允许出现在语句上下文中：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>append</span> <span style=color:#aa89ea>cap</span> <span style=color:#aa89ea>complex</span> <span style=color:#aa89ea>imag</span> <span style=color:#aa89ea>len</span> <span style=color:#aa89ea>make</span> <span style=color:#aa89ea>new</span> <span style=color:#aa89ea>real</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>unsafe</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Add</span> <span style=color:#aa89ea>unsafe</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Alignof</span> <span style=color:#aa89ea>unsafe</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Offsetof</span> <span style=color:#aa89ea>unsafe</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Sizeof</span> <span style=color:#aa89ea>unsafe</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Slice</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00b1f7>h</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>y</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>f</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Close</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>&lt;-</span><span style=color:#00b1f7>ch</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>(</span><span style=color:#54b1c7>&lt;-</span><span style=color:#aa89ea>ch</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>len</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;foo&#34;</span><span style=color:#abb2bf>)</span>  <span style=color:#8a93a5;font-style:italic>// illegal if len is the built-in function
</span></span></span></code></pre></td></tr></table></div></div><h3 id=send-statements-发送语句>Send statements 发送语句</h3><p>A send statement sends a value on a channel. The channel expression&rsquo;s <a href=https://go.dev/ref/spec#Core_types>core type</a> must be a <a href=https://go.dev/ref/spec#Channel_types>channel</a>, the channel direction must permit send operations, and the type of the value to be sent must be <a href=https://go.dev/ref/spec#Assignability>assignable</a> to the channel&rsquo;s element type.</p><p>​ 发送语句在通道上发送一个值。通道表达式的<a href=../PropertiesOfTypesAndValues#core-types-%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B>核心类型</a>必须是一个<a href=../Types#channel-types-%E9%80%9A%E9%81%93%E5%9E%8B>通道</a>，通道方向必须允许发送操作，而且要发送的值的类型必须是<a href=../PropertiesOfTypesAndValues#assignability-%E5%8F%AF%E5%88%86%E9%85%8D%E6%80%A7>可以分配</a>给通道的元素类型。</p><pre tabindex=0><code>SendStmt = Channel &#34;&lt;-&#34; Expression .
Channel  = Expression .
</code></pre><p>Both the channel and the value expression are evaluated before communication begins. Communication blocks until the send can proceed. A send on an unbuffered channel can proceed if a receiver is ready. A send on a buffered channel can proceed if there is room in the buffer. A send on a closed channel proceeds by causing a <a href=https://go.dev/ref/spec#Run_time_panics>run-time panic</a>. A send on a <code>nil</code> channel blocks forever.</p><p>​ 在通信开始之前，通道和值表达式都被求值。通信阻塞，直到发送（操作）可以进行。如果有接收端准备好了，那么在一个没有缓冲的通道上的发送可以继续进行。在缓冲通道上的发送可以在缓冲区有空间的情况下进行。在关闭的通道上进行发送会引起<a href=../Run-timePanics>运行时恐慌</a>。在<code>nil</code>通道上的发送会永远阻塞。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>ch</span> <span style=color:#54b1c7>&lt;-</span> <span style=color:#d19a66>3</span>  <span style=color:#8a93a5;font-style:italic>// send value 3 to channel ch
</span></span></span></code></pre></td></tr></table></div></div><h3 id=incdec-statements--自增自减语句>IncDec statements 自增自减语句</h3><p>The &ldquo;++&rdquo; and &ldquo;&ndash;&rdquo; statements increment or decrement their operands by the untyped <a href=https://go.dev/ref/spec#Constants>constant</a> <code>1</code>. As with an assignment, the operand must be <a href=https://go.dev/ref/spec#Address_operators>addressable</a> or a map index expression.</p><p>​ <code>++</code>和<code>--</code>语句通过无类型<a href=../Constants>常量</a><code>1</code>来增加或减少其操作数。与赋值一样，操作数必须是<a href=../Expressions#address-operators-%E5%9C%B0%E5%9D%80%E8%BF%90%E7%AE%97%E7%AC%A6>可寻址的</a>，或者是一个映射索引表达式。</p><blockquote><p>个人注释</p><p>​ 以上这句话，难道是说映射的索引表达式不可以进行寻址？验证如下：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>m</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>m</span><span style=color:#abb2bf>[</span><span style=color:#98c379>&#34;age&#34;</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>32</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%#v,len=%d\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>m</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>m</span><span style=color:#abb2bf>))</span>       <span style=color:#8a93a5;font-style:italic>// map[string]int{&#34;age&#34;:32},len=1
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//fmt.Printf(&#34;%#v,%p\n&#34;, m[&#34;age&#34;], &amp;m[&#34;age&#34;]) // invalid operation: cannot take address of m[&#34;age&#34;] (map index expression of type int)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 确实：映射的索引表达式不可以进行寻址！</p></blockquote><pre tabindex=0><code>IncDecStmt = Expression ( &#34;++&#34; | &#34;--&#34; ) .
</code></pre><p>The following <a href=https://go.dev/ref/spec#Assignment_statements>assignment statements</a> are semantically equivalent:</p><p>​ 下面的<a href=#assignment-statements-%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5>赋值语句</a>在语义上是等同的：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>IncDec</span> <span style=color:#aa89ea>statement</span>    <span style=color:#aa89ea>Assignment</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x</span><span style=color:#54b1c7>++</span>                 <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>+=</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x</span><span style=color:#54b1c7>--</span>                 <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>-=</span> <span style=color:#d19a66>1</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>个人注释</p><p>​ <code>浮点数</code>、<code>复数</code>可以进行自增和自减吗？=》可以，但要注意精度问题！</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>f1</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>1.2</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// float64,1.2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>f1</span><span style=color:#54b1c7>++</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// float64,2.2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>f1</span><span style=color:#54b1c7>--</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f1</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// float64,1.2000000000000002
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>f2</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>float32</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.2</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// float32,1.2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>f2</span><span style=color:#54b1c7>++</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// float32,2.2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>f2</span><span style=color:#54b1c7>--</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f2</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// float32,1.2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>c1</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3.4</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c1</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// complex128,(1.2+3.4i)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>c1</span><span style=color:#54b1c7>++</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c1</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// complex128,(2.2+3.4i)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>c1</span><span style=color:#54b1c7>--</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c1</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// complex128,(1.2000000000000002+3.4i)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>c2</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>float32</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.2</span><span style=color:#abb2bf>),</span> <span style=color:#e5c07b>float32</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>3.4</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c2</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// complex64,(1.2+3.4i)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>c2</span><span style=color:#54b1c7>++</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c2</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// complex64,(2.2+3.4i)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>c2</span><span style=color:#54b1c7>--</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c2</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// complex64,(1.2+3.4i)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><h3 id=assignment-statements-赋值语句>Assignment statements 赋值语句</h3><p>An <em>assignment</em> replaces the current value stored in a <a href=https://go.dev/ref/spec#Variables>variable</a> with a new value specified by an <a href=https://go.dev/ref/spec#Expressions>expression</a>. An assignment statement may assign a single value to a single variable, or multiple values to a matching number of variables.</p><p>​ 赋值是用一个<a href=../Expressions>表达式</a>指定的新值来替换存储在<a href=../Variables>变量</a>中的当前值。赋值语句可以为单个变量赋值，也可以将多个值赋给匹配数量的变量。</p><pre tabindex=0><code>Assignment = ExpressionList assign_op ExpressionList .

assign_op = [ add_op | mul_op ] &#34;=&#34; .
</code></pre><p>Each left-hand side operand must be <a href=https://go.dev/ref/spec#Address_operators>addressable</a>, a map index expression, or (for <code>=</code> assignments only) the <a href=https://go.dev/ref/spec#Blank_identifier>blank identifier</a>. Operands may be parenthesized.</p><p>​ 每个左操作数必须是<a href=../Expressions#address-operators-%E5%9C%B0%E5%9D%80%E8%BF%90%E7%AE%97%E7%AC%A6>可寻址的</a>，或是一个映射索引表达式，或是（仅用于<code>=</code>赋值）<a href=../DeclarationsAndScope#blank-identifierr-%E7%A9%BA%E7%99%BD%E6%A0%87%E8%AF%86%E7%AC%A6>空白标识符，即<code>_</code></a>。操作数可以用圆括号括起来。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>x</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>*</span><span style=color:#aa89ea>p</span> <span style=color:#abb2bf>=</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>23</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>k</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>=</span> <span style=color:#54b1c7>&lt;-</span><span style=color:#aa89ea>ch</span>  <span style=color:#8a93a5;font-style:italic>// 等同于：k = &lt;-ch
</span></span></span></code></pre></td></tr></table></div></div><p>An <em>assignment operation</em> <code>x</code> <em>op</em><code>=</code> <code>y</code> where <em>op</em> is a binary <a href=https://go.dev/ref/spec#Arithmetic_operators>arithmetic operator</a> is equivalent to <code>x</code> <code>=</code> <code>x</code> <em>op</em> <code>(y)</code> but evaluates <code>x</code> only once. The <em>op</em><code>=</code> construct is a single token. In assignment operations, both the left- and right-hand expression lists must contain exactly one single-valued expression, and the left-hand expression must not be the blank identifier.</p><p>​ 赋值操作<code>x = x op y</code>，其中<code>op</code>是一个<a href=../Expressions#arithmetic-operators-%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6>二元算术运算符</a>，相当于<code>x = x op (y)</code>，但只对<code>x</code>进行一次求值。<code>op=</code>结构是一个单独的token。（<code>op=</code>）在赋值操作中，左侧的表达式和右侧的表达式列表都必须正好包含一个单值表达式，并且左侧的表达式不能是空白标识符。</p><blockquote><p>个人注释</p><p>​ 只是对于<code>op=</code>的左侧的表达式不能是<code>_</code>：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>_</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>_</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>2</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>_</span> <span style=color:#54b1c7>+=</span> <span style=color:#d19a66>1</span> <span style=color:#8a93a5;font-style:italic>// cannot use _ as value or type
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ <code>op=</code> 或 <code>=</code>的右侧的表达式可以是<code>_</code>吗？=> 不可以！</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>f</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>1.2</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// float64,1.2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//f = _   // cannot use _ as value or type
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//f += _ // cannot use _ as value or type
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// float64,1.2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// int,1
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//i = _   // cannot use _ as value or type
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//i += _ // cannot use _ as value or type
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// int,1
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>c</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3.4</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// complex128,(1.2+3.4i)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//c = _   // cannot use _ as value or type
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//c += _  // cannot use _ as value or type
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// complex128,(1.2+3.4i)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]</span> <span style=color:#54b1c7>&lt;&lt;=</span> <span style=color:#d19a66>2</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span> <span style=color:#54b1c7>&amp;^=</span> <span style=color:#d19a66>1</span><span style=color:#54b1c7>&lt;&lt;</span><span style=color:#aa89ea>n</span>
</span></span></code></pre></td></tr></table></div></div><p>A tuple assignment assigns the individual elements of a multi-valued operation to a list of variables. There are two forms. In the first, the right hand operand is a single multi-valued expression such as a function call, a <a href=https://go.dev/ref/spec#Channel_types>channel</a> or <a href=https://go.dev/ref/spec#Map_types>map</a> operation, or a <a href=https://go.dev/ref/spec#Type_assertions>type assertion</a>. The number of operands on the left hand side must match the number of values. For instance, if <code>f</code> is a function returning two values,</p><p>​ 多元赋值将多值运算的各个元素分配给一个变量列表。有两种形式。在第一种形式中，右操作数是单个多值表达式，如一个函数调用、一个<a href=../Types#channel-types-%E9%80%9A%E9%81%93%E5%9E%8B>通道</a>或<a href=../Types#map-types-%E6%98%A0%E5%B0%84%E5%9E%8B>映射</a>操作，或一个<a href=../Expressions#type-assertions-%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80>类型断言</a>。左操作数必须与值的数量相匹配。例如，如果<code>f</code>是一个返回两个值的函数，</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>=</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>()</span>
</span></span></code></pre></td></tr></table></div></div><p>assigns the first value to <code>x</code> and the second to <code>y</code>. In the second form, the number of operands on the left must equal the number of expressions on the right, each of which must be single-valued, and the <em>n</em>th expression on the right is assigned to the <em>n</em>th operand on the left:</p><p>将第一个值赋给 <code>x</code>，将第二个值赋给 <code>y</code>。在第二种形式中，左操作数必须等于右表达式数量，每个表达式必须是单值的，右边的第<code>n</code>个表达式被分配给左边的第<code>n</code>个操作数：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>one</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>two</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>three</span> <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#39;一&#39;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#39;二&#39;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#39;三&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>The <a href=https://go.dev/ref/spec#Blank_identifier>blank identifier</a> provides a way to ignore right-hand side values in an assignment:</p><p>​ <a href=../DeclarationsAndScope#blank-identifierr-%E7%A9%BA%E7%99%BD%E6%A0%87%E8%AF%86%E7%AC%A6>空白标识符，即<code>_</code></a>提供了一种在赋值中忽略右值的方法：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>_</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>x</span>       <span style=color:#8a93a5;font-style:italic>// 对 x 求值，但忽略它
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_</span> <span style=color:#abb2bf>=</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>()</span>  <span style=color:#8a93a5;font-style:italic>// 对 f() 求值，但忽略它的第二个结果值
</span></span></span></code></pre></td></tr></table></div></div><p>The assignment proceeds in two phases. First, the operands of <a href=https://go.dev/ref/spec#Index_expressions>index expressions</a> and <a href=https://go.dev/ref/spec#Address_operators>pointer indirections</a> (including implicit pointer indirections in <a href=https://go.dev/ref/spec#Selectors>selectors</a>) on the left and the expressions on the right are all <a href=https://go.dev/ref/spec#Order_of_evaluation>evaluated in the usual order</a>. Second, the assignments are carried out in left-to-right order.</p><p>​ 赋值分两个阶段进行。第一阶段，左边的<a href=../Expressions#index-expressions-%E7%B4%A2%E5%BC%95%E8%A1%A8%E8%BE%BE%E5%BC%8F>索引表达式</a>和<a href=../Expressions#address-operators-%E5%9C%B0%E5%9D%80%E8%BF%90%E7%AE%97%E7%AC%A6>指针间接</a>（包括<a href=../Expressions#selectors-%E9%80%89%E6%8B%A9%E5%99%A8>选择器</a>中的隐式指针间接）的操作数以及右边的表达式都按照<a href=../Expressions#order-of-evaluation-%E6%B1%82%E5%80%BC%E9%A1%BA%E5%BA%8F>通常的顺序被求值</a>。第二阶段，赋值是按照从左到右的顺序进行的。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>b</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>a</span>  <span style=color:#8a93a5;font-style:italic>// 交换 a 和 b
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x</span> <span style=color:#54b1c7>:=</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span>  <span style=color:#8a93a5;font-style:italic>// 设置 i = 1, x[0] = 2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>],</span> <span style=color:#aa89ea>i</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span>  <span style=color:#8a93a5;font-style:italic>// 设置 x[0] = 2, i = 1
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>],</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span>  <span style=color:#8a93a5;font-style:italic>// 设置 x[0] = 1, 然后设置 x[0] = 2 （故最后 x[0] == 2）
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>],</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span>  <span style=color:#8a93a5;font-style:italic>// 设置 x[1] = 4, 然后设置 x[3] = 5 时 panic &lt;= 因x[3]索引越界，引发panic!
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>type</span> <span style=color:#aa89ea>Point</span> <span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span> <span style=color:#e5c07b>int</span> <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>p</span> <span style=color:#54b1c7>*</span><span style=color:#aa89ea>Point</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>],</span> <span style=color:#aa89ea>p</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>x</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>7</span>  <span style=color:#8a93a5;font-style:italic>// 设置 x[2] = 6, 然后设置 p.x = 7 时 panic &lt;= 因 p 是 nil 指针，可以将p 是初始化为： var p *Point = &amp;Point{} 避免panic的发生！
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>2</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x</span> <span style=color:#abb2bf>=</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>7</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>{</span>  <span style=color:#8a93a5;font-style:italic>// 设置 i, x[2] = 0, x[0]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>break</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在这个循环之后, i == 0 and x == []int{3, 5, 3}
</span></span></span></code></pre></td></tr></table></div></div><p>In assignments, each value must be <a href=https://go.dev/ref/spec#Assignability>assignable</a> to the type of the operand to which it is assigned, with the following special cases:</p><p>​ 在赋值中，每个值必须<a href=../PropertiesOfTypesAndValues#assignability-%E5%8F%AF%E5%88%86%E9%85%8D%E6%80%A7>可以赋给</a>它所赋的操作数的类型，但有以下特殊情况：</p><ol><li>Any typed value may be assigned to the blank identifier.</li><li>任何类型的值都可以被分配给<code>空白标识符</code>。</li><li>If an untyped constant is assigned to a variable of interface type or the blank identifier, the constant is first implicitly <a href=https://go.dev/ref/spec#Conversions>converted</a> to its <a href=https://go.dev/ref/spec#Constants>default type</a>.</li><li>如果无类型的常量被分配给接口类型的变量或空白标识符，那么该常量首先被隐式地<a href=../Expressions#conversions-%E8%BD%AC%E6%8D%A2>转换</a>为其<a href=../Constants>默认类型</a>。</li><li>If an untyped boolean value is assigned to a variable of interface type or the blank identifier, it is first implicitly converted to type <code>bool</code>.</li><li>如果无类型的布尔值被分配给接口类型的变量或空白标识符，它首先被隐式转换为<code>bool</code>。</li></ol><h3 id=if-statements---if-语句>If statements - if 语句</h3><p>&ldquo;If&rdquo; statements specify the conditional execution of two branches according to the value of a boolean expression. If the expression evaluates to true, the &ldquo;if&rdquo; branch is executed, otherwise, if present, the &ldquo;else&rdquo; branch is executed.</p><p>​ &ldquo;<code>if</code>&ldquo;语句根据布尔表达式的值指定两个分支的条件性执行。如果表达式的值为真，则执行 &ldquo;<code>if</code>&ldquo;分支，否则，执行 &ldquo;<code>else</code>&ldquo;分支（如果存在）。</p><pre tabindex=0><code>IfStmt = &#34;if&#34; [ SimpleStmt &#34;;&#34; ] Expression Block [ &#34;else&#34; ( IfStmt | Block ) ] .
if x &gt; max {
	x = max
}
</code></pre><p>The expression may be preceded by a simple statement, which executes before the expression is evaluated.</p><p>​ 表达式前面可以有一个简单的语句，它在表达式被求值之前执行。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>if</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>();</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span> <span style=color:#aa89ea>x</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>&gt;</span> <span style=color:#aa89ea>z</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span> <span style=color:#aa89ea>z</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span> <span style=color:#aa89ea>y</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>个人注释</p><p>​ 简单的语句之后需要跟一个求值为bool类型的条件，否则报错：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;math/rand&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>if</span> <span style=color:#aa89ea>y</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>rand</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Intn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>y</span> <span style=color:#abb2bf>{</span> <span style=color:#8a93a5;font-style:italic>// 报错：non-boolean condition in if statement
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><h3 id=switch-statements----switch-语句>Switch statements - switch 语句</h3><p>&ldquo;Switch&rdquo; statements provide multi-way execution. An expression or type is compared to the &ldquo;cases&rdquo; inside the &ldquo;switch&rdquo; to determine which branch to execute.</p><p>​ &ldquo;<code>switch</code>&ldquo;语句提供多路执行。表达式或类型与 &ldquo;switch"内部的 &ldquo;case"进行比较，以确定执行哪个分支。</p><pre tabindex=0><code>SwitchStmt = ExprSwitchStmt | TypeSwitchStmt .
</code></pre><p>There are two forms: expression switches and type switches. In an expression switch, the cases contain expressions that are compared against the value of the switch expression. In a type switch, the cases contain types that are compared against the type of a specially annotated switch expression. The switch expression is evaluated exactly once in a switch statement.</p><p>​ 有两种形式：<code>表达式选择</code>和<code>类型选择</code>。在<code>表达式选择</code>中，case 包含与switch表达式的值进行比较的表达式。在<code>类型选择</code>中，case 包含类型，这些类型与特别说明的 <code>switch 表达式</code>的类型进行比较。在<code>switch语句</code>中，<code>switch 表达式</code>被精确地求值一次。</p><h4 id=expression-switches-表达式选择>Expression switches 表达式选择</h4><p>In an expression switch, the switch expression is evaluated and the case expressions, which need not be constants, are evaluated left-to-right and top-to-bottom; the first one that equals the switch expression triggers execution of the statements of the associated case; the other cases are skipped. If no case matches and there is a &ldquo;default&rdquo; case, its statements are executed. There can be at most one default case and it may appear anywhere in the &ldquo;switch&rdquo; statement. A missing switch expression is equivalent to the boolean value <code>true</code>.</p><p>​ 在表达式选择中，<code>switch 表达式</code>被求值，case表达式（不需要是常量）被从左到右和从上到下求值；第一个等于switch表达式的表达式会触发相关case语句的执行；其他case被跳过。如果没有匹配的case，但有一个 &ldquo;default&rdquo; case，那么这个语句将被执行。&ldquo;default&rdquo; case 最多只能有一个，它可以出现在 &ldquo;switch"语句的任何地方。缺省的<code>switch 表达式</code>等同于布尔值<code>true</code>。</p><pre tabindex=0><code>ExprSwitchStmt = &#34;switch&#34; [ SimpleStmt &#34;;&#34; ] [ Expression ] &#34;{&#34; { ExprCaseClause } &#34;}&#34; .
ExprCaseClause = ExprSwitchCase &#34;:&#34; StatementList .
ExprSwitchCase = &#34;case&#34; ExpressionList | &#34;default&#34; .
</code></pre><p>If the switch expression evaluates to an untyped constant, it is first implicitly <a href=https://go.dev/ref/spec#Conversions>converted</a> to its <a href=https://go.dev/ref/spec#Constants>default type</a>. The predeclared untyped value <code>nil</code> cannot be used as a switch expression. The switch expression type must be <a href=https://go.dev/ref/spec#Comparison_operators>comparable</a>.</p><p>​ 如果<code>switch 表达式</code>求值为无类型的常量，它首先被隐式地<a href=../Expressions#conversions-%E8%BD%AC%E6%8D%A2>转换</a>为其<a href=../Constants>默认类型</a>。预先声明的无类型值<code>nil</code>不能作为<code>switch 表达式</code>使用。<code>switch 表达式</code>的类型必须是<a href=../Expressions#comparison-operators>可比较的</a>。</p><blockquote><p>个人注释</p><p>​ 在表达式选择中存在nil的情况：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>switch</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is default&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is 1&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is 2&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#8a93a5;font-style:italic>// cannot convert nil to type int
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#8a93a5;font-style:italic>//case nil:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#8a93a5;font-style:italic>//	fmt.Println(&#34;is 2&#34;)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>报错</span>：<span style=color:#aa89ea>use</span> <span style=color:#aa89ea>of</span> <span style=color:#aa89ea>untyped</span> <span style=color:#e5c07b>nil</span> <span style=color:#aa89ea>in</span> <span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>expression</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可以看到在 <code>switch nil</code>中，程序报错：use of untyped nil in switch expression。</p><p>​ 在 <code>case nil</code>中，程序报错：use of untyped nil in switch expression。</p></blockquote><p>If a case expression is untyped, it is first implicitly <a href=https://go.dev/ref/spec#Conversions>converted</a> to the type of the switch expression. For each (possibly converted) case expression <code>x</code> and the value <code>t</code> of the switch expression, <code>x == t</code> must be a valid <a href=https://go.dev/ref/spec#Comparison_operators>comparison</a>.</p><p>​ 如果一个case 表达式是无类型的，它首先被隐式地<a href=../Expressions#conversions-%E8%BD%AC%E6%8D%A2>转换</a>为<code>switch 表达式</code>的类型。对于每个（可能转换过的）case 表达式<code>x</code>和<code>switch 表达式</code>的值<code>t</code>，<code>x == t</code>必须是一个有效的<a href=../Expressions#comparison-operators-%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6>比较</a>。</p><p>In other words, the switch expression is treated as if it were used to declare and initialize a temporary variable <code>t</code> without explicit type; it is that value of <code>t</code> against which each case expression <code>x</code> is tested for equality.</p><p>​ 换句话说，<code>switch 表达式</code>被当作是用来声明和初始化一个没有明确类型的临时变量<code>t</code>；每个case表达式<code>x</code>都是用<code>t</code>的值来测试是否相等。</p><p>In a case or default clause, the last non-empty statement may be a (possibly <a href=https://go.dev/ref/spec#Labeled_statements>labeled</a>) <a href=https://go.dev/ref/spec#Fallthrough_statements>&ldquo;fallthrough&rdquo; statement</a> to indicate that control should flow from the end of this clause to the first statement of the next clause. Otherwise control flows to the end of the &ldquo;switch&rdquo; statement. A &ldquo;fallthrough&rdquo; statement may appear as the last statement of all but the last clause of an expression switch.</p><p>​ 在case或default子句中，最后一个非空语句可以是一个（可能被<a href=#labeled-statements-%E6%A0%87%E7%AD%BE%E8%AF%AD%E5%8F%A5>标记的</a>）<a href=#fallthrough-statements-%E8%AF%AD%E5%8F%A5-fallthrough>&ldquo;fallthrough"语句</a>，表示控制应该从这个子句的结尾流向下一个子句的第一个语句。否则，控制将流向 &ldquo;switch"语句的末尾。&ldquo;fallthrough"语句可以作为<code>表达式选择</code>中除最后一个子句之外的所有子句的最后一个语句出现。</p><p>The switch expression may be preceded by a simple statement, which executes before the expression is evaluated.</p><p>​ <code>switch 表达式</code>前面可以有一个简单的语句，它在表达式被求值之前执行。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>tag</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span> <span style=color:#00b1f7>s3</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>:</span> <span style=color:#00b1f7>s1</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>7</span><span style=color:#abb2bf>:</span> <span style=color:#00b1f7>s2</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>();</span> <span style=color:#abb2bf>{</span>  <span style=color:#8a93a5;font-style:italic>// 缺少 switch 表达式 意味着 &#34;true&#34;
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>case</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>:</span> <span style=color:#76a9f9>return</span> <span style=color:#54b1c7>-</span><span style=color:#aa89ea>x</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span> <span style=color:#76a9f9>return</span> <span style=color:#aa89ea>x</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>switch</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>:</span> <span style=color:#00b1f7>f1</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#aa89ea>x</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#aa89ea>z</span><span style=color:#abb2bf>:</span> <span style=color:#00b1f7>f2</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#aa89ea>x</span> <span style=color:#54b1c7>==</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>:</span> <span style=color:#00b1f7>f3</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>个人注释</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>// switch 表达式中是一个无类型的常量 的情况
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>switch</span> <span style=color:#d19a66>1</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is default&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is 1&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is 2&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>// switch中有一个简单的语句但没有省略 switch表达式的情况
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>a</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>a</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is default&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is 1&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is 2&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>// switch中有一个简单的语句且省略 switch表达式的情况
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>a</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>;</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is default&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#aa89ea>a</span> <span style=color:#54b1c7>==</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is 1&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#aa89ea>a</span> <span style=color:#54b1c7>==</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is 2&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>Output</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>is</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>is</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>is</span> <span style=color:#d19a66>1</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><p>Implementation restriction: A compiler may disallow multiple case expressions evaluating to the same constant. For instance, the current compilers disallow duplicate integer, floating point, or string constants in case expressions.</p><p>实现限制：编译器可能不允许多个case 表达式求值为同一个常量。例如，目前的编译器不允许在case表达式中出现重复的整型常量、浮点常量或字符串常量。</p><h4 id=type-switches-类型选择>Type switches 类型选择</h4><p>A type switch compares types rather than values. It is otherwise similar to an expression switch. It is marked by a special switch expression that has the form of a <a href=https://go.dev/ref/spec#Type_assertions>type assertion</a> using the keyword <code>type</code> rather than an actual type:</p><p>​ <code>类型选择</code>比较的是<code>类型</code>而不是值。它与<code>表达式选择</code>类似。它由一个特殊的<code>switch 表达式</code>标记，该表达式具有<a href=../Expressions#type-assertions-%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80>类型断言</a>的形式，使用关键字<code>type</code>而不是实际的类型：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>.(</span><span style=color:#76a9f9>type</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// cases
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Cases then match actual types <code>T</code> against the dynamic type of the expression <code>x</code>. As with type assertions, <code>x</code> must be of <a href=https://go.dev/ref/spec#Interface_types>interface type</a>, but not a <a href=https://go.dev/ref/spec#Type_parameter_declarations>type parameter</a>, and each non-interface type <code>T</code> listed in a case must implement the type of <code>x</code>. The types listed in the cases of a type switch must all be <a href=https://go.dev/ref/spec#Type_identity>different</a>.</p><p>​ 然后，case 将实际类型<code>T</code>与表达式<code>x</code>的动态类型相匹配。与类型断言一样，<code>x</code>必须是<a href=../Types#interface-types-%E6%8E%A5%E5%8F%A3%E5%9E%8B>接口类型</a>，但不能是<a href=../DeclarationsAndScope#type-parameter-declarations-%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E5%A3%B0%E6%98%8E>类型参数</a>，而且case 中列出的每个非接口类型<code>T</code>必须实现<code>x</code>的类型。在类型选择的case 中，列出的类型都必须是<a href=../PropertiesOfTypesAndValues#type-identity-%E7%B1%BB%E5%9E%8B%E4%B8%80%E8%87%B4%E6%80%A7>不同的</a>。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>typeSwitchStmt</span>  <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;switch&#34;</span> <span style=color:#abb2bf>[</span> <span style=color:#aa89ea>SimpleStmt</span> <span style=color:#98c379>&#34;;&#34;</span> <span style=color:#abb2bf>]</span> <span style=color:#aa89ea>TypeSwitchGuard</span> <span style=color:#98c379>&#34;{&#34;</span> <span style=color:#abb2bf>{</span> <span style=color:#aa89ea>TypeCaseClause</span> <span style=color:#abb2bf>}</span> <span style=color:#98c379>&#34;}&#34;</span> <span style=color:#abb2bf>.</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>TypeSwitchGuard</span> <span style=color:#abb2bf>=</span> <span style=color:#abb2bf>[</span> <span style=color:#aa89ea>identifier</span> <span style=color:#98c379>&#34;:=&#34;</span> <span style=color:#abb2bf>]</span> <span style=color:#aa89ea>PrimaryExpr</span> <span style=color:#98c379>&#34;.&#34;</span> <span style=color:#98c379>&#34;(&#34;</span> <span style=color:#98c379>&#34;type&#34;</span> <span style=color:#98c379>&#34;)&#34;</span> <span style=color:#abb2bf>.</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>TypeCaseClause</span>  <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>TypeSwitchCase</span> <span style=color:#98c379>&#34;:&#34;</span> <span style=color:#aa89ea>StatementList</span> <span style=color:#abb2bf>.</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>TypeSwitchCase</span>  <span style=color:#abb2bf>=</span> <span style=color:#98c379>&#34;case&#34;</span> <span style=color:#aa89ea>TypeList</span> <span style=color:#abb2bf>|</span> <span style=color:#98c379>&#34;default&#34;</span> <span style=color:#abb2bf>.</span>
</span></span></code></pre></td></tr></table></div></div><p>The TypeSwitchGuard may include a <a href=https://go.dev/ref/spec#Short_variable_declarations>short variable declaration</a>. When that form is used, the variable is declared at the end of the TypeSwitchCase in the <a href=https://go.dev/ref/spec#Blocks>implicit block</a> of each clause. In clauses with a case listing exactly one type, the variable has that type; otherwise, the variable has the type of the expression in the TypeSwitchGuard.</p><p>​ TypeSwitchGuard 可以包括一个<a href=../DeclarationsAndScope#short-variable-declarations-%E7%9F%AD%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E>短变量声明</a>。当使用这种形式时，该变量在每个子句的<a href=../Blocks>隐含块</a>中的TypeSwitchCase<strong>的末尾</strong>被声明。在子句中，如果case正好列出了一种类型，那么变量就有这种类型；否则，变量就有TypeSwitchGuard中表达式的类型。</p><p>Instead of a type, a case may use the predeclared identifier <a href=https://go.dev/ref/spec#Predeclared_identifiers><code>nil</code></a>; that case is selected when the expression in the TypeSwitchGuard is a <code>nil</code> interface value. There may be at most one <code>nil</code> case.</p><p>​ case 可以使用预先声明的标识符<a href=../DeclarationsAndScope#predeclared-identifiers--%E9%A2%84%E5%85%88%E5%A3%B0%E6%98%8E%E7%9A%84%E6%A0%87%E8%AF%86%E7%AC%A6>nil</a>来代替类型；当TypeSwitchGuard中的表达式是一个<code>nil</code>接口值时，该case被选中。最多只能有一个<code>nil </code>case。</p><p>Given an expression <code>x</code> of type <code>interface{}</code>, the following type switch:</p><p>​ 给定一个<code>interface{}</code>类型的表达式<code>x</code>，下面的类型选择：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>.(</span><span style=color:#76a9f9>type</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#e5c07b>nil</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;x is nil&#34;</span><span style=color:#abb2bf>)</span>                <span style=color:#8a93a5;font-style:italic>// i 类型是 x 的类型（interface{}）
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>case</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printInt</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>                            <span style=color:#8a93a5;font-style:italic>// i 类型是 int
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>case</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printFloat64</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>                        <span style=color:#8a93a5;font-style:italic>// i 类型是 float64 
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>case</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printFunction</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>                       <span style=color:#8a93a5;font-style:italic>// i 类型是 func(int) float64
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>case</span> <span style=color:#e5c07b>bool</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;type is bool or string&#34;</span><span style=color:#abb2bf>)</span>  <span style=color:#8a93a5;font-style:italic>// i 类型是 x 的类型（interface{}）
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;don&#39;t know the type&#34;</span><span style=color:#abb2bf>)</span>     <span style=color:#8a93a5;font-style:italic>// i 类型是 x 的类型（interface{}）
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>个人注释</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">63
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>JudgeType</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#aa89ea>any</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>.(</span><span style=color:#76a9f9>type</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;don&#39;t know the type&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,i=%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#e5c07b>int8</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int16</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int32</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int64</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is int8、int16、int32、int64、int&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,i=%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#e5c07b>uint8</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>uint16</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>uint32</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>uint64</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>uint</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is uint8、uint16、uint32、uint64、uint&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,i=%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#e5c07b>float32</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is float32、float64&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,i=%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#e5c07b>complex64</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>complex128</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is complex64、complex128&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,i=%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>var</span> <span style=color:#aa89ea>x</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{}</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>JudgeType</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;------------------------------&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>x</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>nil</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>JudgeType</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;------------------------------&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>x</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>int8</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>JudgeType</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;------------------------------&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>x</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>uint16</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>JudgeType</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;------------------------------&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>x</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>1.2</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>JudgeType</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;------------------------------&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>x</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>complex</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1.2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3.4</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>JudgeType</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;------------------------------&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>Output</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>don</span>&#39;<span style=color:#aa89ea>t</span> <span style=color:#aa89ea>know</span> <span style=color:#aa89ea>the</span> <span style=color:#76a9f9>type</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#e5c07b>nil</span><span style=color:#abb2bf>&gt;,</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=&lt;</span><span style=color:#e5c07b>nil</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>don</span>&#39;<span style=color:#aa89ea>t</span> <span style=color:#aa89ea>know</span> <span style=color:#aa89ea>the</span> <span style=color:#76a9f9>type</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>&lt;</span><span style=color:#e5c07b>nil</span><span style=color:#abb2bf>&gt;,</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=&lt;</span><span style=color:#e5c07b>nil</span><span style=color:#abb2bf>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>is</span> <span style=color:#e5c07b>int8</span>、<span style=color:#e5c07b>int16</span>、<span style=color:#e5c07b>int32</span>、<span style=color:#e5c07b>int64</span>、<span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>int8</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>is</span> <span style=color:#e5c07b>uint8</span>、<span style=color:#e5c07b>uint16</span>、<span style=color:#e5c07b>uint32</span>、<span style=color:#e5c07b>uint64</span>、<span style=color:#e5c07b>uint</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>uint16</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>0x1</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>is</span> <span style=color:#e5c07b>float32</span>、<span style=color:#e5c07b>float64</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>float64</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>1.2</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>------------------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>is</span> <span style=color:#e5c07b>complex64</span>、<span style=color:#e5c07b>complex128</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>complex128</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=(</span><span style=color:#d19a66>1.2</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>3.4i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>------------------------------</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><p>could be rewritten:</p><p>可以被重写为：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>v</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>x</span>  <span style=color:#8a93a5;font-style:italic>// x 只被求值一次
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>if</span> <span style=color:#aa89ea>v</span> <span style=color:#54b1c7>==</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>v</span>    <span style=color:#8a93a5;font-style:italic>// i 类型为 x 的类型（interface{}）
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#00b1f7>printString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;x is nil&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>isInt</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>.(</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>isInt</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printInt</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// i 类型是 int
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>isFloat64</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>.(</span><span style=color:#e5c07b>float64</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>isFloat64</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printFloat64</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// i 类型是 float64 
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#76a9f9>if</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>isFunc</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>.(</span><span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>isFunc</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>printFunction</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// i 类型是 func(int) float64
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>_</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>isBool</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>.(</span><span style=color:#e5c07b>bool</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>_</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>isString</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>.(</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>if</span> <span style=color:#aa89ea>isBool</span> <span style=color:#54b1c7>||</span> <span style=color:#aa89ea>isString</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>v</span>  <span style=color:#8a93a5;font-style:italic>// i 类型是 x 的类型（interface{}）
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#00b1f7>printString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;type is bool or string&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>v</span> <span style=color:#8a93a5;font-style:italic>// i 类型是 x 的类型（interface{}）
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#00b1f7>printString</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;don&#39;t know the type&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>A <a href=https://go.dev/ref/spec#Type_parameter_declarations>type parameter</a> or a <a href=https://go.dev/ref/spec#Type_declarations>generic type</a> may be used as a type in a case. If upon <a href=https://go.dev/ref/spec#Instantiations>instantiation</a> that type turns out to duplicate another entry in the switch, the first matching case is chosen.</p><p>​ <a href=../DeclarationsAndScope#type-parameter-declarations-%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E5%A3%B0%E6%98%8E>类型参数</a>或<a href=../DeclarationsAndScope#type-declarations-%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E>泛型</a>可以作为 case 中的一个类型。如果在<a href=../Expressions#instantiations-%E5%AE%9E%E4%BE%8B%E5%8C%96>实例化</a>时，该类型被发现与switch中的另一个case重复，则选择第一个匹配的case。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>P</span> <span style=color:#aa89ea>any</span><span style=color:#abb2bf>](</span><span style=color:#aa89ea>x</span> <span style=color:#aa89ea>any</span><span style=color:#abb2bf>)</span> <span style=color:#e5c07b>int</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>.(</span><span style=color:#76a9f9>type</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#aa89ea>P</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>return</span> <span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>return</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#abb2bf>[]</span><span style=color:#aa89ea>P</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>return</span> <span style=color:#d19a66>2</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>return</span> <span style=color:#d19a66>3</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>return</span> <span style=color:#d19a66>4</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>v1</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>](</span><span style=color:#98c379>&#34;foo&#34;</span><span style=color:#abb2bf>)</span>   <span style=color:#8a93a5;font-style:italic>// v1 == 0
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>v2</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>f</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>]([]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>{})</span>  <span style=color:#8a93a5;font-style:italic>// v2 == 2
</span></span></span></code></pre></td></tr></table></div></div><p>The type switch guard may be preceded by a simple statement, which executes before the guard is evaluated.</p><p>​ 类型选择防护（guard ）前可以有一个简单的语句，该语句在防护（guard ）被求值前执行。</p><p>The &ldquo;fallthrough&rdquo; statement is not permitted in a type switch.</p><p>​ 在类型选择中<code>不允许使用</code>&ldquo;fallthrough"语句。</p><h3 id=for-statements----for-语句>For statements - for 语句</h3><p>A &ldquo;for&rdquo; statement specifies repeated execution of a block. There are three forms: The iteration may be controlled by a single condition, a &ldquo;for&rdquo; clause, or a &ldquo;range&rdquo; clause.</p><p>​ &ldquo;<code>for</code>&ldquo;语句指定重复执行一个块。有三种形式：迭代可以由单个条件、&ldquo;for"子句或 &ldquo;range"子句控制。</p><pre tabindex=0><code>ForStmt = &#34;for&#34; [ Condition | ForClause | RangeClause ] Block .
Condition = Expression .
</code></pre><h4 id=for-statements-with-single-condition-带有单一条件的for语句>For statements with single condition 带有单一条件的for语句</h4><p>In its simplest form, a &ldquo;for&rdquo; statement specifies the repeated execution of a block as long as a boolean condition evaluates to true. The condition is evaluated before each iteration. If the condition is absent, it is equivalent to the boolean value <code>true</code>.</p><p>​ 在其最简单的形式中，&ldquo;for"语句指定重复执行一个块，只要一个布尔条件被求值为真。该条件在每次迭代前被求值。如果条件不存在，它就等同于布尔值<code>true</code>。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>a</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#aa89ea>b</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>a</span> <span style=color:#54b1c7>*=</span> <span style=color:#d19a66>2</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=for-statements-with-for-clause-带有for子句的for语句>For statements with <code>for</code> clause 带有for子句的for语句</h4><p>A &ldquo;for&rdquo; statement with a ForClause is also controlled by its condition, but additionally it may specify an <em>init</em> and a <em>post</em> statement, such as an assignment, an increment or decrement statement. The init statement may be a <a href=https://go.dev/ref/spec#Short_variable_declarations>short variable declaration</a>, but the post statement must not.</p><p>​ 带有for子句的 &ldquo;for"语句也受其条件的控制，但另外它可以指定一个<code>init</code>和一个<code>post</code>语句，如一个赋值，一个增量或减量语句。init语句可以是一个<a href=../DeclarationsAndScope#short-variable-declarations-%E7%9F%AD%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E>短变量声明</a>，但post语句则不能。由init语句声明的变量会在每次迭代中重复使用。</p><pre tabindex=0><code>ForClause = [ InitStmt ] &#34;;&#34; [ Condition ] &#34;;&#34; [ PostStmt ] .
InitStmt = SimpleStmt .
PostStmt = SimpleStmt .
</code></pre><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#d19a66>10</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span><span style=color:#54b1c7>++</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>If non-empty, the init statement is executed once before evaluating the condition for the first iteration; the post statement is executed after each execution of the block (and only if the block was executed). Any element of the ForClause may be empty but the <a href=https://go.dev/ref/spec#Semicolons>semicolons</a> are required unless there is only a condition. If the condition is absent, it is equivalent to the boolean value <code>true</code>.</p><p>​ 如果（init语句）非空，则它在求值第一个迭代的条件之前被执行一次；post语句在每次执行块之后被执行（而且只有当该块被执行时）。For子句的任何元素都可以是空的，但是<a href=../LexicalElements#semicolons-%E5%88%86%E5%8F%B7>分号</a>是必须的，除非只有一个条件（则可以省略分号）。如果没有条件，则等同于布尔值<code>true</code>。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>cond</span> <span style=color:#abb2bf>{</span> <span style=color:#00b1f7>S</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>}</span>    <span style=color:#aa89ea>is</span> <span style=color:#aa89ea>the</span> <span style=color:#aa89ea>same</span> <span style=color:#aa89ea>as</span>    <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>;</span> <span style=color:#aa89ea>cond</span> <span style=color:#abb2bf>;</span> <span style=color:#abb2bf>{</span> <span style=color:#00b1f7>S</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span>      <span style=color:#abb2bf>{</span> <span style=color:#00b1f7>S</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>}</span>    <span style=color:#aa89ea>is</span> <span style=color:#aa89ea>the</span> <span style=color:#aa89ea>same</span> <span style=color:#aa89ea>as</span>    <span style=color:#76a9f9>for</span> <span style=color:#e5c07b>true</span>     <span style=color:#abb2bf>{</span> <span style=color:#00b1f7>S</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Each iteration has its own separate declared variable (or variables) [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-122>Go 1.22</a>]. The variable used by the first iteration is declared by the init statement. The variable used by each subsequent iteration is declared implicitly before executing the post statement and initialized to the value of the previous iteration&rsquo;s variable at that moment.</p><p>​ 每次迭代都有其自己的单独声明的变量（或变量）[<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-122>Go 1.22</a>]。第一次迭代使用的变量由 init 语句声明。每次后续迭代使用的变量在执行 post 语句之前隐式声明，并初始化为该时刻前一次迭代变量的值。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>prints</span> <span style=color:#abb2bf>[]</span><span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span><span style=color:#54b1c7>++</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>prints</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>append</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>prints</span><span style=color:#abb2bf>,</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span> <span style=color:#e5c07b>println</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>})</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>i</span><span style=color:#54b1c7>++</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>_</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>p</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>prints</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>p</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>prints</p><p>打印</p><pre tabindex=0><code>1
3
5
</code></pre><p>Prior to [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-122>Go 1.22</a>], iterations share one set of variables instead of having their own separate variables. In that case, the example above prints</p><p>​ 在 [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-122>Go 1.22</a>] 之前，迭代共享一组变量，而不是拥有它们自己的独立变量。在这种情况下，上面的示例打印</p><pre tabindex=0><code>6
6
6
</code></pre><h4 id=for-statements-with-range-clause--带有range子句的for语句>For statements with <code>range</code> clause 带有range子句的for语句</h4><p>A &ldquo;for&rdquo; statement with a &ldquo;range&rdquo; clause iterates through all entries of an array, slice, string or map, values received on a channel, or integer values from zero to an upper limit [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-122>Go 1.22</a>]. For each entry it assigns <em>iteration values</em> to corresponding <em>iteration variables</em> if present and then executes the block.</p><p>​ 带有 &ldquo;<code>range</code>&ldquo;子句的 &ldquo;for"语句会迭代数组、切片、字符串或映射的所有条目，在通道上接收的值，或从零到上限的整数值 [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-122>Go 1.22</a>]。对于每个条目，它将迭代值分配给相应的迭代变量（如果存在），然后执行块。</p><pre tabindex=0><code>RangeClause = [ ExpressionList &#34;=&#34; | IdentifierList &#34;:=&#34; ] &#34;range&#34; Expression .
</code></pre><p>The expression on the right in the &ldquo;range&rdquo; clause is called the <em>range expression</em>, its <a href=https://go.dev/ref/spec#Core_types>core type</a> must be an array, pointer to an array, slice, string, map, channel permitting <a href=https://go.dev/ref/spec#Receive_operator>receive operations</a>, or an integer. As with an assignment, if present the operands on the left must be <a href=https://go.dev/ref/spec#Address_operators>addressable</a> or map index expressions; they denote the iteration variables. If the range expression is a channel or integer, at most one iteration variable is permitted, otherwise there may be up to two. If the last iteration variable is the <a href=https://go.dev/ref/spec#Blank_identifier>blank identifier</a>, the range clause is equivalent to the same clause without that identifier.</p><p>​ 在 &ldquo;<code>range</code>&ldquo;子句中<code>右边的表达式</code>称为<code>范围表达式</code>，其<a href=../PropertiesOfTypesAndValues#core-types-%E6%A0%B8%E5%BF%83%E7%B1%BB%E5%9E%8B>核心类型</a>必须是数组、指向数组的指针、切片、字符串、映射或允许<a href=../Expressions#receive-operator-%E6%8E%A5%E6%94%B6%E6%93%8D%E4%BD%9C%E7%AC%A6>接收操作</a>的通道。和赋值一样，如果左操作数存在的话，那么它必须是<a href=../Expressions#address-operators-%E5%9C%B0%E5%9D%80%E8%BF%90%E7%AE%97%E7%AC%A6>可寻址的</a>或映射索引表达式；它们（即左操作数）表示<code>迭代变量</code>。如果<code>range 表达式</code>是一个通道，最多允许一个迭代变量，其他情况下最多可以有两个迭代变量。如果最后一个迭代变量是<a href=../DeclarationsAndScope#blank-identifierr-%E7%A9%BA%E7%99%BD%E6%A0%87%E8%AF%86%E7%AC%A6>空白标识符，即<code>_</code></a>，那么range 子句就等同于没有该空白标识符的相同子句。</p><p>The range expression <code>x</code> is evaluated once before beginning the loop, with one exception: if at most one iteration variable is present and <code>len(x)</code> is <a href=https://go.dev/ref/spec#Length_and_capacity>constant</a>, the range expression is not evaluated.</p><p>​ 在开始循环之前，range 表达式<code>x</code>被求值一次，<strong>但有一个例外</strong>：如果最多只有一个迭代变量，并且<code>len(x)</code>是<a href=../Constants>常量</a>，那么range 表达式不被求值。</p><blockquote><p>个人注释</p><p>​ 是否以下的示例满足上面所说的：“如果最多只有一个迭代变量，并且<code>len(x)</code>是<a href=../Constants>常量</a>，那么range 表达式不被求值” ？TODO</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;math/rand&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;time&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>x1</span> <span style=color:#54b1c7>:=</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;before x1=%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>rand</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Seed</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Now</span><span style=color:#abb2bf>().</span><span style=color:#00b1f7>UnixNano</span><span style=color:#abb2bf>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>x1</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#8a93a5;font-style:italic>// 生成随机整数，范围: [0,6)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#aa89ea>rd</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>rand</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Intn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;i=%d,rd=%d,x1[i]=%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>rd</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>])</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>rd</span><span style=color:#54b1c7>*</span><span style=color:#d19a66>2</span> <span style=color:#54b1c7>+</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;x1[rd]=%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>])</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;----------------------&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;after x1=%#v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>Output</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>before</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>=[]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>3</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>----------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>3</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>7</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>----------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>3</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>5</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>----------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>7</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>3</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>----------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>5</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>7</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>----------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>6</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>x1</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>rd</span><span style=color:#abb2bf>]=</span><span style=color:#d19a66>7</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>----------------------</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>after</span> <span style=color:#aa89ea>x1</span><span style=color:#abb2bf>=[]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>7</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><p>Function calls on the left are evaluated once per iteration. For each iteration, iteration values are produced as follows if the respective iteration variables are present:</p><p>​ 左边的函数调用在每个迭代中被求值一次（=>仍有疑问？？）。对于每个迭代，如果各自的迭代变量存在，则迭代值按以下产生：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>Range</span> <span style=color:#aa89ea>expression</span>                          <span style=color:#d19a66>1</span><span style=color:#aa89ea>st</span> <span style=color:#aa89ea>value</span>          <span style=color:#d19a66>2</span><span style=color:#aa89ea>nd</span> <span style=color:#aa89ea>value</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>range</span> <span style=color:#aa89ea>表达式</span>                               <span style=color:#aa89ea>第一个值</span>             <span style=color:#aa89ea>第二个值</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>array</span> <span style=color:#aa89ea>or</span> <span style=color:#aa89ea>slice</span>  <span style=color:#aa89ea>a</span>  <span style=color:#abb2bf>[</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>]</span><span style=color:#aa89ea>E</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>*</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>n</span><span style=color:#abb2bf>]</span><span style=color:#aa89ea>E</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>or</span> <span style=color:#abb2bf>[]</span><span style=color:#aa89ea>E</span>    <span style=color:#aa89ea>index</span>    <span style=color:#aa89ea>i</span>  <span style=color:#e5c07b>int</span>    <span style=color:#aa89ea>a</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>]</span>       <span style=color:#aa89ea>E</span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>string</span>          <span style=color:#aa89ea>s</span>  <span style=color:#e5c07b>string</span> <span style=color:#76a9f9>type</span>            <span style=color:#aa89ea>index</span>    <span style=color:#aa89ea>i</span>  <span style=color:#e5c07b>int</span>    <span style=color:#aa89ea>see</span> <span style=color:#aa89ea>below</span>  <span style=color:#e5c07b>rune</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>map</span>             <span style=color:#aa89ea>m</span>  <span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>K</span><span style=color:#abb2bf>]</span><span style=color:#aa89ea>V</span>                <span style=color:#aa89ea>key</span>      <span style=color:#aa89ea>k</span>  <span style=color:#aa89ea>K</span>      <span style=color:#aa89ea>m</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>k</span><span style=color:#abb2bf>]</span>       <span style=color:#aa89ea>V</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>channel</span>         <span style=color:#aa89ea>c</span>  <span style=color:#76a9f9>chan</span> <span style=color:#aa89ea>E</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>&lt;-</span><span style=color:#76a9f9>chan</span> <span style=color:#aa89ea>E</span>       <span style=color:#aa89ea>element</span>  <span style=color:#aa89ea>e</span>  <span style=color:#aa89ea>E</span>
</span></span></code></pre></td></tr></table></div></div><ol><li><p>For an array, pointer to array, or slice value <code>a</code>, the index iteration values are produced in increasing order, starting at element index 0. If at most one iteration variable is present, the range loop produces iteration values from 0 up to <code>len(a)-1</code> and does not index into the array or slice itself. For a <code>nil</code> slice, the number of iterations is 0.</p></li><li><p>对于一个数组值、数组指针值或切片值<code>a</code>，索引迭代值按递增顺序产生，从元素索引0开始。如果最多只有一个迭代变量，range 循环产生从<code>0</code>到<code>len(a)-1</code>的迭代值，并且不对数组或切片本身进行索引。对于一个<code>nil</code> 切片，迭代次数为0。</p><blockquote><p>个人注释</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>a</span> <span style=color:#54b1c7>:=</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#39;a&#39;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#39;b&#39;</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#39;c&#39;</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>a</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%v,%v,%d,%x,%X,%#x,%#X,%s,%q\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>),</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;--------------------&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>var</span> <span style=color:#aa89ea>s</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>s</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%v,%v,%d,%x,%X,%#x,%#X,%s,%q\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>),</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>Output</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>97</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>97</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>61</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>61</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x61</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X61</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;a&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>98</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>98</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>62</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>62</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x62</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X62</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;b&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>99</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>99</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>63</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>63</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x63</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X63</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>c</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;c&#34;</span>
</span></span><span style=display:flex><span><span style=color:#54b1c7>--------------------</span>
</span></span></code></pre></td></tr></table></div></div></blockquote></li><li><p>For a string value, the &ldquo;range&rdquo; clause iterates over the Unicode code points in the string starting at byte index 0. On successive iterations, the index value will be the index of the first byte of successive UTF-8-encoded code points in the string, and the second value, of type <code>rune</code>, will be the value of the corresponding code point. If the iteration encounters an invalid UTF-8 sequence, the second value will be <code>0xFFFD</code>, the Unicode replacement character, and the next iteration will advance a single byte in the string.</p></li><li><p>对于一个字符串值，&ldquo;range"子句在字符串中的Unicode码点上进行迭代，从字节索引0开始。在连续的迭代中，索引值将是字符串中连续的UTF-8编码码点的第一个字节的索引，第二个值，类型为<code>rune</code>，将是相应码点的值。<code>如果迭代遇到一个无效的UTF-8序列</code>，第二个值将是（Unicode替换字符）<code>0xFFFD</code>，下一次迭代将在字符串中推进一个字节。</p><blockquote><p>个人注释</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>str</span> <span style=color:#54b1c7>:=</span> <span style=color:#98c379>&#34;我爱我的\x80祖国\x80&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>str</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%v,%v,%d,%x,%X,%#x,%#X,%s,%q,%U\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>),</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>),</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>Output</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>25105</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>25105</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6211</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6211</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x6211</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X6211</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>我</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;我&#34;</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>U</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>6211</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>29233</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>29233</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>7231</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>7231</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x7231</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X7231</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>爱</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;爱&#34;</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>U</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>7231</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>25105</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>25105</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6211</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6211</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x6211</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X6211</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>我</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;我&#34;</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>U</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>6211</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>9</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>30340</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>30340</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>7684</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>7684</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x7684</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X7684</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>的</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;的&#34;</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>U</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>7684</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>12</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>65533</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>65533</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>fffd</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>FFFD</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0xfffd</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0XFFFD</span><span style=color:#abb2bf>,</span>�<span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;�&#34;</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>U</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>FFFD</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>13</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>31062</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>31062</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>7956</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>7956</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x7956</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X7956</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>祖</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;祖&#34;</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>U</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>7956</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>16</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>22269</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>22269</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>56</span><span style=color:#aa89ea>fd</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>56</span><span style=color:#aa89ea>FD</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x56fd</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X56FD</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>国</span><span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;国&#34;</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>U</span><span style=color:#54b1c7>+</span><span style=color:#d19a66>56</span><span style=color:#aa89ea>FD</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>19</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>65533</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>65533</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>fffd</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>FFFD</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0xfffd</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0XFFFD</span><span style=color:#abb2bf>,</span>�<span style=color:#abb2bf>,</span><span style=color:#98c379>&#34;�&#34;</span><span style=color:#abb2bf>,</span><span style=color:#aa89ea>U</span><span style=color:#54b1c7>+</span><span style=color:#aa89ea>FFFD</span>
</span></span></code></pre></td></tr></table></div></div></blockquote></li><li><p>The iteration order over maps is not specified and is not guaranteed to be the same from one iteration to the next. If a map entry that has not yet been reached is removed during iteration, the corresponding iteration value will not be produced. If a map entry is created during iteration, that entry may be produced during the iteration or may be skipped. The choice may vary for each entry created and from one iteration to the next. If the map is <code>nil</code>, the number of iterations is 0.</p></li><li><p>对映射的迭代顺序没有指定，不保证每次迭代都是一样的。如果在迭代过程中删除了一个尚未到达的映射条目，将不会产生相应的迭代值。如果在迭代过程中创建了一个映射条目，该条目可能在迭代过程中被产生，也可能被跳过。对于每个创建的条目，以及从一个迭代到另一个迭代，选择可能有所不同。如果映射为<code>nil</code>，迭代次数为0。</p><blockquote><p>个人注释</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>m</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;a&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;b&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;1a&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;1b&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;0a&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;0b&#34;</span><span style=color:#abb2bf>:</span> <span style=color:#d19a66>6</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>k</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>m</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%v,%v,%d,%x,%X,%#x,%#X,%s,%q\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>k</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>,</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>),</span> <span style=color:#e5c07b>string</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>第一次</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>Output</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X1</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x01&#34;</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X2</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x02&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>1</span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X3</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x03&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>1</span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X4</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x04&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>0</span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X5</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x05&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>0</span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X6</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x06&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>第二次</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>Output</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>1</span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x3</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X3</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x03&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>1</span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x4</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X4</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x04&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>0</span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x5</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X5</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x05&#34;</span>
</span></span><span style=display:flex><span><span style=color:#d19a66>0</span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x6</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X6</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x06&#34;</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>a</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x1</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X1</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x01&#34;</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>b</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0x2</span><span style=color:#abb2bf>,</span><span style=color:#d19a66>0X2</span><span style=color:#abb2bf>,,</span><span style=color:#98c379>&#34;\x02&#34;</span>
</span></span></code></pre></td></tr></table></div></div></blockquote></li><li><p>For channels, the iteration values produced are the successive values sent on the channel until the channel is <a href=https://go.dev/ref/spec#Close>closed</a>. If the channel is <code>nil</code>, the range expression blocks forever.</p></li><li><p>对于通道，产生的迭代值是通道上连续发送的值，直到通道<a href=../Built-inFunctions#close>关闭</a>。如果通道为<code>nil</code>，则 range 表达式永远阻塞。</p><blockquote><p>个人注释</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;time&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>ch</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>chan</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>go</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>defer</span> <span style=color:#e5c07b>close</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ch</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>&lt;=</span> <span style=color:#d19a66>2</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span><span style=color:#54b1c7>++</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>			<span style=color:#aa89ea>ch</span> <span style=color:#54b1c7>&lt;-</span> <span style=color:#aa89ea>i</span>
</span></span><span style=display:flex><span>		<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Sleep</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>6</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Second</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;end sleeping 6s&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>&lt;=</span> <span style=color:#d19a66>5</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span><span style=color:#54b1c7>++</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>			<span style=color:#aa89ea>ch</span> <span style=color:#54b1c7>&lt;-</span> <span style=color:#aa89ea>i</span>
</span></span><span style=display:flex><span>		<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>// 报错：range over ch (variable of type chan int) permits only one iteration variable
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//for v, ok := range ch {
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//	fmt.Printf(&#34;v=%v,ok=%T\n&#34;, v, ok)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>v</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>ch</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;v=%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>v</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>Output</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>0</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>2</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>end</span> <span style=color:#aa89ea>sleeping</span> <span style=color:#d19a66>6</span><span style=color:#aa89ea>s</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>3</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>4</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>v</span><span style=color:#abb2bf>=</span><span style=color:#d19a66>5</span>
</span></span></code></pre></td></tr></table></div></div></blockquote></li><li><p>For an integer value <code>n</code>, the iteration values 0 through <code>n-1</code> are produced in increasing order. If <code>n</code> &lt;= 0, the loop does not run any iterations.</p></li><li><p>对于整数值 <code>n</code> ，迭代值 0 到 <code>n-1</code> 按递增顺序生成。如果 <code>n</code> &lt;= 0，则循环不会运行任何迭代。</p></li></ol><p>The iteration variables may be declared by the &ldquo;range&rdquo; clause using a form of <a href=https://go.dev/ref/spec#Short_variable_declarations>short variable declaration</a> (<code>:=</code>). In this case their <a href=https://go.dev/ref/spec#Declarations_and_scope>scope</a> is the block of the &ldquo;for&rdquo; statement and each iteration has its own new variables [<a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-122>Go 1.22</a>] (see also <a href=https://go.dev/ref/spec#For_clause>&ldquo;for&rdquo; statements with a ForClause</a>). If the range expression is a (possibly untyped) integer expression <code>n</code>, the variable has the same type as if it was <a href=https://go.dev/ref/spec#Variable_declarations>declared</a> with initialization expression <code>n</code>. Otherwise, the variables have the types of their respective iteration values.</p><p>​ 迭代变量可以通过“range”子句使用短变量声明的形式（ <code>:=</code> ）来声明。在这种情况下，它们的范围是“for”语句的块，并且每次迭代都有其自己的新变量 [ <a href=https://before80.github.io/go_docs/langSpec/Appendix/#go-122>Go 1.22</a>]（另请参阅带有 ForClause 的“for”语句）。如果范围表达式是（可能未键入的）整数表达式 <code>n</code> ，则变量的类型与使用初始化表达式 <code>n</code> 声明的类型相同。否则，变量具有其各自迭代值的数据类型。</p><p>If the iteration variables are not explicitly declared by the &ldquo;range&rdquo; clause, they must be preexisting. In this case, the iteration values are assigned to the respective variables as in an <a href=https://go.dev/ref/spec#Assignment_statements>assignment statement</a>. If the range expression is a (possibly untyped) integer expression <code>n</code>, <code>n</code> too must be <a href=https://go.dev/ref/spec#Assignability>assignable</a> to the iteration variable; if there is no iteration variable, <code>n</code> must be assignable to <code>int</code>.</p><p>​ 如果迭代变量未通过“range”子句显式声明，则它们必须是预先存在的。在这种情况下，迭代值将分配给各个变量，就像在赋值语句中一样。如果范围表达式是（可能未键入的）整数表达式 <code>n</code> ，则 <code>n</code> 也必须可分配给迭代变量；如果没有迭代变量，则 <code>n</code> 必须可分配给 <code>int</code> 。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">52
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>testdata</span> <span style=color:#54b1c7>*</span><span style=color:#76a9f9>struct</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>a</span> <span style=color:#54b1c7>*</span><span style=color:#abb2bf>[</span><span style=color:#d19a66>7</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>testdata</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>a</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// testdata.a is never evaluated; len(testdata.a) is constant
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// i ranges from 0 to 6
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// testdata.a 不会被求值； len(testdata.a) 是常量 &lt;= 这里符合前面说的那个&#34;但有一个例外&#34;的情况吗？
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// i 范围从 0 到 6
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>a</span> <span style=color:#abb2bf>[</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>s</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>a</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// type of i is int
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// type of s is string
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// s == a[i]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// i 的类型是 int
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// s 的类型是 string
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// s == a[i]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#00b1f7>g</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>s</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>key</span> <span style=color:#e5c07b>string</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>val</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{}</span>  <span style=color:#8a93a5;font-style:italic>// element type of m is assignable to val  m 的元素类型可赋值给 val
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#aa89ea>m</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>map</span><span style=color:#abb2bf>[</span><span style=color:#e5c07b>string</span><span style=color:#abb2bf>]</span><span style=color:#e5c07b>int</span><span style=color:#abb2bf>{</span><span style=color:#98c379>&#34;mon&#34;</span><span style=color:#abb2bf>:</span><span style=color:#d19a66>0</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;tue&#34;</span><span style=color:#abb2bf>:</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;wed&#34;</span><span style=color:#abb2bf>:</span><span style=color:#d19a66>2</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;thu&#34;</span><span style=color:#abb2bf>:</span><span style=color:#d19a66>3</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;fri&#34;</span><span style=color:#abb2bf>:</span><span style=color:#d19a66>4</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;sat&#34;</span><span style=color:#abb2bf>:</span><span style=color:#d19a66>5</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34;sun&#34;</span><span style=color:#abb2bf>:</span><span style=color:#d19a66>6</span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>key</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>val</span> <span style=color:#abb2bf>=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>m</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>h</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>key</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>val</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// key == last map key encountered in iteration
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// val == map[key]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// key == 迭代中遇到的最后一个映射键
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// val == map[key]
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>ch</span> <span style=color:#76a9f9>chan</span> <span style=color:#aa89ea>Work</span> <span style=color:#abb2bf>=</span> <span style=color:#00b1f7>producer</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>w</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>ch</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>doWork</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>w</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 清空通道
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// empty a channel
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>for</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>ch</span> <span style=color:#abb2bf>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// call f(0), f(1), ... f(9)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#d19a66>10</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>// type of i is int (default type for untyped constant 10)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// invalid: 256 cannot be assigned to uint8
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>u</span> <span style=color:#e5c07b>uint8</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>u</span> <span style=color:#abb2bf>=</span> <span style=color:#76a9f9>range</span> <span style=color:#d19a66>256</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=go-statements----go-语句>Go statements - go 语句</h3><p>A &ldquo;go&rdquo; statement starts the execution of a function call as an independent concurrent thread of control, or <em>goroutine</em>, within the same address space.</p><p>​ <code>go</code>语句作为一个独立的并发控制线程（或称为goroutine），<code>在同一地址空间内</code>开始执行一个函数调用。</p><pre tabindex=0><code>GoStmt = &#34;go&#34; Expression .
</code></pre><p>The expression must be a function or method call; it cannot be parenthesized. Calls of built-in functions are restricted as for <a href=https://go.dev/ref/spec#Expression_statements>expression statements</a>.</p><p>​ （go语句中的）表达式<code>必须是一个函数或方法调用</code>；其不能用圆括号括起来。对内置函数的调用与<a href=#expression-statements-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E5%8F%A5>表达式语句</a>一样受到限制。</p><blockquote><p>个人注释</p><p>​ 是不是不能使用 <code>go + 内置函数</code> 或 <code>go + 表达式语句</code>？</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">31
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;time&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;x=%d\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>//i := []int{0, 1}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//go append(i, 2) // 报错：go discards result of append(i, 2) (value of type []int)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>ch</span> <span style=color:#54b1c7>:=</span> <span style=color:#e5c07b>make</span><span style=color:#abb2bf>(</span><span style=color:#76a9f9>chan</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>go</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>ch</span> <span style=color:#54b1c7>&lt;-</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#54b1c7>&lt;-</span><span style=color:#aa89ea>ch</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>go</span> <span style=color:#e5c07b>close</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ch</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>//s := []int{0, 1}
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//go len(s) // 报错：go discards result of len(s) (value of type int)
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>x</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>    <span style=color:#8a93a5;font-style:italic>// go + 表达式语句
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>go</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Sleep</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>2</span> <span style=color:#54b1c7>*</span> <span style=color:#aa89ea>time</span><span style=color:#abb2bf>.</span><span style=color:#aa89ea>Second</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;main over&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 可见并不是不能使用 <code>go + 内置函数</code> 或 <code>go + 表达式语句</code>，而是使用的内置函数或表达式语句有限制，即有些内置函数、表达式语句不能使用，有些内置函数或表达式语句可以使用！</p></blockquote><p>The function value and parameters are <a href=https://go.dev/ref/spec#Calls>evaluated as usual</a> in the calling goroutine, but unlike with a regular call, program execution does not wait for the invoked function to complete. Instead, the function begins executing independently in a new goroutine. When the function terminates, its goroutine also terminates. If the function has any return values, they are discarded when the function completes.</p><p>​ 函数值和参数在调用的goroutine中<a href=../Expressions#order-of-evaluation-%E6%B1%82%E5%80%BC%E9%A1%BA%E5%BA%8F>像往常一样被求值</a>，但与普通调用不同的是，程序执行不会等待被调用的函数完成。相反，该函数开始在一个新的goroutine中独立执行。当该函数终止时，其goroutine也会终止。如果该函数有任何返回值，当函数完成时，它们会被丢弃。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>go</span> <span style=color:#00b1f7>Server</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>go</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>ch</span> <span style=color:#76a9f9>chan</span><span style=color:#54b1c7>&lt;-</span> <span style=color:#e5c07b>bool</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span> <span style=color:#76a9f9>for</span> <span style=color:#abb2bf>{</span> <span style=color:#00b1f7>sleep</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>10</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>ch</span> <span style=color:#54b1c7>&lt;-</span> <span style=color:#e5c07b>true</span> <span style=color:#abb2bf>}}</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>c</span><span style=color:#abb2bf>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=select-statements---select-语句>Select statements - select 语句</h3><p>A &ldquo;select&rdquo; statement chooses which of a set of possible <a href=https://go.dev/ref/spec#Send_statements>send</a> or <a href=https://go.dev/ref/spec#Receive_operator>receive</a> operations will proceed. It looks similar to a <a href=https://go.dev/ref/spec#Switch_statements>&ldquo;switch&rdquo;</a> statement but with the cases all referring to communication operations.</p><p>​ &ldquo;<code>select</code>&ldquo;语句选择一组可能的<a href=#send-statements-%E5%8F%91%E9%80%81%E8%AF%AD%E5%8F%A5>发送</a>或<a href=../Expressions#receive-operator-%E6%8E%A5%E6%94%B6%E6%93%8D%E4%BD%9C%E7%AC%A6>接收</a>操作中的一个来进行。它看起来类似于 &ldquo;<a href=#switch-statements----switch-%E8%AF%AD%E5%8F%A5>switch</a> &ldquo;语句，但其 case 都是只涉及通信操作。</p><pre tabindex=0><code>SelectStmt = &#34;select&#34; &#34;{&#34; { CommClause } &#34;}&#34; .
CommClause = CommCase &#34;:&#34; StatementList .
CommCase   = &#34;case&#34; ( SendStmt | RecvStmt ) | &#34;default&#34; .
RecvStmt   = [ ExpressionList &#34;=&#34; | IdentifierList &#34;:=&#34; ] RecvExpr .
RecvExpr   = Expression .
</code></pre><p>A case with a RecvStmt may assign the result of a RecvExpr to one or two variables, which may be declared using a <a href=https://go.dev/ref/spec#Short_variable_declarations>short variable declaration</a>. The RecvExpr must be a (possibly parenthesized) receive operation. There can be at most one default case and it may appear anywhere in the list of cases.</p><p>​ 一个有 RecvStmt 的 case 可以将 RecvExpr 的结果分配给一个或两个变量，这些变量可以用<a href=../DeclarationsAndScope#short-variable-declarations-%E7%9F%AD%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E>短变量声明</a>来声明。RecvExpr 必须是一个（可能是圆括号内的）接收操作。最多可以有一个default case，它可以出现在 case 列表的任何地方。</p><p>Execution of a &ldquo;select&rdquo; statement proceeds in several steps:</p><p>​ &ldquo;<code>select</code>&ldquo;语句的执行分几个步骤进行：</p><ol><li>For all the cases in the statement, the channel operands of receive operations and the channel and right-hand-side expressions of send statements are evaluated exactly once, in source order, upon entering the &ldquo;select&rdquo; statement. The result is a set of channels to receive from or send to, and the corresponding values to send. Any side effects in that evaluation will occur irrespective of which (if any) communication operation is selected to proceed. Expressions on the left-hand side of a RecvStmt with a short variable declaration or assignment are not yet evaluated.</li><li>对于语句中的所有情况，在进入 &ldquo;<code>select</code>&ldquo;语句时，接收操作的通道操作数、通道、发送语句的右侧表达式（按源代码出现的顺序）被求值一次。结果是一组要接收或发送的通道，以及对应的要发送的值。无论选择哪一个（如果有）通信操作来进行，在这次求值中的任何副作用都会发生。在 RecvStmt 左侧的表达式有一个短变量声明或赋值，还没有被求值。</li><li>If one or more of the communications can proceed, a single one that can proceed is chosen via a uniform pseudo-random selection. Otherwise, if there is a default case, that case is chosen. If there is no default case, the &ldquo;select&rdquo; statement blocks until at least one of the communications can proceed.</li><li>如果一个或多个通信可以进行，则通过统一的伪随机选择来选择一个可以进行的通信。否则，如果有一个default case，就会选择该情况。如果没有default case，"<code>select</code>&ldquo;语句就会阻塞，直到至少有一项通信可以进行。</li><li>Unless the selected case is the default case, the respective communication operation is executed.</li><li>除非选择的情况是default case，否则将执行相应的通信操作。</li><li>If the selected case is a RecvStmt with a short variable declaration or an assignment, the left-hand side expressions are evaluated and the received value (or values) are assigned.</li><li>如果选择的 case 是一个带有短变量声明或赋值的RecvStmt，左边的表达式会被求值，接收到的值（或多个值）被用于赋值。</li><li>The statement list of the selected case is executed.</li><li>所选 case 语句列表被执行。</li></ol><p>Since communication on <code>nil</code> channels can never proceed, a select with only <code>nil</code> channels and no default case blocks forever.</p><p>​ 由于在<code>nil</code>通道上的通信永远不能进行，所以只有<code>nil</code>通道且没有default case 的<code>select</code>语句会永远阻塞。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>a</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>c</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c2</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>c4</span> <span style=color:#76a9f9>chan</span> <span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>var</span> <span style=color:#aa89ea>i1</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i2</span> <span style=color:#e5c07b>int</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>select</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#aa89ea>i1</span> <span style=color:#abb2bf>=</span> <span style=color:#54b1c7>&lt;-</span><span style=color:#aa89ea>c1</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>print</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;received &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i1</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34; from c1\n&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#aa89ea>c2</span> <span style=color:#54b1c7>&lt;-</span> <span style=color:#aa89ea>i2</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>print</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;sent &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i2</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34; to c2\n&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#aa89ea>i3</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>ok</span> <span style=color:#54b1c7>:=</span> <span style=color:#abb2bf>(</span><span style=color:#54b1c7>&lt;-</span><span style=color:#aa89ea>c3</span><span style=color:#abb2bf>):</span>  <span style=color:#8a93a5;font-style:italic>// same as: i3, ok := &lt;-c3
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>if</span> <span style=color:#aa89ea>ok</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>print</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;received &#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i3</span><span style=color:#abb2bf>,</span> <span style=color:#98c379>&#34; from c3\n&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>print</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;c3 is closed\n&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>case</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>[</span><span style=color:#00b1f7>f</span><span style=color:#abb2bf>()]</span> <span style=color:#abb2bf>=</span> <span style=color:#54b1c7>&lt;-</span><span style=color:#aa89ea>c4</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>// same as:
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>// case t := &lt;-c4
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#8a93a5;font-style:italic>//	a[f()] = t
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>print</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;no communication\n&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#abb2bf>{</span>  <span style=color:#8a93a5;font-style:italic>// send random sequence of bits to c
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>select</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#aa89ea>c</span> <span style=color:#54b1c7>&lt;-</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>:</span>  <span style=color:#8a93a5;font-style:italic>// note: no statement, no fallthrough, no folding of cases
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>case</span> <span style=color:#aa89ea>c</span> <span style=color:#54b1c7>&lt;-</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>select</span> <span style=color:#abb2bf>{}</span>  <span style=color:#8a93a5;font-style:italic>// block forever
</span></span></span></code></pre></td></tr></table></div></div><h3 id=return-statements----return-语句>Return statements - return 语句</h3><p>A &ldquo;return&rdquo; statement in a function <code>F</code> terminates the execution of <code>F</code>, and optionally provides one or more result values. Any functions <a href=https://go.dev/ref/spec#Defer_statements>deferred</a> by <code>F</code> are executed before <code>F</code> returns to its caller.</p><p>​ 函数<code>F</code>中的 &ldquo;<code>return</code>&ldquo;语句终止了<code>F</code>的执行，并且可以选择提供一个或多个结果值。在<code>F</code>返回给它的调用者之前，任何由<code>F</code><a href=#defer-statements-%E8%AF%AD%E5%8F%A5-defer>延迟</a>的函数都会被执行。</p><pre tabindex=0><code>ReturnStmt = &#34;return&#34; [ ExpressionList ] .
</code></pre><p>In a function without a result type, a &ldquo;return&rdquo; statement must not specify any result values.</p><p>​ 在没有结果类型的函数中，"<code>return</code>&ldquo;语句必须不指定任何结果值。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>noResult</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>There are three ways to return values from a function with a result type:</p><p>​ 有三种方法可以从一个有结果类型的函数中返回值：</p><ol><li><p>The return value or values may be explicitly listed in the &ldquo;return&rdquo; statement. Each expression must be single-valued and <a href=https://go.dev/ref/spec#Assignability>assignable</a> to the corresponding element of the function&rsquo;s result type.</p></li><li><p>可以在 &ldquo;<code>return</code>&ldquo;语句中显式地列出一个或多个返回值。每个表达式必须是单值的，并且可以分配给函数的结果类型的相应元素。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>simpleF</span><span style=color:#abb2bf>()</span> <span style=color:#e5c07b>int</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span> <span style=color:#d19a66>2</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>complexF1</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>re</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>im</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>7.0</span><span style=color:#abb2bf>,</span> <span style=color:#54b1c7>-</span><span style=color:#d19a66>4.0</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>The expression list in the &ldquo;return&rdquo; statement may be a single call to a multi-valued function. The effect is as if each value returned from that function were assigned to a temporary variable with the type of the respective value, followed by a &ldquo;return&rdquo; statement listing these variables, at which point the rules of the previous case apply.</p></li><li><p>&ldquo;<code>return</code>&ldquo;语句中的表达式列表可能是对一个多值函数的单一调用。其效果就像从该函数返回的每个值都被分配到一个临时变量中，其类型与相应的值类型相同，随后的 &ldquo;<code>return</code>&ldquo;语句列出了这些变量，此时，前一种情况的规则适用。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>complexF2</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>re</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>im</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span> <span style=color:#00b1f7>complexF1</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>The expression list may be empty if the function&rsquo;s result type specifies names for its <a href=https://go.dev/ref/spec#Function_types>result parameters</a>. The result parameters act as ordinary local variables and the function may assign values to them as necessary. The &ldquo;return&rdquo; statement returns the values of these variables.</p></li><li><p>如果函数的结果类型为其结果参数指定了名称，该表达式列表可能是空的。结果参数作为普通的局部变量，函数可以根据需要给它们赋值。<code>return</code>语句会返回这些变量的值。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>complexF3</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>re</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>im</span> <span style=color:#e5c07b>float64</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>re</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>7.0</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>im</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>4.0</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>devnull</span><span style=color:#abb2bf>)</span> <span style=color:#00b1f7>Write</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>p</span> <span style=color:#abb2bf>[]</span><span style=color:#e5c07b>byte</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>_</span> <span style=color:#e5c07b>error</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>n</span> <span style=color:#abb2bf>=</span> <span style=color:#e5c07b>len</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>p</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><p>Regardless of how they are declared, all the result values are initialized to the <a href=https://go.dev/ref/spec#The_zero_value>zero values</a> for their type upon entry to the function. A &ldquo;return&rdquo; statement that specifies results sets the result parameters before any deferred functions are executed.</p><p>​ 不管它们是如何被声明的，<code>所有的结果值在进入函数时都被初始化为</code>其类型的<a href=../ProgramInitializationAndExecution#the-zero-value-%E9%9B%B6%E5%80%BC>零值</a>。指定结果的 &ldquo;<code>return</code>&ldquo;语句<code>在执行任何延迟函数之前</code>设置结果参数。</p><p>Implementation restriction: A compiler may disallow an empty expression list in a &ldquo;return&rdquo; statement if a different entity (constant, type, or variable) with the same name as a result parameter is in <a href=https://go.dev/ref/spec#Declarations_and_scope>scope</a> at the place of the return.</p><p>​ 实现限制：如果在返回的地方有一个与结果参数同名的不同实体（常量、类型或变量）在<a href=../DeclarationsAndScope>作用域</a>内，编译器可能不允许在 &ldquo;<code>return</code>&ldquo;语句中出现空表达式列表。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>res</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#e5c07b>error</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>if</span> <span style=color:#aa89ea>_</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span><span style=color:#54b1c7>-</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>return</span>  <span style=color:#8a93a5;font-style:italic>// 无效的返回语句： err 被遮蔽了
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>个人注释</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>res</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#e5c07b>error</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>if</span> <span style=color:#aa89ea>_</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>:=</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>n</span> <span style=color:#54b1c7>-</span> <span style=color:#d19a66>1</span><span style=color:#abb2bf>);</span> <span style=color:#aa89ea>err</span> <span style=color:#54b1c7>!=</span> <span style=color:#e5c07b>nil</span> <span style=color:#abb2bf>{</span> <span style=color:#8a93a5;font-style:italic>// 报错： inner declaration of var err error
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#76a9f9>return</span> <span style=color:#8a93a5;font-style:italic>// 无效的返回语句： err 被遮蔽了 // 报错： result parameter err not in scope at return
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#abb2bf>}</span> <span style=color:#8a93a5;font-style:italic>//
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>return</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>1</span><span style=color:#abb2bf>))</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><h3 id=break-statements---break-语句>Break statements - break 语句</h3><p>A &ldquo;break&rdquo; statement terminates execution of the innermost <a href=https://go.dev/ref/spec#For_statements>&ldquo;for&rdquo;</a>, <a href=https://go.dev/ref/spec#Switch_statements>&ldquo;switch&rdquo;</a>, or <a href=https://go.dev/ref/spec#Select_statements>&ldquo;select&rdquo;</a> statement within the same function.</p><p>​ &ldquo;<code>break</code>&ldquo;语句可以终止同一函数中最里面的 &ldquo;<a href=#for-statements-for----for-%E8%AF%AD%E5%8F%A5>for</a>"、"<a href=#switch-statements-switch----switch-%E8%AF%AD%E5%8F%A5>switch</a> &ldquo;或 &ldquo;<a href=#select-statements-select---select-%E8%AF%AD%E5%8F%A5>select</a> &ldquo;语句的执行。</p><pre tabindex=0><code>BreakStmt = &#34;break&#34; [ Label ] .
</code></pre><p>If there is a label, it must be that of an enclosing &ldquo;for&rdquo;, &ldquo;switch&rdquo;, or &ldquo;select&rdquo; statement, and that is the one whose execution terminates.</p><p>​ 如果有一个标签，它必须是一个封闭的 &ldquo;<code>for</code>"、"<code>switch</code>&ldquo;或 &ldquo;<code>select</code>&ldquo;语句的标签，而且是执行终止的那一个。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>OuterLoop</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#aa89ea>n</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span><span style=color:#54b1c7>++</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>j</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>j</span> <span style=color:#abb2bf>&lt;</span> <span style=color:#aa89ea>m</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>j</span><span style=color:#54b1c7>++</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>			<span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>a</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>][</span><span style=color:#aa89ea>j</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>			<span style=color:#76a9f9>case</span> <span style=color:#e5c07b>nil</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>				<span style=color:#aa89ea>state</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>Error</span>
</span></span><span style=display:flex><span>				<span style=color:#76a9f9>break</span> <span style=color:#aa89ea>OuterLoop</span>
</span></span><span style=display:flex><span>			<span style=color:#76a9f9>case</span> <span style=color:#aa89ea>item</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>				<span style=color:#aa89ea>state</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>Found</span>
</span></span><span style=display:flex><span>				<span style=color:#76a9f9>break</span> <span style=color:#aa89ea>OuterLoop</span>
</span></span><span style=display:flex><span>			<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>		<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=continue-statements----continue-语句>Continue statements - continue 语句</h3><p>A &ldquo;continue&rdquo; statement begins the next iteration of the innermost enclosing <a href=https://go.dev/ref/spec#For_statements>&ldquo;for&rdquo; loop</a> by advancing control to the end of the loop block. The &ldquo;for&rdquo; loop must be within the same function.</p><p>​ &ldquo;<code>continue</code>&ldquo;语句通过将控制推进到循环块的末端来开始最内层的 <a href=#for-statements-for----for-%E8%AF%AD%E5%8F%A5>&ldquo;for"循环</a>的下一次迭代。"<code>for</code>&ldquo;循环必须是在同一个函数中。</p><pre tabindex=0><code>ContinueStmt = &#34;continue&#34; [ Label ] .
</code></pre><p>If there is a label, it must be that of an enclosing &ldquo;for&rdquo; statement, and that is the one whose execution advances.</p><p>​ 如果有一个标签，它必须是一个封闭的 &ldquo;<code>for</code>&ldquo;语句的标签，而且是执行前进的那一个。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">9
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#aa89ea>RowLoop</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>row</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>rows</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>for</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>data</span> <span style=color:#54b1c7>:=</span> <span style=color:#76a9f9>range</span> <span style=color:#aa89ea>row</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>			<span style=color:#76a9f9>if</span> <span style=color:#aa89ea>data</span> <span style=color:#54b1c7>==</span> <span style=color:#aa89ea>endOfRow</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>				<span style=color:#76a9f9>continue</span> <span style=color:#aa89ea>RowLoop</span>
</span></span><span style=display:flex><span>			<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>			<span style=color:#aa89ea>row</span><span style=color:#abb2bf>[</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>]</span> <span style=color:#abb2bf>=</span> <span style=color:#aa89ea>data</span> <span style=color:#54b1c7>+</span> <span style=color:#00b1f7>bias</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>y</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=goto-statements-语句-goto>Goto statements 语句 goto</h3><p>A &ldquo;goto&rdquo; statement transfers control to the statement with the corresponding label within the same function.</p><p>​ &ldquo;<code>goto</code>&ldquo;语句将控制转移到同一函数中具有相应标签的语句。</p><pre tabindex=0><code>GotoStmt = &#34;goto&#34; Label .
goto Error
</code></pre><p>Executing the &ldquo;goto&rdquo; statement must not cause any variables to come into <a href=https://go.dev/ref/spec#Declarations_and_scope>scope</a> that were not already in scope at the point of the goto. For instance, this example:</p><p>​ 执行 &ldquo;<code>goto</code>&ldquo;语句不能导致任何变量进入goto处的作用域之外的<a href=../DeclarationsAndScope>作用域</a>。例如，这个例子：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>	<span style=color:#76a9f9>goto</span> <span style=color:#aa89ea>L</span>  <span style=color:#8a93a5;font-style:italic>// BAD
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>v</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>3</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>L</span><span style=color:#abb2bf>:</span>
</span></span></code></pre></td></tr></table></div></div><p>is erroneous because the jump to label <code>L</code> skips the creation of <code>v</code>.</p><p>是错误的，因为跳转到标签<code>L</code>时，跳过了创建<code>v</code>的过程。</p><p>A &ldquo;goto&rdquo; statement outside a <a href=https://go.dev/ref/spec#Blocks>block</a> cannot jump to a label inside that block. For instance, this example:</p><p>​ <a href=../Blocks>块</a>外的 &ldquo;<code>goto</code>&ldquo;语句不能跳到该块内的标签。例如，这个例子：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>if</span> <span style=color:#aa89ea>n</span><span style=color:#54b1c7>%</span><span style=color:#d19a66>2</span> <span style=color:#54b1c7>==</span> <span style=color:#d19a66>1</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>goto</span> <span style=color:#aa89ea>L1</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>n</span> <span style=color:#abb2bf>&gt;</span> <span style=color:#d19a66>0</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>f</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>n</span><span style=color:#54b1c7>--</span>
</span></span><span style=display:flex><span><span style=color:#aa89ea>L1</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>	<span style=color:#00b1f7>f</span><span style=color:#abb2bf>()</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>n</span><span style=color:#54b1c7>--</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>is erroneous because the label <code>L1</code> is inside the &ldquo;for&rdquo; statement&rsquo;s block but the <code>goto</code> is not.</p><p>是错误的，因为标签<code>L1</code>在 &ldquo;for"语句的块内，而<code>goto</code>不在其中。</p><h3 id=fallthrough-statements-语句-fallthrough>Fallthrough statements 语句 fallthrough</h3><p>A &ldquo;fallthrough&rdquo; statement transfers control to the first statement of the next case clause in an <a href=https://go.dev/ref/spec#Expression_switches>expression &ldquo;switch&rdquo; statement</a>. It may be used only as the final non-empty statement in such a clause.</p><p>​ 在<a href=#expression-switches-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E9%80%89%E6%8B%A9>表达式选择语句</a>中，"<code>fallthrough</code>&ldquo;语句将控制转移到下一个<code>case</code>子句的第一个语句。它只能作为这种子句中的最后一个非空语句使用。</p><pre tabindex=0><code>FallthroughStmt = &#34;fallthrough&#34; .
</code></pre><blockquote><p>个人注释</p><p>​ <code>fallthrough</code>语句难道就不能在类型选择语句中使用吗？=> 是的，不能！</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>var</span> <span style=color:#aa89ea>i</span> <span style=color:#76a9f9>interface</span><span style=color:#abb2bf>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>i</span> <span style=color:#abb2bf>=</span> <span style=color:#d19a66>1</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>switch</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>.(</span><span style=color:#76a9f9>type</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>case</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is int&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>fallthrough</span>  <span style=color:#8a93a5;font-style:italic>// 报错： cannot fallthrough in type switch
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#76a9f9>case</span> <span style=color:#e5c07b>uint</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;is uint&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>default</span><span style=color:#abb2bf>:</span>
</span></span><span style=display:flex><span>		<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;don&#39;t know the type&#34;</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><p>​ 给出<code>fallthrough</code>的示例，如下所示：</p><p>​ 可见default语句所处位置对于switch中的<code>fallthrough</code>语句还是有影响的！</p></blockquote><ul class="nav nav-tabs" id=tabs-8 role=tablist><li class=nav-item><button class="nav-link active" id=tabs-08-00-tab data-bs-toggle=tab data-bs-target=#tabs-08-00 role=tab data-td-tp-persist=default在最前面的情况 aria-controls=tabs-08-00 aria-selected=true>
default在最前面的情况</button></li><li class=nav-item><button class=nav-link id=tabs-08-01-tab data-bs-toggle=tab data-bs-target=#tabs-08-01 role=tab data-td-tp-persist=default在最后面的情况 aria-controls=tabs-08-01 aria-selected=false>
default在最后面的情况</button></li></ul><div class=tab-content id=tabs-8-content><div class="tab-body tab-pane fade show active" id=tabs-08-00 role=tabpanel aria-labelled-by=tabs-08-00-tab tabindex=8>```go
package main
import (
"fmt"
"math/rand"
)
func GetRandInt() int {
return rand.Intn(7)
}
func GetRank() {
switch i := GetRandInt(); {
default:
fmt.Printf("------ i=%d -- over----------\n", i)
case i == 6:
fmt.Println("i is 6")
fallthrough
case i < 6:
if i < 6 {
fmt.Println("less 6")
}
fallthrough
case i < 5:
if i < 5 {
fmt.Println("less 5")
}
fallthrough
case i < 4:
if i < 4 {
fmt.Println("less 4")
}
fallthrough
case i < 3:
if i < 3 {
fmt.Println("less 3")
}
fallthrough
case i < 2:
if i < 2 {
fmt.Println("less 2")
}
fallthrough
case i < 1:
if i < 1 {
fmt.Println("less 1")
}
//fallthrough //报错： cannot fallthrough final case in switch
}
}
func main() {
x := 0
for x <= 5 {
x++
GetRank()
}
}
Output:
less 6
less 5
less 4
less 3
less 2
less 6
less 6
less 5
less 4
less 3
less 2
less 6
less 5
less 4
less 6
i is 6
```</div><div class="tab-body tab-pane fade" id=tabs-08-01 role=tabpanel aria-labelled-by=tabs-08-01-tab tabindex=8>```go
package main
import (
"fmt"
"math/rand"
)
func GetRandInt() int {
return rand.Intn(7)
}
func GetRank() {
switch i := GetRandInt(); {
case i == 6:
fmt.Println("i is 6")
fallthrough
case i < 6:
if i < 6 {
fmt.Println("less 6")
}
fallthrough
case i < 5:
if i < 5 {
fmt.Println("less 5")
}
fallthrough
case i < 4:
if i < 4 {
fmt.Println("less 4")
}
fallthrough
case i < 3:
if i < 3 {
fmt.Println("less 3")
}
fallthrough
case i < 2:
if i < 2 {
fmt.Println("less 2")
}
fallthrough
case i < 1:
if i < 1 {
fmt.Println("less 1")
}
fallthrough
default:
fmt.Printf("------ i=%d -- over----------\n", i)
}
}
func main() {
x := 0
for x <= 5 {
x++
GetRank()
}
}
Output:
less 6
less 5
less 4
------ i=3 -- over----------
less 6
less 5
less 4
less 3
less 2
less 1
------ i=0 -- over----------
less 6
less 5
less 4
less 3
less 2
less 1
------ i=0 -- over----------
i is 6
------ i=6 -- over----------
less 6
less 5
less 4
less 3
less 2
less 1
------ i=0 -- over----------
less 6
less 5
less 4
less 3
less 2
------ i=1 -- over----------
```</div></div><h3 id=defer-statements-语句-defer>Defer statements 语句 defer</h3><p>A &ldquo;defer&rdquo; statement invokes a function whose execution is deferred to the moment the surrounding function returns, either because the surrounding function executed a <a href=https://go.dev/ref/spec#Return_statements>return statement</a>, reached the end of its <a href=https://go.dev/ref/spec#Function_declarations>function body</a>, or because the corresponding goroutine is <a href=https://go.dev/ref/spec#Handling_panics>panicking</a>.</p><p>​ &ldquo;<code>defer</code>&ldquo;语句调用一个函数，该函数的执行被推迟到外层函数返回的那一刻，或者是因为外层函数执行了 <a href=#return-statements-return----return-%E8%AF%AD%E5%8F%A5>return 语句</a>，达到了其<a href=../DeclarationsAndScope#function-declarations-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E>函数体</a>的末端，或者是因为相应的goroutine正在<a href=../Built-inFunctions#handling-panics-%E5%A4%84%E7%90%86%E6%81%90%E6%85%8C>恐慌</a>。</p><pre tabindex=0><code>DeferStmt = &#34;defer&#34; Expression .
</code></pre><p>The expression must be a function or method call; it cannot be parenthesized. Calls of built-in functions are restricted as for <a href=https://go.dev/ref/spec#Expression_statements>expression statements</a>.</p><p>​ 这个表达式必须是一个函数或方法的调用；它不能是被圆括号括起来的。对内置函数的调用与<a href=#expression-statements-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E5%8F%A5>表达式语句</a>一样受到限制。</p><blockquote><p>个人注释</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>x</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;x=%d\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>x</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>defer</span> <span style=color:#abb2bf>(</span><span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span> <span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;over&#34;</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>}())</span> <span style=color:#8a93a5;font-style:italic>// 报错：expression in defer must not be parenthesized
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><p>Each time a &ldquo;defer&rdquo; statement executes, the function value and parameters to the call are <a href=https://go.dev/ref/spec#Calls>evaluated as usual</a> and saved anew but the actual function is not invoked. Instead, deferred functions are invoked immediately before the surrounding function returns, in the reverse order they were deferred. That is, if the surrounding function returns through an explicit <a href=https://go.dev/ref/spec#Return_statements>return statement</a>, deferred functions are executed <em>after</em> any result parameters are set by that return statement but <em>before</em> the function returns to its caller. If a deferred function value evaluates to <code>nil</code>, execution <a href=https://go.dev/ref/spec#Handling_panics>panics</a> when the function is invoked, not when the &ldquo;defer&rdquo; statement is executed.</p><p>​ 每次执行 &ldquo;<code>defer</code>&ldquo;语句时，函数值和调用的参数<a href=../Expressions#order-of-evaluation-%E6%B1%82%E5%80%BC%E9%A1%BA%E5%BA%8F>像往常一样被求值</a>并重新保存，但实际的函数不会被调用。相反，<code>被延迟函数</code>在外层的函数返回之前立即被调用，<code>其顺序与它们被延迟的顺序相反</code>。也就是说，如果外层的函数通过一个显式的 <a href=#return-statements-return----return-%E8%AF%AD%E5%8F%A5>return 语句</a>返回，<code>被延迟函数</code>在任何结果参数被该 <code>reurn 语句</code>设置后执行，<code>但在外层函数返回给其调用者之前</code>。如果<code>被延迟函数</code>值被求值为<code>nil</code>，那么在调用该被延迟函数时会出现执行<a href>恐慌</a>（而不是当 &ldquo;<code>defer</code>&ldquo;语句被执行时）。</p><blockquote><p>个人注释</p><p>​ 解释下“如果<code>被延迟函数</code>值被求值为<code>nil</code>，那么在调用该被延迟函数时会出现执行<a href>恐慌</a>（而不是当 &ldquo;<code>defer</code>&ldquo;语句被执行时）”：</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">30
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#76a9f9>package</span> <span style=color:#aa89ea>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>import</span> <span style=color:#abb2bf>(</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#98c379>&#34;math/rand&#34;</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>f1</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span> <span style=color:#aa89ea>any</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;i=%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>f2</span><span style=color:#abb2bf>()</span> <span style=color:#aa89ea>any</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#aa89ea>rand</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Intn</span><span style=color:#abb2bf>(</span><span style=color:#d19a66>101</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>if</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>&gt;=</span> <span style=color:#d19a66>60</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>return</span> <span style=color:#aa89ea>i</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span> <span style=color:#76a9f9>else</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#76a9f9>return</span> <span style=color:#e5c07b>nil</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>main</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>defer</span> <span style=color:#00b1f7>f1</span><span style=color:#abb2bf>(</span><span style=color:#00b1f7>f2</span><span style=color:#abb2bf>())</span> <span style=color:#8a93a5;font-style:italic>// 可以执行
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>var</span> <span style=color:#aa89ea>fn</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span>                        <span style=color:#8a93a5;font-style:italic>// 声明一个空函数变量
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Printf</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;%T,%v\n&#34;</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fn</span><span style=color:#abb2bf>,</span> <span style=color:#aa89ea>fn</span> <span style=color:#54b1c7>==</span> <span style=color:#e5c07b>nil</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// func(),true
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>	
</span></span><span style=display:flex><span>	<span style=color:#8a93a5;font-style:italic>//defer fn() // 报错：panic: runtime error: invalid memory address or nil pointer dereference
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span>	<span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Println</span><span style=color:#abb2bf>(</span><span style=color:#98c379>&#34;main over&#34;</span><span style=color:#abb2bf>)</span> <span style=color:#8a93a5;font-style:italic>// main over
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div></blockquote><p>For instance, if the deferred function is a <a href=https://go.dev/ref/spec#Function_literals>function literal</a> and the surrounding function has <a href=https://go.dev/ref/spec#Function_types>named result parameters</a> that are in scope within the literal, the deferred function may access and modify the result parameters before they are returned. If the deferred function has any return values, they are discarded when the function completes. (See also the section on <a href=https://go.dev/ref/spec#Handling_panics>handling panics</a>.)</p><p>​ 例如，如果<code>被延迟函数</code>是一个<a href=../Expressions#function-literals-%E5%87%BD%E6%95%B0%E5%AD%97%E9%9D%A2%E9%87%8F>函数字面量</a>，并且外层的函数有在该字面量的作用域内的<a href=../Types#function-types-%E5%87%BD%E6%95%B0%E5%9E%8B>命名结果参数</a>，那么该<code>被延迟函数</code>可以在这些结果参数被返回之前访问和修改它们。如果<code>被延迟函数</code>有任何返回值，这些返回值将在函数完成时被丢弃。(参见<a href=../Built-inFunctions#handling-panics-%E5%A4%84%E7%90%86%E6%81%90%E6%85%8C>处理恐慌</a>一节)。</p><div class=highlight><div style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#58626f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00b1f7>lock</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>l</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#76a9f9>defer</span> <span style=color:#00b1f7>unlock</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>l</span><span style=color:#abb2bf>)</span>  <span style=color:#8a93a5;font-style:italic>// unlock 发生在外层函数返回之前
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// 在外层函数返回之前，打印 3 2 1 0
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>for</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>:=</span> <span style=color:#d19a66>0</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span> <span style=color:#54b1c7>&lt;=</span> <span style=color:#d19a66>3</span><span style=color:#abb2bf>;</span> <span style=color:#aa89ea>i</span><span style=color:#54b1c7>++</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>defer</span> <span style=color:#aa89ea>fmt</span><span style=color:#abb2bf>.</span><span style=color:#00b1f7>Print</span><span style=color:#abb2bf>(</span><span style=color:#aa89ea>i</span><span style=color:#abb2bf>)</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// f 返回 42
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#76a9f9>func</span> <span style=color:#00b1f7>f</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>(</span><span style=color:#aa89ea>result</span> <span style=color:#e5c07b>int</span><span style=color:#abb2bf>)</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>defer</span> <span style=color:#76a9f9>func</span><span style=color:#abb2bf>()</span> <span style=color:#abb2bf>{</span>
</span></span><span style=display:flex><span>		<span style=color:#8a93a5;font-style:italic>// result 会在它被 return 语句设为 6 之后再被访问
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>		<span style=color:#aa89ea>result</span> <span style=color:#54b1c7>*=</span> <span style=color:#d19a66>7</span>
</span></span><span style=display:flex><span>	<span style=color:#abb2bf>}()</span>
</span></span><span style=display:flex><span>	<span style=color:#76a9f9>return</span> <span style=color:#d19a66>6</span>
</span></span><span style=display:flex><span><span style=color:#abb2bf>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=td-page-meta__lastmod>最后修改 October 10, 2024: <a href=https://github.com/before80/go_docs/commit/a4b8f854f736d720ad19943e1274acc7bb0e3264>更新 (a4b8f85)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/before80/go_docs aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>作者zlongx</span></span><span class=td-footer__all_rights_reserved>保留所有权利</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>隐私政策</a></span><p class="td-footer__about mt-2"><a href=/go_docs/thirdPkg/lua/about/>关于</a></p></div></div></div></footer></div><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0,onReady(){const{autoLoader:e,builtInPlugins:t}=window.markmap;e.transformPlugins=t.filter(e=>e.name!=="prism")}}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/go_docs/js/main.min.4fb55790d81bdab4cd314586e186d385cad5508994c45abe27c6daee34d84160.js integrity="sha256-T7VXkNgb2rTNMUWG4YbThcrVUImUxFq+J8ba7jTYQWA=" crossorigin=anonymous></script>
<script defer src=/go_docs/js/click-to-copy.min.14c7dd84004258325d147b971421f1d4dfd3f28500954f32ef71d1cfd0938f51.js integrity="sha256-FMfdhABCWDJdFHuXFCHx1N/T8oUAlU8y73HRz9CTj1E=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3.6.0 integrity="sha512-FtDaTWf3IS29TLuYzTPlytjGqcXkwrzG9ivq7xXElnOZeiYTbcIy/hwXAgrrRNnI0+PfN+WFz4/+4phhJmuS8Q==" crossorigin=anonymous></script>
<script type=text/javascript>const containers=["#docsearch-0","#docsearch-1"];for(let e of containers)docsearch({container:e,appId:"DV76UK9EIH",apiKey:"227dec0ac6cbc8dfad748f27b2974507",indexName:"go-"})</script><script src=/go_docs/js/tabpane-persist.js></script>
<script src=/go_docs/js/tocbot.min.js></script>
<script src=/go_docs/js/markmap-autoloader.js></script>
<script type=text/javascript>window.addEventListener("load",function(){tocbot.init({tocSelector:".td-toc",contentSelector:".td-content",headingSelector:"h2, h3, h4, h5, h6",ignoreHiddenElements:!0,collapseDepth:6});let t=0,e=0,n=document.getElementById("show-timer"),s=document.getElementById("advice-reading-time"),o=s.textContent.trim();function i(){e++,e>=60&&(e=0,t++);let i=e<10?"0"+e:e;s!==null?n.textContent=t+":"+i+" <- "+o:n.textContent=t+":"+i}setInterval(i,1e3)})</script><script src=/go_docs/js/jquery-3.6.3.min.js></script>
<script src=/go_docs/js/deal-zero-width-space.js></script>
<script src=/go_docs/js/tabpane-persist.js></script></body></html>