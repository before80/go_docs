<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-cn class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/go_docs/favicons/favicon.ico><link rel=apple-touch-icon href=/go_docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/go_docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/go_docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/go_docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/go_docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/go_docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/go_docs/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/go_docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/go_docs/favicons/android-192x192.png sizes=192x192><title>如何编写 Delve 客户端——非正式指南 | Go 中文档集</title><meta name=description content="原文：https://github.com/go-delve/delve/blob/master/Documentation/api/Cli"><meta property="og:title" content="如何编写 Delve 客户端——非正式指南"><meta property="og:description" content="原文：https://github.com/go-delve/delve/blob/master/Documentation/api/Cli"><meta property="og:type" content="article"><meta property="og:url" content="https://before80.github.io/go_docs/delve/api/clienthowto/"><meta property="article:section" content="delve"><meta property="article:published_time" content="2024-12-09T07:57:43+08:00"><meta property="article:modified_time" content="2024-12-09T16:01:59+08:00"><meta itemprop=name content="如何编写 Delve 客户端——非正式指南"><meta itemprop=description content="原文：https://github.com/go-delve/delve/blob/master/Documentation/api/Cli"><meta itemprop=datePublished content="2024-12-09T07:57:43+08:00"><meta itemprop=dateModified content="2024-12-09T16:01:59+08:00"><meta itemprop=wordCount content="5659"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="如何编写 Delve 客户端——非正式指南"><meta name=twitter:description content="原文：https://github.com/go-delve/delve/blob/master/Documentation/api/Cli"><link rel=preload href=/go_docs/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css as=style><link href=/go_docs/scss/main.min.2412d9ce8d59c0bc460230f66fb6de2f724f349b5e83810ed8155cc1ecc54c1e.css rel=stylesheet integrity><link href=/go_docs/css/extra.css rel=stylesheet><link href=/go_docs/css/tocbot.css rel=stylesheet><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3.6.0 integrity="sha512-AyDFDkYyALC5qoao077IqAOV7UC4oKCBTp+mJfjIt306AIRoBxoEZYDo0kAx/R7RbT+3EYEky1po/F1w1eQt7g==" crossorigin=anonymous></head><body class=td-page><header><nav class="td-navbar navbar-dark js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/go_docs/><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class=navbar-brand__name>Go 中文档集</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=javascript:; id=show-timer style=color:#fe4512f5!important></a></li><li class=nav-item><a class=nav-link href=/go_docs/refs/><span>参考</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/comm/><span>对比</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/tools/><span>工具</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/langSpec/><span>语规</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/styleGuide/><span>编规</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/example/><span>示例</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/asu/><span>汇总</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/fx/><span>分析</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/docs/><span>文档</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/cmd/><span>go命令</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/stdLib/><span>标准库</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/thirdPkg/><span>第三方包</span></a></li><li class=nav-item><a class="nav-link active" href=/go_docs/delve/><span>delve</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/rod/><span>rod</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/goframe/><span>goframe</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/gorm/><span>gorm</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/echo/><span>echo</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/fiber/><span>fiber</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/buffalo/><span>buffalo</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/beego/><span>beego</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/goBlog/><span>官博</span></a></li><li class=nav-item><a class=nav-link href=/go_docs/proposal/><span>提案</span></a></li><li class="td-light-dark-menu nav-item dropdown"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5.0 010 .708l-7 7a.5.5.0 01-.708.0l-3.5-3.5a.5.5.0 11.708-.708L6.5 10.293l6.646-6.647a.5.5.0 01.708.0z"/></symbol><symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 108 1v14zm0 1A8 8 0 118 0a8 8 0 010 16z"/></symbol><symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768.0 01.08.858 7.208 7.208.0 00-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527.0 1.04-.055 1.533-.16a.787.787.0 01.81.316.733.733.0 01-.031.893A8.349 8.349.0 018.344 16C3.734 16 0 12.286.0 7.71.0 4.266 2.114 1.312 5.124.06A.752.752.0 016 .278z"/><path d="M10.794 3.148a.217.217.0 01.412.0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217.0 010 .412l-1.162.387A1.734 1.734.0 0011.593 7.69l-.387 1.162a.217.217.0 01-.412.0l-.387-1.162A1.734 1.734.0 009.31 6.593l-1.162-.387a.217.217.0 010-.412l1.162-.387a1.734 1.734.0 001.097-1.097l.387-1.162zM13.863.099a.145.145.0 01.274.0l.258.774c.115.346.386.617.732.732l.774.258a.145.145.0 010 .274l-.774.258a1.156 1.156.0 00-.732.732l-.258.774a.145.145.0 01-.274.0l-.258-.774a1.156 1.156.0 00-.732-.732l-.774-.258a.145.145.0 010-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/></symbol><symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 0zm0 13a.5.5.0 01.5.5v2a.5.5.0 01-1 0v-2A.5.5.0 018 13zm8-5a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2a.5.5.0 01.5.5zM3 8a.5.5.0 01-.5.5h-2a.5.5.0 010-1h2A.5.5.0 013 8zm10.657-5.657a.5.5.0 010 .707l-1.414 1.415a.5.5.0 11-.707-.708l1.414-1.414a.5.5.0 01.707.0zm-9.193 9.193a.5.5.0 010 .707L3.05 13.657a.5.5.0 01-.707-.707l1.414-1.414a.5.5.0 01.707.0zm9.193 2.121a.5.5.0 01-.707.0l-1.414-1.414a.5.5.0 01.707-.707l1.414 1.414a.5.5.0 010 .707zM4.464 4.465a.5.5.0 01-.707.0L2.343 3.05a.5.5.0 11.707-.707l1.414 1.414a.5.5.0 010 .708z"/></symbol></svg><button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center" id=bd-theme type=button aria-expanded=false data-bs-toggle=dropdown data-bs-display=static aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active"><use href="#circle-half"/></svg></button><ul class="dropdown-menu dropdown-menu-end" aria-labelledby=bd-theme-text><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=light aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#sun-fill"/></svg>
Light<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center" data-bs-theme-value=dark aria-pressed=false><svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"/></svg>
Dark<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li><li><button type=button class="dropdown-item d-flex align-items-center active" data-bs-theme-value=auto aria-pressed=true><svg class="bi me-2 opacity-50"><use href="#circle-half"/></svg>
Auto<svg class="bi ms-auto d-none"><use href="#check2"/></svg></button></li></ul></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search--algolia id=docsearch-1></div></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search--algolia id=docsearch-0></div></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-go_docsdelve-li><a href=/go_docs/delve/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-go_docsdelve><span>delve</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsdelveinstallation-li><input type=checkbox id=m-go_docsdelveinstallation-check>
<label for=m-go_docsdelveinstallation-check><a href=/go_docs/delve/installation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveinstallation><span>安装</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveinstallationwindows-li><input type=checkbox id=m-go_docsdelveinstallationwindows-check>
<label for=m-go_docsdelveinstallationwindows-check><a href=/go_docs/delve/installation/windows/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveinstallationwindows><span>windows</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveinstallationosx-li><input type=checkbox id=m-go_docsdelveinstallationosx-check>
<label for=m-go_docsdelveinstallationosx-check><a href=/go_docs/delve/installation/osx/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveinstallationosx><span>osx</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveinstallationlinux-li><input type=checkbox id=m-go_docsdelveinstallationlinux-check>
<label for=m-go_docsdelveinstallationlinux-check><a href=/go_docs/delve/installation/linux/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveinstallationlinux><span>linux</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveinstallationfreebsd-li><input type=checkbox id=m-go_docsdelveinstallationfreebsd-check>
<label for=m-go_docsdelveinstallationfreebsd-check><a href=/go_docs/delve/installation/freebsd/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveinstallationfreebsd><span>freebsd</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsdelveusage-li><input type=checkbox id=m-go_docsdelveusage-check>
<label for=m-go_docsdelveusage-check><a href=/go_docs/delve/usage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveusage><span>用法</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_version-li><input type=checkbox id=m-go_docsdelveusagedlv_version-check>
<label for=m-go_docsdelveusagedlv_version-check><a href=/go_docs/delve/usage/dlv_version/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_version><span>dlv_version</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_trace-li><input type=checkbox id=m-go_docsdelveusagedlv_trace-check>
<label for=m-go_docsdelveusagedlv_trace-check><a href=/go_docs/delve/usage/dlv_trace/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_trace><span>dlv_trace</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_test-li><input type=checkbox id=m-go_docsdelveusagedlv_test-check>
<label for=m-go_docsdelveusagedlv_test-check><a href=/go_docs/delve/usage/dlv_test/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_test><span>dlv_test</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_run-li><input type=checkbox id=m-go_docsdelveusagedlv_run-check>
<label for=m-go_docsdelveusagedlv_run-check><a href=/go_docs/delve/usage/dlv_run/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_run><span>dlv_run</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_relay-li><input type=checkbox id=m-go_docsdelveusagedlv_relay-check>
<label for=m-go_docsdelveusagedlv_relay-check><a href=/go_docs/delve/usage/dlv_relay/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_relay><span>dlv_relay</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_redirect-li><input type=checkbox id=m-go_docsdelveusagedlv_redirect-check>
<label for=m-go_docsdelveusagedlv_redirect-check><a href=/go_docs/delve/usage/dlv_redirect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_redirect><span>dlv_redirect</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_log-li><input type=checkbox id=m-go_docsdelveusagedlv_log-check>
<label for=m-go_docsdelveusagedlv_log-check><a href=/go_docs/delve/usage/dlv_log/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_log><span>dlv_log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_exec-li><input type=checkbox id=m-go_docsdelveusagedlv_exec-check>
<label for=m-go_docsdelveusagedlv_exec-check><a href=/go_docs/delve/usage/dlv_exec/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_exec><span>dlv_exec</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_debug-li><input type=checkbox id=m-go_docsdelveusagedlv_debug-check>
<label for=m-go_docsdelveusagedlv_debug-check><a href=/go_docs/delve/usage/dlv_debug/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_debug><span>dlv_debug</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_dap-li><input type=checkbox id=m-go_docsdelveusagedlv_dap-check>
<label for=m-go_docsdelveusagedlv_dap-check><a href=/go_docs/delve/usage/dlv_dap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_dap><span>dlv_dap</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_core-li><input type=checkbox id=m-go_docsdelveusagedlv_core-check>
<label for=m-go_docsdelveusagedlv_core-check><a href=/go_docs/delve/usage/dlv_core/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_core><span>dlv_core</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_connect-li><input type=checkbox id=m-go_docsdelveusagedlv_connect-check>
<label for=m-go_docsdelveusagedlv_connect-check><a href=/go_docs/delve/usage/dlv_connect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_connect><span>dlv_connect</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_backend-li><input type=checkbox id=m-go_docsdelveusagedlv_backend-check>
<label for=m-go_docsdelveusagedlv_backend-check><a href=/go_docs/delve/usage/dlv_backend/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_backend><span>dlv_backend</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv_attach-li><input type=checkbox id=m-go_docsdelveusagedlv_attach-check>
<label for=m-go_docsdelveusagedlv_attach-check><a href=/go_docs/delve/usage/dlv_attach/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv_attach><span>dlv_attach</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveusagedlv-li><input type=checkbox id=m-go_docsdelveusagedlv-check>
<label for=m-go_docsdelveusagedlv-check><a href=/go_docs/delve/usage/dlv/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveusagedlv><span>dlv</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-go_docsdelveapi-li><input type=checkbox id=m-go_docsdelveapi-check checked>
<label for=m-go_docsdelveapi-check><a href=/go_docs/delve/api/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveapi><span>api</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-go_docsdelveapiclienthowto-li><input type=checkbox id=m-go_docsdelveapiclienthowto-check checked>
<label for=m-go_docsdelveapiclienthowto-check><a href=/go_docs/delve/api/clienthowto/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveapiclienthowto><span class=td-sidebar-nav-active-item>如何编写 Delve 客户端——非正式指南</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveapijson-rpc-li><input type=checkbox id=m-go_docsdelveapijson-rpc-check>
<label for=m-go_docsdelveapijson-rpc-check><a href=/go_docs/delve/api/json-rpc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveapijson-rpc><span>JSON-RPC 接口</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveapidap-li><input type=checkbox id=m-go_docsdelveapidap-check>
<label for=m-go_docsdelveapidap-check><a href=/go_docs/delve/api/dap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveapidap><span>DAP 接口</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsdelvecli-li><input type=checkbox id=m-go_docsdelvecli-check>
<label for=m-go_docsdelvecli-check><a href=/go_docs/delve/cli/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelvecli><span>cli</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveclisubstitutepath-li><input type=checkbox id=m-go_docsdelveclisubstitutepath-check>
<label for=m-go_docsdelveclisubstitutepath-check><a href=/go_docs/delve/cli/substitutepath/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveclisubstitutepath><span>路径替换</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveclistarlark-li><input type=checkbox id=m-go_docsdelveclistarlark-check>
<label for=m-go_docsdelveclistarlark-check><a href=/go_docs/delve/cli/starlark/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveclistarlark><span>starlark</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveclilocspec-li><input type=checkbox id=m-go_docsdelveclilocspec-check>
<label for=m-go_docsdelveclilocspec-check><a href=/go_docs/delve/cli/locspec/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveclilocspec><span>位置说明符</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelvecligetting-started-li><input type=checkbox id=m-go_docsdelvecligetting-started-check>
<label for=m-go_docsdelvecligetting-started-check><a href=/go_docs/delve/cli/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelvecligetting-started><span>快速入门</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelvecliexpr-li><input type=checkbox id=m-go_docsdelvecliexpr-check>
<label for=m-go_docsdelvecliexpr-check><a href=/go_docs/delve/cli/expr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelvecliexpr><span>表达式</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-go_docsdelveinternal-li><input type=checkbox id=m-go_docsdelveinternal-check>
<label for=m-go_docsdelveinternal-check><a href=/go_docs/delve/internal/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-go_docsdelveinternal><span>内部文档</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveinternalportnotes-li><input type=checkbox id=m-go_docsdelveinternalportnotes-check>
<label for=m-go_docsdelveinternalportnotes-check><a href=/go_docs/delve/internal/portnotes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveinternalportnotes><span>portnotes</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveeditorintergration-li><input type=checkbox id=m-go_docsdelveeditorintergration-check>
<label for=m-go_docsdelveeditorintergration-check><a href=/go_docs/delve/editorintergration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveeditorintergration><span>编辑器集成</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelvebackend_test_health-li><input type=checkbox id=m-go_docsdelvebackend_test_health-check>
<label for=m-go_docsdelvebackend_test_health-check><a href=/go_docs/delve/backend_test_health/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelvebackend_test_health><span>后端测试健康状况</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelvefaq-li><input type=checkbox id=m-go_docsdelvefaq-check>
<label for=m-go_docsdelvefaq-check><a href=/go_docs/delve/faq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelvefaq><span>常见问题解答</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-go_docsdelveknownbugs-li><input type=checkbox id=m-go_docsdelveknownbugs-check>
<label for=m-go_docsdelveknownbugs-check><a href=/go_docs/delve/knownbugs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-go_docsdelveknownbugs><span>已知 Bug</span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://before80.github.io/go_docs/comm/coffee class="td-page-meta--view td-page-meta__view" style=color:#2bf518!important target=_blank rel=noopener><i class="fa-solid fa-mug-hot fa-fw"></i> 请作者喝杯咖啡吧</a>
<a href=https://github.com/before80/go_docs/tree/main/content/delve/api/clienthowto.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> 查看页面源码</a>
<a href=https://github.com/before80/go_docs/edit/main/content/delve/api/clienthowto.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 编辑此页</a>
<a href="https://github.com/before80/go_docs/new/main/content/delve/api?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 添加子页面</a>
<a href="https://github.com/before80/go_docs/issues/new?title=%e5%a6%82%e4%bd%95%e7%bc%96%e5%86%99%20Delve%20%e5%ae%a2%e6%88%b7%e7%ab%af%e2%80%94%e2%80%94%e9%9d%9e%e6%ad%a3%e5%bc%8f%e6%8c%87%e5%8d%97" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/before80/go_docs/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> 提交项目问题</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#how-to-write-a-delve-client-an-informal-guide---如何编写-delve-客户端非正式指南>How to write a Delve client, an informal guide - 如何编写 Delve 客户端——非正式指南</a><ul><li><a href=#启动后端-spawning-the-backend>启动后端 Spawning the backend</a></li><li><a href=#控制后端-controlling-the-backend>控制后端 Controlling the backend</a><ul><li><a href=#example>Example</a></li></ul></li><li><a href=#选择-api-版本-selecting-the-api-version>选择 API 版本 Selecting the API version</a></li><li><a href=#诊断-diagnostics>诊断 Diagnostics</a></li><li><a href=#using-rpcservercommand>Using RPCServer.Command</a><ul><li><a href=#处理同时触发的断点-dealing-with-simultaneous-breakpoints>处理同时触发的断点 Dealing with simultaneous breakpoints</a></li><li><a href=#特殊的继续命令-special-continue-commands>特殊的继续命令 Special continue commands</a></li><li><a href=#特殊的继续命令和异步断点-special-continue-commands-and-asynchronous-breakpoints>特殊的继续命令和异步断点 Special continue commands and asynchronous breakpoints</a></li><li><a href=#rpcservercommand-和陈旧的可执行文件-rpcservercommand-and-stale-executable-files>RPCServer.Command 和陈旧的可执行文件 RPCServer.Command and stale executable files</a></li></ul></li><li><a href=#using-rpcservercreatebreakpoint>Using RPCServer.CreateBreakpoint</a></li><li><a href=#查看变量-looking-into-variables>查看变量 Looking into variables</a><ul><li><a href=#加载更多的变量-loading-more-of-a-variable>加载更多的变量 Loading more of a Variable</a></li><li><a href=#变量遮蔽-variable-shadowing>变量遮蔽 Variable shadowing</a></li></ul></li><li><a href=#优雅地结束调试会话-gracefully-ending-the-debug-session>优雅地结束调试会话 Gracefully ending the debug session</a></li><li><a href=#测试客户端-testing-the-client>测试客户端 Testing the Client</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/go_docs/delve/>delve</a></li><li class=breadcrumb-item><a href=/go_docs/delve/api/>api</a></li><li class="breadcrumb-item active" aria-current=page>如何编写 Delve 客户端——非正式指南</li></ol></nav><div class=td-content><h1>如何编写 Delve 客户端——非正式指南</h1><header class=article-meta><p class=reading-time><i class="fa-solid fa-clock" style=color:#e90 aria-hidden=true></i>&nbsp; <span style=font-size:3rem;color:#006400 id=advice-reading-time>12 </span>分钟阅读 &nbsp;</p></header><blockquote><p>原文：<a href=https://github.com/go-delve/delve/blob/master/Documentation/api/ClientHowto.md>https://github.com/go-delve/delve/blob/master/Documentation/api/ClientHowto.md</a></p><p>收录该文档时间： <code>2024-12-09T07:57:43+08:00</code></p></blockquote><h1 id=how-to-write-a-delve-client-an-informal-guide---如何编写-delve-客户端非正式指南>How to write a Delve client, an informal guide - 如何编写 Delve 客户端——非正式指南</h1><h2 id=启动后端-spawning-the-backend>启动后端 Spawning the backend</h2><p>The <code>dlv</code> binary built by our <code>Makefile</code> contains both the backend and a simple command line client. If you are writing your own client you will probably want to run only the backend, you can do this by specifying the <code>--headless</code> option, for example:</p><p>​ 由 <code>Makefile</code> 构建的 <code>dlv</code> 二进制文件包含了后端和一个简单的命令行客户端。如果你正在编写自己的客户端，可能只想运行后端，可以通过指定 <code>--headless</code> 选项来实现，例如：</p><pre tabindex=0><code>$ dlv --headless debug
</code></pre><p>The rest of the command line remains unchanged. You can use <code>debug</code>, <code>exec</code>, <code>test</code>, etc&mldr; along with <code>--headless</code> and they will work. If this project is part of a larger IDE integration then you probably have your own build system and do not wish to offload this task to Delve, in that case it&rsquo;s perfectly fine to always use the <code>dlv exec</code> command but do remember that:</p><p>​ 命令行的其余部分保持不变。你可以与 <code>--headless</code> 一起使用 <code>debug</code>、<code>exec</code>、<code>test</code> 等命令，它们都能正常工作。如果这个项目是一个更大的 IDE 集成的一部分，那么你可能有自己的构建系统，不希望将这项任务交给 Delve。在这种情况下，始终使用 <code>dlv exec</code> 命令也是完全可以的，但请记住：</p><ol><li>Delve may not have all the information necessary to properly debug optimized binaries, so it is recommended to disable them via: <code>-gcflags='all=-N -l</code>. Delve 可能没有足够的信息来正确调试优化过的二进制文件，因此建议通过 <code>-gcflags='all=-N -l'</code> 禁用优化。</li><li>your users <em>do want</em> to debug their tests so you should also provide some way to build the test executable (equivalent to <code>go test -c --gcflags='all=-N -l'</code>) and pass it to Delve. 用户确实希望调试他们的测试，因此你也应该提供某种方式来构建测试可执行文件（等同于 <code>go test -c --gcflags='all=-N -l'</code>）并将其传递给 Delve。</li></ol><p>It would also be nice for your users if you provided a way to attach to a running process, like <code>dlv attach</code> does.</p><p>​ 如果你提供一种方法让用户附加到正在运行的进程上（像 <code>dlv attach</code> 那样），这对用户来说也是很好的体验。</p><p>Command line arguments that should be handed to the inferior process should be specified on dlv&rsquo;s command line after a &ldquo;&ndash;&rdquo; argument:</p><p>​ 应该传递给子进程的命令行参数应在 <code>dlv</code> 的命令行中指定，位置在 <code>--</code> 参数后面：</p><pre tabindex=0><code>dlv exec --headless ./somebinary -- these arguments are for the inferior process
</code></pre><p>Specifying a static port number, like in the <a href=https://github.com/go-delve/delve/tree/master/Documentation/README.md>README</a> example, can be done using <code>--listen=127.0.0.1:portnumber</code>.</p><p>​ 指定静态端口号，像在 <a href=https://github.com/go-delve/delve/tree/master/Documentation/README.md>README</a> 示例中那样，可以使用 <code>--listen=127.0.0.1:端口号</code>。</p><p>This will, however, cause problems if you actually spawn multiple instances of the debugger.</p><p>​ 然而，如果你实际上启动多个调试器实例，这会引发问题。</p><p>It&rsquo;s probably better to let Delve pick a random unused port number on its own. To do this do not specify any <code>--listen</code> option and read one line of output from dlv&rsquo;s stdout. If the first line emitted by dlv starts with &ldquo;API server listening at: " then dlv started correctly and the rest of the line specifies the address that Delve is listening at.</p><p>​ 更好的做法是让 Delve 自动选择一个未使用的随机端口号。为此，不要指定任何 <code>--listen</code> 选项，直接读取 <code>dlv</code> 的标准输出中的一行。如果 <code>dlv</code> 输出的第一行以 “API server listening at: ” 开头，那么 Delve 就已经正确启动了，后续的内容就是 Delve 正在监听的地址。</p><p>The <code>--log-dest</code> option can be used to redirect the &ldquo;API server listening at:&rdquo; message to a file or to a file descriptor. If the flag is not specified, the message will be output to stdout while other log messages are output to stderr.</p><p>​ 可以使用 <code>--log-dest</code> 选项将 “API server listening at:” 信息重定向到文件或文件描述符。如果未指定该标志，消息将输出到标准输出，而其他日志信息则输出到标准错误。</p><h2 id=控制后端-controlling-the-backend>控制后端 Controlling the backend</h2><p>Once you have a running headless instance you can connect to it and start sending commands. Delve&rsquo;s protocol is built on top of the <a href=https://www.jsonrpc.org/specification_v1>JSON-RPC 1.0 specification</a>.</p><p>​ 一旦你启动了一个无头实例，你就可以连接到它并开始发送命令。Delve 的协议基于 <a href=https://www.jsonrpc.org/specification_v1>JSON-RPC 1.0 规范</a>。</p><p>The methods of a <code>service/rpc2.RPCServer</code> are exposed through this connection, to find out which requests you can send see the documentation of RPCServer on <a href=https://pkg.go.dev/github.com/go-delve/delve/service/rpc2#RPCServer>Go Reference</a>.</p><p>​ <code>service/rpc2.RPCServer</code> 的方法通过这个连接暴露出来，想要了解你可以发送哪些请求，请参见 <a href=https://pkg.go.dev/github.com/go-delve/delve/service/rpc2#RPCServer>Go Reference</a> 中的 RPCServer 文档。</p><h3 id=example>Example</h3><p>Let&rsquo;s say you are trying to create a breakpoint. By looking at <a href=https://pkg.go.dev/github.com/go-delve/delve/service/rpc2#RPCServer>Go Reference</a> you&rsquo;ll find that there is a <code>CreateBreakpoint</code> method in <code>RPCServer</code>.</p><p>​ 假设你想要创建一个断点。通过查看 <a href=https://pkg.go.dev/github.com/go-delve/delve/service/rpc2#RPCServer>Go Reference</a>，你会发现 <code>RPCServer</code> 中有一个 <code>CreateBreakpoint</code> 方法。</p><p>This method, like all other methods of RPCServer that you can call through the API, has two arguments: <code>args</code> and <code>out</code>: <code>args</code> contains all the input arguments of <code>CreateBreakpoint</code>, while <code>out</code> is what <code>CreateBreakpoint</code> will return to you.</p><p>​ 这个方法就像所有其他可以通过 API 调用的 <code>RPCServer</code> 方法一样，有两个参数：<code>args</code> 和 <code>out</code>：<code>args</code> 包含 <code>CreateBreakpoint</code> 的所有输入参数，而 <code>out</code> 是 <code>CreateBreakpoint</code> 返回给你的内容。</p><p>The call that you could want to make, in pseudo-code, would be:</p><p>​ 你可能会想要调用的伪代码是：</p><pre tabindex=0><code>RPCServer.CreateBreakpoint(CreateBreakpointIn{ File: &#34;/User/you/some/file.go&#34;, Line: 16 })
</code></pre><p>To actually send this request on the JSON-RPC connection you just have to convert the CreateBreakpointIn object to json and then wrap everything into a JSON-RPC envelope:</p><p>​ 为了实际通过 JSON-RPC 连接发送这个请求，你只需将 <code>CreateBreakpointIn</code> 对象转换为 JSON，然后将所有内容包装进一个 JSON-RPC 信封：</p><pre tabindex=0><code>{&#34;method&#34;:&#34;RPCServer.CreateBreakpoint&#34;,&#34;params&#34;:[{&#34;Breakpoint&#34;:{&#34;file&#34;:&#34;/User/you/some/file.go&#34;,&#34;line&#34;:16}}],&#34;id&#34;:27}
</code></pre><p>Delve will respond by sending a response packet that will look like this:</p><p>​ Delve 将会发送一个响应包，内容如下：</p><pre tabindex=0><code>{&#34;id&#34;:27, &#34;result&#34;: {&#34;Breakpoint&#34;: {&#34;id&#34;:3, &#34;name&#34;:&#34;&#34;, &#34;addr&#34;:4538829, &#34;file&#34;:&#34;/User/you/some/file.go&#34;, &#34;line&#34;:16, &#34;functionName&#34;:&#34;main.main&#34;, &#34;Cond&#34;:&#34;&#34;, &#34;continue&#34;:false, &#34;goroutine&#34;:false, &#34;stacktrace&#34;:0, &#34;LoadArgs&#34;:null, &#34;LoadLocals&#34;:null, &#34;hitCount&#34;:{}, &#34;totalHitCount&#34;:0}}, &#34;error&#34;:null}
</code></pre><h2 id=选择-api-版本-selecting-the-api-version>选择 API 版本 Selecting the API version</h2><p>Delve currently supports two version of its API, APIv1 and APIv2. By default a headless instance of <code>dlv</code> will serve APIv1 for backward-compatibility with older clients, however new clients should use APIv2 as new features will only be made available through version 2. The preferred method of switching to APIv2 is to send the <code>RPCServer.SetApiVersion</code> command right after connecting to the backend. Alternatively the <code>--api-version=2</code> command line option can be used when spawning the backend.</p><p>​ Delve 当前支持两个版本的 API，APIv1 和 APIv2。默认情况下，无头实例的 <code>dlv</code> 将为兼容旧客户端而提供 APIv1，但新的客户端应该使用 APIv2，因为新功能仅会通过版本 2 提供。切换到 APIv2 的首选方法是在连接到后端后立即发送 <code>RPCServer.SetApiVersion</code> 命令。或者，也可以在启动后端时使用 <code>--api-version=2</code> 命令行选项。</p><h2 id=诊断-diagnostics>诊断 Diagnostics</h2><p>Just like any other program, both Delve and your client have bugs. To help with determining where the problem is you should log the exchange of messages between Delve and your client somehow.</p><p>​ 像任何其他程序一样，Delve 和你的客户端都有可能存在 bug。为了帮助确定问题所在，你应该以某种方式记录 Delve 和客户端之间的信息交换。</p><p>If you don&rsquo;t want to do this yourself you can also pass the options <code>--log --log-output=rpc</code> to Delve. In fact the <code>--log-output</code> has many useful values and you should expose it to users, if possible, so that we can diagnose problems that are hard to reproduce.</p><p>​ 如果你不想自己做这件事，你也可以将 <code>--log --log-output=rpc</code> 选项传递给 Delve。实际上，<code>--log-output</code> 具有许多有用的值，你应该尽可能将其暴露给用户，以便我们能够诊断那些难以重现的问题。</p><h2 id=using-rpcservercommand>Using RPCServer.Command</h2><p><code>Command</code> is probably the most important API entry point. It lets your client stop (<code>Name == "halt"</code>) and resume (<code>Name == "continue"</code>) execution of the inferior process.</p><p>​ <code>Command</code> 可能是最重要的 API 入口点。它允许你的客户端暂停（<code>Name == "halt"</code>）并恢复（<code>Name == "continue"</code>）子进程的执行。</p><p>The return value of <code>Command</code> is a <code>DebuggerState</code> object. If you lose the DebuggerState object returned by your last call to <code>Command</code> you can ask for a new copy with <code>RPCServer.State</code>.</p><p>​ <code>Command</code> 的返回值是一个 <code>DebuggerState</code> 对象。如果你丢失了通过 <code>Command</code> 调用返回的 <code>DebuggerState</code> 对象，你可以通过 <code>RPCServer.State</code> 请求一个新的副本。</p><h3 id=处理同时触发的断点-dealing-with-simultaneous-breakpoints>处理同时触发的断点 Dealing with simultaneous breakpoints</h3><p>Since Go is a programming language with a big emphasis on concurrency and parallelism it&rsquo;s possible that multiple goroutines will stop at a breakpoint simultaneously. This may at first seem incredibly unlikely but you must understand that between the time a breakpoint is triggered and the point where the debugger finishes stopping all threads of the inferior process thousands of CPU instructions have to be executed, which make simultaneous breakpoint triggering not that unlikely.</p><p>​ 由于 Go 是一门高度强调并发和并行的编程语言，因此多个 goroutine 可能会在同一个断点处同时停止。这看起来可能不太可能，但你必须理解，在一个断点被触发和调试器停止所有子进程线程之间，成千上万的 CPU 指令可能已经执行完毕，这使得同时触发断点并非不太可能。</p><p>You should signal to your user <em>all</em> the breakpoints that occur after executing a command, not just the first one. To do this iterate through the <code>Threads</code> array in <code>DebuggerState</code> and note all the threads that have a non nil <code>Breakpoint</code> member.</p><p>​ 你应该在执行命令后通知用户所有触发的断点，而不仅仅是第一个。为此，可以遍历 <code>DebuggerState</code> 中的 <code>Threads</code> 数组，并记录所有具有非空 <code>Breakpoint</code> 成员的线程。</p><h3 id=特殊的继续命令-special-continue-commands>特殊的继续命令 Special continue commands</h3><p>In addition to &ldquo;halt&rdquo; and vanilla &ldquo;continue&rdquo; <code>Command</code> offers a few extra flavours of continue that automatically set interesting temporary breakpoints: &ldquo;next&rdquo; will continue until the next line of the program, &ldquo;stepout&rdquo; will continue until the function returns, &ldquo;step&rdquo; is just like &ldquo;next&rdquo; but it will step into function calls (but skip all calls to unexported runtime functions).</p><p>​ 除了“halt”和普通的“continue”，<code>Command</code> 还提供了几种额外的继续命令，这些命令会自动设置一些有趣的临时断点：“next” 会继续直到程序的下一行，“stepout” 会继续直到函数返回，“step” 就像“next”一样，但它会进入函数调用（但会跳过所有调用未导出的运行时函数）。</p><p>All of &ldquo;next&rdquo;, &ldquo;step&rdquo; and &ldquo;stepout&rdquo; operate on the selected goroutine. The selected goroutine is described by the <code>SelectedGoroutine</code> field of <code>DebuggerState</code>. Every time <code>Command</code> returns the selected goroutine will be reset to the goroutine that triggered the breakpoint.</p><p>​ “next”、“step”和“stepout”都会操作选定的 goroutine。选定的 goroutine 由 <code>DebuggerState</code> 中的 <code>SelectedGoroutine</code> 字段描述。每次 <code>Command</code> 返回时，选定的 goroutine 都会被重置为触发断点的 goroutine。</p><p>If multiple breakpoints are triggered simultaneously the selected goroutine will be chosen randomly between the goroutines that are stopped at a breakpoint. If a breakpoint is hit by a thread that is executing on the system stack <em>there will be no selected goroutine</em>. If the &ldquo;halt&rdquo; command is called <em>there may not be a selected goroutine</em>.</p><p>​ 如果同时触发了多个断点，选定的 goroutine 会在停止在断点上的 goroutine 之间随机选择。如果一个断点是由一个在系统栈上执行的线程触发的，那么<em>将没有选定的 goroutine</em>。如果调用了“halt”命令<em>可能没有选定的 goroutine</em>。</p><p>The selected goroutine can be changed using the &ldquo;switchGoroutine&rdquo; command. If &ldquo;switchGoroutine&rdquo; is used to switch to a goroutine that&rsquo;s currently parked SelectedGoroutine and CurrentThread will be mismatched. Always prefer SelectedGoroutine over CurrentThread, you should ignore CurrentThread entirely unless SelectedGoroutine is nil.</p><p>​ 可以使用“switchGoroutine”命令来更改选定的 goroutine。如果使用“switchGoroutine”切换到当前停驻的 goroutine，则 <code>SelectedGoroutine</code> 和 <code>CurrentThread</code> 会不匹配。始终优先使用 <code>SelectedGoroutine</code>，除非它为 nil，否则你应该完全忽略 <code>CurrentThread</code>。</p><h3 id=特殊的继续命令和异步断点-special-continue-commands-and-asynchronous-breakpoints>特殊的继续命令和异步断点 Special continue commands and asynchronous breakpoints</h3><p>Because of the way go internals work it is not possible for a debugger to resume a single goroutine. Therefore it&rsquo;s possible that after executing a next/step/stepout a goroutine other than the goroutine the next/step/stepout was executed on will hit a breakpoint.</p><p>​ 由于 Go 的内部工作方式，调试器无法恢复单独的 goroutine。因此，执行 <code>next</code>、<code>step</code> 或 <code>stepout</code> 后，可能会有一个与执行该命令的 goroutine 不同的 goroutine 触发断点。</p><p>If this happens Delve will return a DebuggerState with NextInProgress set to true. When this happens your client has two options:</p><p>​ 如果发生这种情况，Delve 会返回一个 <code>DebuggerState</code>，并且 <code>NextInProgress</code> 会被设置为 <code>true</code>。在这种情况下，你的客户端有两个选择：</p><ul><li><p>You can signal that a different breakpoint was hit and then automatically attempt to complete the next/step/stepout by calling <code>RPCServer.Command</code> with <code>Name == "continue"</code></p><ul><li>你可以通知用户触发了不同的断点，然后自动尝试通过调用 <code>RPCServer.Command</code> 并设置 <code>Name == "continue"</code> 来完成 <code>next</code>、<code>step</code> 或 <code>stepout</code> 操作。</li></ul></li><li><p>You can abort the next/step/stepout operation using <code>RPCServer.CancelNext</code>.</p><ul><li>你可以使用 <code>RPCServer.CancelNext</code> 中止 <code>next</code>、<code>step</code> 或 <code>stepout</code> 操作。</li></ul></li></ul><p>It is important to note that while NextInProgress is true it is not possible to call next/step/stepout again without using CancelNext first. There can not be multiple next/step/stepout operations in progress at any time.</p><p>​ 重要的是要注意，当 <code>NextInProgress</code> 为 <code>true</code> 时，必须先使用 <code>CancelNext</code> 才能再次调用 <code>next</code>、<code>step</code> 或 <code>stepout</code>。在任何时候，不能同时进行多个 <code>next</code>、<code>step</code> 或 <code>stepout</code> 操作。</p><h3 id=rpcservercommand-和陈旧的可执行文件-rpcservercommand-and-stale-executable-files>RPCServer.Command 和陈旧的可执行文件 RPCServer.Command and stale executable files</h3><p>It&rsquo;s possible (albeit unfortunate) that your user will decide to change the source of the program being executed in the debugger, while the debugger is running. Because of this it would be advisable that your client check that the executable is not stale every time <code>Command</code> returns and notify the user that the executable being run is stale and line numbers may nor align properly anymore.</p><p>​ 有可能（虽然不太理想）用户会决定在调试器运行时更改正在调试的程序的源代码。因为这个原因，建议您的客户端每次 <code>Command</code> 返回时检查可执行文件是否已经过时，并通知用户正在运行的可执行文件已经过时，行号可能已经不再对齐。</p><p>You can do this bookkeeping yourself, but Delve can also help you with the <code>LastModified</code> call that returns the LastModified time of the executable file when Delve started it.</p><p>​ 您可以自己处理这些记录，但 Delve 也可以通过 <code>LastModified</code> 调用帮助您，它会返回 Delve 启动时可执行文件的最后修改时间。</p><h2 id=using-rpcservercreatebreakpoint>Using RPCServer.CreateBreakpoint</h2><p>The only two fields you probably want to fill of the Breakpoint argument of CreateBreakpoint are File and Line. The file name should be the absolute path to the file as the compiler saw it.</p><p>​ 您可能只需要填写 <code>CreateBreakpoint</code> 的 <code>Breakpoint</code> 参数中的两个字段：<code>File</code> 和 <code>Line</code>。文件名应为编译器看到的文件的绝对路径。</p><p>For example if the compiler saw this path:</p><p>​ 例如，如果编译器看到如下路径：</p><pre tabindex=0><code>/Users/you/go/src/something/something.go
</code></pre><p>But <code>/Users/you/go/src/something</code> is a symbolic link to <code>/Users/you/projects/golang/something</code> the path <em>must</em> be specified as <code>/Users/you/go/src/something/something.go</code> and <code>/Users/you/projects/golang/something/something.go</code> will not be recognized as valid.</p><p>​ 但 <code>/Users/you/go/src/something</code> 是 <code>/Users/you/projects/golang/something</code> 的符号链接，路径 <em>必须</em> 指定为 <code>/Users/you/go/src/something/something.go</code>，而 <code>/Users/you/projects/golang/something/something.go</code> 将不被识别为有效路径。</p><p>If you want to let your users specify a breakpoint on a function selected from a list of all functions you should specify the name of the function in the FunctionName field of Breakpoint.</p><p>​ 如果您希望让用户从所有函数的列表中选择一个函数来指定断点，您应该在 <code>Breakpoint</code> 的 <code>FunctionName</code> 字段中指定该函数的名称。</p><p>If you want to support the <a href=https://github.com/go-delve/delve/tree/master/Documentation/cli/locspec.md>same language as dlv&rsquo;s break and trace commands</a> you should call RPCServer.FindLocation and then use the returned slice of Location objects to create Breakpoints to pass to CreateBreakpoint: just fill each Breakpoint.Addr with the contents of the corresponding Location.PC.</p><p>​ 如果您想支持与 <code>dlv</code> 的 <code>break</code> 和 <code>trace</code> 命令相同的语言，您应该调用 <code>RPCServer.FindLocation</code>，然后使用返回的 <code>Location</code> 对象切片来创建断点并传递给 <code>CreateBreakpoint</code>：只需将每个 <code>Breakpoint.Addr</code> 填充为相应 <code>Location.PC</code> 的内容。</p><h2 id=查看变量-looking-into-variables>查看变量 Looking into variables</h2><p>There are several API entry points to evaluate variables in Delve:</p><p>​ Delve 提供了多个 API 入口来评估变量：</p><ul><li><p>RPCServer.ListPackageVars returns all global variables in all packages</p><ul><li><code>RPCServer.ListPackageVars</code> 返回所有包中的全局变量</li></ul></li><li><p>PRCServer.ListLocalVars returns all local variables of a stack frame</p><ul><li><code>RPCServer.ListLocalVars</code> 返回堆栈帧中的所有局部变量</li></ul></li><li><p>RPCServer.ListFunctionArgs returns all function arguments of a stack frame</p><ul><li><code>RPCServer.ListFunctionArgs</code> 返回堆栈帧中的所有函数参数</li></ul></li><li><p>RPCServer.Eval evaluates an expression on a given stack frame</p><ul><li><code>RPCServer.Eval</code> 在给定堆栈帧上评估一个表达式</li></ul></li></ul><p>All those API calls take a LoadConfig argument. The LoadConfig specifies how much of the variable&rsquo;s value should actually be loaded. Because of LoadConfig a variable could be loaded incompletely, you should always notify the user of this:</p><p>​ 所有这些 API 调用都接受一个 <code>LoadConfig</code> 参数。<code>LoadConfig</code> 指定应该加载变量值的多少。由于 <code>LoadConfig</code> 的存在，变量可能会被不完全加载，因此您应该始终通知用户这一点：</p><ul><li><p>For strings, arrays, slices <em>and structs</em> the load is incomplete if: <code>Variable.Len > len(Variable.Children)</code>. This can happen to structs even if LoadConfig.MaxStructFields is -1 when MaxVariableRecurse is reached.</p><ul><li>对于字符串、数组、切片 <em>和结构体</em>，如果加载不完整：<code>Variable.Len > len(Variable.Children)</code>。即使 <code>LoadConfig.MaxStructFields</code> 为 -1，当达到 <code>MaxVariableRecurse</code> 时，结构体也可能出现这种情况。</li></ul></li><li><p>For maps the load is incomplete if: <code>Variable.Len > len(Variable.Children) / 2</code></p><ul><li>对于映射，如果加载不完整：<code>Variable.Len > len(Variable.Children) / 2</code></li></ul></li><li><p>For interfaces the load is incomplete if the only children has the onlyAddr attribute set to true.</p><ul><li>对于接口类型，如果唯一的子项设置了 <code>onlyAddr</code> 属性为 <code>true</code>，则加载不完整。</li></ul></li></ul><h3 id=加载更多的变量-loading-more-of-a-variable>加载更多的变量 Loading more of a Variable</h3><p>You can also give the user an option to continue loading an incompletely loaded variable. To load a struct that wasn&rsquo;t loaded automatically evaluate the expression returned by:</p><p>​ 您还可以给用户提供一个选项，继续加载一个未完全加载的变量。要加载一个未自动加载的结构体，评估返回的表达式：</p><pre tabindex=0><code>fmt.Sprintf(&#34;*(*%q)(%#x)&#34;, v.Type, v.Addr)
</code></pre><p>where v is the variable that was truncated.</p><p>​ 其中 <code>v</code> 是被截断的变量。</p><p>To load more elements from an array, slice or string:</p><p>​ 要加载数组、切片或字符串中的更多元素：</p><pre tabindex=0><code>fmt.Sprintf(&#34;(*(*%q)(%#x))[%d:]&#34;, v.Type, v.Addr, len(v.Children))
</code></pre><p>To load more elements from a map:</p><p>​ 要加载映射中的更多元素：</p><pre tabindex=0><code>fmt.Sprintf(&#34;(*(*%q)(%#x))[%d:]&#34;, v.Type, v.Addr, len(v.Children)/2)
</code></pre><p>All the evaluation API calls except ListPackageVars also take a EvalScope argument, this specifies which stack frame you are interested in. If you are interested in the topmost stack frame of the current goroutine (or thread) use: <code>EvalScope{ GoroutineID: -1, Frame: 0 }</code>.</p><p>​ 所有评估 API 调用（除了 <code>ListPackageVars</code>）也接受一个 <code>EvalScope</code> 参数，它指定了您感兴趣的堆栈帧。如果您感兴趣的是当前 goroutine（或线程）的最上层堆栈帧，请使用：<code>EvalScope{ GoroutineID: -1, Frame: 0 }</code>。</p><p>More information on the expression language interpreted by RPCServer.Eval can be found <a href=https://github.com/go-delve/delve/tree/master/Documentation/cli/expr.md>here</a>.</p><p>​ 有关 <code>RPCServer.Eval</code> 解释的表达式语言的更多信息，可以在 <a href=https://github.com/go-delve/delve/tree/master/Documentation/cli/expr.md>此处</a> 查找。</p><h3 id=变量遮蔽-variable-shadowing>变量遮蔽 Variable shadowing</h3><p>Let&rsquo;s assume you are debugging a piece of code that looks like this:</p><p>​ 假设您正在调试如下代码：</p><pre tabindex=0><code>	for i := 0; i &lt; N; i++ {
		for i := 0; i &lt; M; i++ {
			f(i) // &lt;-- debugger is stopped here
		}
	}
</code></pre><p>The response to a ListLocalVars request will list two variables named <code>i</code>, because at that point in the code two variables named <code>i</code> exist and are in scope. Only one (the innermost one), however, is visible to the user. The other one is <em>shadowed</em>.</p><p>​ 对 <code>ListLocalVars</code> 请求的响应将列出两个名为 <code>i</code> 的变量，因为在代码的那个点，两个名为 <code>i</code> 的变量存在并且在作用域内。然而，只有一个（最内层的）对用户可见。另一个是 <em>遮蔽的</em>。</p><p>Delve will tell you which variable is shadowed through the <code>Flags</code> field of the <code>Variable</code> object. If <code>Flags</code> has the <code>VariableShadowed</code> bit set then the variable in question is shadowed.</p><p>​ Delve 会通过 <code>Variable</code> 对象的 <code>Flags</code> 字段告诉您哪个变量被遮蔽。如果 <code>Flags</code> 设置了 <code>VariableShadowed</code> 位，则该变量是被遮蔽的。</p><p>Users of your client should be able to distinguish between shadowed and non-shadowed variables.</p><p>​ 您的客户端用户应该能够区分遮蔽和非遮蔽的变量。</p><h2 id=优雅地结束调试会话-gracefully-ending-the-debug-session>优雅地结束调试会话 Gracefully ending the debug session</h2><p>To ensure that Delve cleans up after itself by deleting the <code>debug</code> or <code>debug.test</code> binary it creates and killing any processes spawned by the program being debugged, the <code>Detach</code> command needs to be called. In case you are disconnecting a running program, ensure to halt the program before trying to detach.</p><p>​ 为了确保 Delve 能够清理自己创建的 <code>debug</code> 或 <code>debug.test</code> 可执行文件，并杀死程序被调试时产生的任何进程，必须调用 <code>Detach</code> 命令。如果您要断开连接的程序正在运行，请确保在尝试分离之前停止该程序。</p><h2 id=测试客户端-testing-the-client>测试客户端 Testing the Client</h2><p>A set of <a href=https://github.com/aarzilli/delve_client_testing>example programs is available</a> to test corner cases in handling breakpoints and displaying data structures. Follow the instructions in the README.txt file.</p><p>​ 一组 <a href=https://github.com/aarzilli/delve_client_testing>示例程序</a> 可用来测试处理断点和显示数据结构时的边缘情况。请按照 README.txt 文件中的说明进行操作。</p><div class=td-page-meta__lastmod>最后修改 December 9, 2024: <a href=https://github.com/before80/go_docs/commit/e04502d69ce777f5fc63427a72ae112cb3451050>更新 (e04502d)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/before80/go_docs aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>作者zlongx</span></span><span class=td-footer__all_rights_reserved>保留所有权利</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>隐私政策</a></span><p class="td-footer__about mt-2"><a href=/go_docs/thirdPkg/lua/about/>关于</a></p></div></div></div></footer></div><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0,onReady(){const{autoLoader:e,builtInPlugins:t}=window.markmap;e.transformPlugins=t.filter(e=>e.name!=="prism")}}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/go_docs/js/main.min.4fb55790d81bdab4cd314586e186d385cad5508994c45abe27c6daee34d84160.js integrity="sha256-T7VXkNgb2rTNMUWG4YbThcrVUImUxFq+J8ba7jTYQWA=" crossorigin=anonymous></script>
<script defer src=/go_docs/js/click-to-copy.min.14c7dd84004258325d147b971421f1d4dfd3f28500954f32ef71d1cfd0938f51.js integrity="sha256-FMfdhABCWDJdFHuXFCHx1N/T8oUAlU8y73HRz9CTj1E=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3.6.0 integrity="sha512-FtDaTWf3IS29TLuYzTPlytjGqcXkwrzG9ivq7xXElnOZeiYTbcIy/hwXAgrrRNnI0+PfN+WFz4/+4phhJmuS8Q==" crossorigin=anonymous></script>
<script type=text/javascript>const containers=["#docsearch-0","#docsearch-1"];for(let e of containers)docsearch({container:e,appId:"DV76UK9EIH",apiKey:"227dec0ac6cbc8dfad748f27b2974507",indexName:"go-"})</script><script src=/go_docs/js/tabpane-persist.js></script>
<script src=/go_docs/js/tocbot.min.js></script>
<script src=/go_docs/js/markmap-autoloader.js></script>
<script type=text/javascript>window.addEventListener("load",function(){tocbot.init({tocSelector:".td-toc",contentSelector:".td-content",headingSelector:"h2, h3, h4, h5, h6",ignoreHiddenElements:!0,collapseDepth:6});let t=0,e=0,n=document.getElementById("show-timer"),s=document.getElementById("advice-reading-time"),o=s.textContent.trim();function i(){e++,e>=60&&(e=0,t++);let i=e<10?"0"+e:e;s!==null?n.textContent=t+":"+i+" <- "+o:n.textContent=t+":"+i}setInterval(i,1e3)})</script><script src=/go_docs/js/jquery-3.6.3.min.js></script>
<script src=/go_docs/js/deal-zero-width-space.js></script>
<script src=/go_docs/js/tabpane-persist.js></script></body></html>